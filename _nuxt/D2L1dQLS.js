import{n as e,a2 as a,a3 as s,bP as t,at as l,au as r,a7 as o,av as n,D as i,F as d,cr as c,E as u,bC as p,aW as m,a8 as v,c as x,o as _,M as h,H as g,S as f,b as w,bS as y,w as k,J as b,a as C,t as S,ac as F,aa as $,K as z,aw as A,bT as T,W as j,aq as E,aL as B,bX as R,d as M,bY as W,bZ as D,b_ as N,ax as Y,T as H,aT as V,aQ as U,aR as P,ca as Z,c9 as q,cs as I,c6 as J,ct as K,_ as L}from"./BA32e25q.js";import{E as O,a as Q}from"./BtweFsGM.js";import{E as X}from"./DYZ3_4qH.js";import"./DibjRb3r.js";import"./CJpU0XlD.js";import"./DVylue27.js";import"./C9Xc27XT.js";import"./DKHJCtvy.js";const G={class:"flex-1 h-[calc(100%-76px)] flex flex-col"},ee={key:0},ae={key:0,class:"flex flex-col items-center justify-center py-30px"},se={key:0,src:D},te={key:1,src:N},le={key:1},re={class:"text-12px mt-10px"},oe={class:"flex items-center"},ne={class:"text-[--third-text] text-10px mr-5px"},ie={class:"flex items-center"},de={class:"flex items-center mt-6px"},ce={class:"text-[--secondary-text]"},ue={key:0},pe={key:1,class:"text-[#666]"},me={key:0},ve={key:1,class:"text-[#666]"},xe=["href"],_e=["onClick"],he={class:"overflow-hidden whitespace-nowrap max-w-0 group-hover:max-w-[100px] transition-all duration-500 ease-in-out color-[--secondary-text]"},ge={key:1,class:"flex items-center mr-12px color-[var(--d-666-l-CCC)] cursor-not-allowed"},fe={class:"flex items-center justify-between mt-12px gap-12px"},we=L(e({__name:"index",setup(e){const D=a(),{updateNum3:N}=s(t()),L=l(),we=r(),ye=o(),{t:ke}=n(),{isDark:be}=s(a()),Ce=d({buttonRefs:{}}),Se=d(""),Fe=d(!1),$e=d({x:0,y:0}),ze=d({getBoundingClientRect:()=>({width:0,height:0,top:$e.value.y,left:$e.value.x,bottom:$e.value.y,right:$e.value.x}),get clientWidth(){return 0},get clientHeight(){return 0}}),Ae=d({}),Te=d(!1),je=d({total:0,page:1,pageSize:50}),Ee=d([]),{mode:Be}=s(a()),Re=u(()=>L.evmAddress||we.address);i(()=>we.walletSignature[we.address],e=>{e&&De()}),i(()=>N.value,()=>{De()}),i(()=>L.evmAddress,e=>{e?De():Ee.value=[]}),i(()=>we.address,e=>{e?De():Ee.value=[]});function Me(e){var a,s;const t=null==(s=null==(a=D.audioSettings)?void 0:a.wallet)?void 0:s.clickAction,l=ye.resolve({path:`/address/${e.user_address}/${e.user_chain}`});1===t?window.open(l.href,"_blank"):window.open(l.href,"_self")}const We=({prop:e,order:a})=>{e&&("ascending"===a?Ee.value=Ee.value.toSorted((a,s)=>a[e]-s[e]):"descending"===a&&(Ee.value=Ee.value.toSorted((a,s)=>s[e]-a[e])))},De=async()=>{var e;Te.value=!0;const a=await c({address:Re.value,pageNO:je.value.page,pageSize:je.value.pageSize,time_interval:"7d",sort_dir:"desc"}),s=a.data&&(null==(e=a.data)?void 0:e.map(e=>({...e,total_txs:Ne(e.total_sold).plus(Ne(e.total_purchase)).toString(),total_txs_usd:Ne(e.total_sold_usd).plus(Ne(e.total_purchase_usd)).toString()})))||[];je.value.total=a.total,Ee.value=s,Te.value=!1};function Ne(e){try{const a=new p(e);return a.isFinite()?a:new p(0)}catch(a){return new p(0)}}return m(()=>{(L.evmAddress||we.address)&&De()}),(e,a)=>{const s=H,t=Y,l=F,r=A,o=T,n=O,i=j,d=Q,c=X,u=V,p=U,m=v("copy"),D=y;return _(),x("div",G,[h((_(),g(d,{class:"mt-12px",height:je.value.total>50?"calc(100% - 84px)":"100%","row-class-name":"group",data:Ee.value,fit:"",onSortChange:We,onRowClick:Me},{empty:k(()=>[b(L).evmAddress||b(we).address?(_(),x("div",ee,[Te.value?(_(),x("span",le)):(_(),x("div",ae,["light"===b(Be)?(_(),x("img",se)):f("",!0),"dark"===b(Be)?(_(),x("img",te)):f("",!0),C("span",null,S(b(ke)("emptyNoData")),1)]))])):(_(),g(t,{key:1},{default:k(()=>[C("span",re,S(e.$t("noWalletTip")),1),w(s,{type:"primary",class:"mt-10px",onClick:a[0]||(a[0]=e=>b(L).$patch({connectVisible:!0}))},{default:k(()=>[M(S(e.$t("connectWallet")),1)]),_:1})]),_:1}))]),default:k(()=>[w(n,{label:b(ke)("address"),"min-width":"160"},{default:k(({row:e,$index:s})=>[C("div",oe,[C("span",ne," #"+S((je.value.page-1)*je.value.pageSize+s+1),1),(_(),g(l,{key:`${e.user_address}-${e.user_chain}`,ref:e=>Ce.value.buttonRefs[s]=e,name:"custom:attention",class:z([1===e.is_wallet_address_fav?"color-[#F45469]":"color-[--icon-color]","color-[--icon-color] text-12px clickable shrink-0"]),onClick:$(a=>(async e=>{we.address&&!we.walletSignature[we.address]&&await we.signMessageForFavorite(),Te.value=!0,(1===e.is_wallet_address_fav?J:K)({address:Re.value,user_address:e.user_address,user_chain:e.user_chain}).then(()=>{P.success(1===e.is_wallet_address_fav?ke("attention1Canceled"):ke("attention1Success")),De()}).catch(e=>{P.error(String(e))}).finally(()=>{Te.value=!1})})(e),["stop","prevent"])},null,8,["class","onClick"])),(_(),g(r,{key:`${e.user_address}-${e.user_chain}`,class:"mx-8px",wallet_logo:e.wallet_logo,address:e.user_address,chain:e.user_chain,iconSize:"32px"},null,8,["wallet_logo","address","chain"])),C("div",null,[C("div",ie,[(_(),g(o,{key:`${e.user_address}-${e.user_chain}`,remark:e.remark,address:e.user_address,chain:e.user_chain,addressClass:"token-symbol ellipsis py-0px! text-14px lh-none color-[--main-text]",addressStyle:"max-width: 85px",iconEditColor:b(be)?"#7C8BA2":"#9FA6B5",iconEditSize:"10px",showAddressTitle:"",formatAddress:e=>(null==e?void 0:e.slice(0,4))+"..."+(null==e?void 0:e.slice(-4))},null,8,["remark","address","chain","iconEditColor","formatAddress"]))]),C("div",de,[h(w(l,{name:"bxs:copy",class:"clickable text-[--third-text] w-12px h-12px",onClick:a[1]||(a[1]=$(()=>{},["stop","prevent"]))},null,512),[[m,null==e?void 0:e.user_address]]),w(l,{name:"custom:sun-icon",class:"text-12px w-12px h-12px mx-5px"}),w(l,{name:"custom:wallet-icon",class:"text-12px w-12px h-12px"})])])])]),_:1},8,["label"]),w(n,{label:b(ke)("noteTime"),align:"right"},{default:k(({row:a})=>[w(i,{placement:"right",content:b(E)(a.create_time).format("YYYY-MM-DD HH:mm:ss"),persistent:!1},{default:k(()=>[C("div",ce,S(("formatTimeFromNow"in e?e.formatTimeFromNow:b(B))(null==a?void 0:a.create_time)),1)]),_:2},1032,["content"])]),_:1},8,["label"]),w(n,{label:b(ke)("tokenBalance"),align:"right"},{default:k(({row:e})=>[C("div",null,[(null==e?void 0:e.main_token_balance_amount)>0?(_(),x("div",ue,S(b(R)((null==e?void 0:e.main_token_balance_amount)||0,2))+"Â "+S(e.main_token_symbol),1)):(_(),x("div",pe," 0 "))])]),_:1},8,["label"]),w(n,{label:b(ke)("walletTotalBalance"),align:"right"},{default:k(({row:e})=>[C("div",null,[(null==e?void 0:e.total_balance)>0?(_(),x("div",me," $"+S(b(R)((null==e?void 0:e.total_balance)||0,1)),1)):(_(),x("div",ve," $0 "))])]),_:1},8,["label"]),w(n,{label:b(ke)("pushTitle"),align:"right"},{default:k(({row:s})=>[C("div",{class:"flex flex-row-reverse",onClick:a[2]||(a[2]=$(()=>{},["stop"]))},[C("a",{class:"flex items-center color-[--secondary-text]",href:`https://t.me/AveSniperBot?start=fs-${s.user_chain}-${s.user_address}`,target:"_blank"},[w(l,{name:"custom:documentary-wallet",class:"text-16px mr-2px"}),M(" "+S(b(ke)("copyTrade")),1)],8,xe),("SupportMonitorChain"in e?e.SupportMonitorChain:b(W)).includes(null==s?void 0:s.user_chain)?(_(),x("div",{key:0,class:"flex items-center mr-12px cursor-pointer",onClick:e=>(async e=>{if(!L.evmAddress)return P.warning(ke("noBotWalletTip"));if(0===(null==e?void 0:e.is_monitored)){if(0===e.is_wallet_address_fav)return P.warning(ke("monitorError"));await Z({address:e.user_address,app:0,buy:1,chain:e.user_chain,sell:1,telegram:0,user_address:Re.value,website:1}).then(()=>{P.success(ke("success")),De()}).catch(e=>{P.error(String(e))})}else await q({address:e.user_address,uid:e.id}).then(()=>{P.success(ke("success")),De()})})(s)},[1===(null==s?void 0:s.is_monitored)?(_(),g(l,{key:0,name:"custom:monitor2-icon",class:"text-12px mr-5px mb--1px color-#999 group-hover:color-#3F80F7"})):(_(),g(l,{key:1,name:"custom:monitor-icon",class:"text-15px mr-2px mb-1px color-[var(--d-CCC-l-666)] group-hover:color-#3F80F7"})),C("span",he,S(1===(null==s?void 0:s.is_monitored)?b(ke)("pause"):b(ke)("enable")),1)],8,_e)):(_(),x("div",ge,[w(l,{name:"custom:monitor-icon",class:"text-15px mr-2px mb-1px"})]))])]),_:1},8,["label"])]),_:1},8,["height","data"])),[[D,Te.value]]),je.value.total>1?(_(),g(c,{key:0,"current-page":je.value.page,"onUpdate:currentPage":a[3]||(a[3]=e=>je.value.page=e),"page-size":je.value.pageSize,"onUpdate:pageSize":a[4]||(a[4]=e=>je.value.pageSize=e),class:"h-72px flex justify-end items-center",layout:"prev, pager, next, ->",total:je.value.total,"page-sizes":[10,20,30,40,50,60],"hide-on-single-page":"",onChange:De},null,8,["current-page","page-size","total"])):f("",!0),w(p,{visible:Fe.value,"virtual-ref":ze.value,"virtual-triggering":"",trigger:"click",width:250},{default:k(()=>[C("div",null,[C("div",null,S(b(ke)("editRemark")),1),w(u,{modelValue:Se.value,"onUpdate:modelValue":a[5]||(a[5]=e=>Se.value=e),clearable:"",maxlength:"20","show-word-limit":"",placeholder:b(ke)("enterRemark"),class:"mt-8px w-100%"},null,8,["modelValue","placeholder"]),C("div",fe,[C("div",{class:"flex-1 text-center cursor-pointer text-14px color-[--d-F5F5F5-l-333] bg-[--d-333-l-F2F2F2] px-12px py-8px rounded-4px",onClick:a[6]||(a[6]=e=>Fe.value=!1)},S(b(ke)("cancel")),1),C("div",{class:"flex-1 text-center cursor-pointer text-14px color-[#F5F5F5] bg-[#3F80F7] px-12px py-8px rounded-4px",onClick:a[7]||(a[7]=e=>(async e=>{if(Se.value.length>50)return P.error(ke("remarkError"));await I({remark:Se.value,user_address:e.user_address,user_chain:e.user_chain,self_address:Re.value}),P.success(ke("success")),Fe.value=!1,De()})(Ae.value))},S(b(ke)("confirm")),1)])])]),_:1},8,["visible","virtual-ref"])])}}}),[["__scopeId","data-v-2e398ec3"]]);export{we as default};
