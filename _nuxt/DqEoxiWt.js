import{n as e,at as l,qi as t,cG as a,aB as s,c as o,o as i,a5 as n,am as r,H as u,S as c,b as d,aa as p,ac as v,J as m,F as x,cD as y,aP as f,w as h,a as g,dA as k,t as b,aI as T,aH as w,aG as _,E as S,L as j,a9 as A,cE as $,d as L,af as B,qj as D,qk as F,ql as U,qm as C,qn as I,qo as q,d7 as H,cY as M,qp as z,qq as R,cZ as Y,_ as P,au as V,aA as W,a7 as E,a3 as O,a2 as N,by as X,av as G,D as Z,G as J,qr as K,qs as Q,aW as ee,M as le,bS as te,bt as ae,K as se,fF as oe,bC as ie,dT as ne,bZ as re,b_ as ue,ag as ce,ab as de,cc as pe,e6 as ve,bF as me,bA as xe,d8 as ye,cd as fe,aE as he,a6 as ge,ae as ke,aY as be,fD as Te,dZ as we}from"./BA32e25q.js";import{a as _e,E as Se}from"./BtweFsGM.js";import{E as je,a as Ae,b as $e}from"./DZLfZYZ1.js";import"./DibjRb3r.js";import"./CJpU0XlD.js";import{u as Le,S as Be}from"./eWoRzfEr.js";import"./C9Xc27XT.js";import"./3zf6s2PU.js";import"./CUUvXDpV.js";import"./CvVh_Tqi.js";import"./DZJY2dDC.js";import"./DVylue27.js";import"./DKHJCtvy.js";import"./BAb10Afe.js";import"./CfGjJCd4.js";import"./BSXl0vKR.js";import"./C3sa9HER.js";import"./DkzifPXs.js";import"./CAlFvYJa.js";import"./CpvQ3U7-.js";import"./BKOew_0Q.js";import"./B1LJqcq3.js";import"./DfrhFYiB.js";import"./_cwsZh5x.js";import"./YjAxuYX0.js";import"./BTvXMh4g.js";import"./DOOsJ3xh.js";import"./Doq9Q3yG.js";import"./BdznXzie.js";import"./nOBO0NN6.js";import"./BDJNuUo1.js";import"./BuUwmEEY.js";import"./D98F4-Yz.js";import"./CjrC5NtY.js";import"./CCIlIHYc.js";import"./D7Or0oKC.js";const De=["src"],Fe={class:"inline-block"},Ue={class:"flex flex-col"},Ce={class:"mt-5px block ml-auto text-10px color-#fff m-w-180px text-center"},Ie={class:"flex items-center justify-start mt-40px"},qe={class:"icon-token-container share",style:{"margin-right":"10px"}},He=["src"],Me=["src"],ze=["src"],Re={class:"text-20px"},Ye={class:"mt-5px text-[#666] block"},Pe={class:"mt-15px"},Ve={class:"text-[#999]"},We={class:"mt-20px share-table"},Ee={key:1,style:{color:"#999"}},Oe={key:1,style:{color:"#999"}},Ne={key:1,style:{color:"#999"}},Xe={key:1,style:{color:"#999"}},Ge={class:"absolute right-30px bottom-30px flex justify-end text-center"},Ze={class:"text-right mt-10px"},Je={class:"text-20px font-semibold block"},Ke={class:"text-12px mt-10px"},Qe={class:"ml-10px"},el=["src","alt"],ll={class:"text-14px font-400 mt-5px block"},tl={class:"flex justify-between mx-auto mt-20px text-12px w-300px color-#999"},al={class:"mt-8px"},sl=P(e({__name:"share",props:{statistics:{type:Object,required:!0},address:{type:String,required:!0},chain:{type:String,required:!0}},setup(e){const P=e,V=l(),W=S(()=>{var e;return!!(null==(e=null==V?void 0:V.userInfo)?void 0:e.evmAddress)}),E=x(!1),O=t("shareDom"),N=x(""),X=x(""),G=a(),Z=s(),J=S(()=>{var e;return{ups:Z.globalConfig.pc_share_image.replace(/^.*\|/,"").split(",").map(e=>Z.token_logo_url+"pc_share/"+e),downs:(null==(e=Z.globalConfig.pc_share_image)?void 0:e.replace(/\|.*$/,"")).split(",").map(e=>Z.token_logo_url+"pc_share/"+e)}}),K=x();async function Q(){var e,l,t;const a={token:2===(null==(e=P.statistics)?void 0:e.swapType)?null==(l=P.statistics)?void 0:l.inTokenAddress:P.statistics.outTokenAddress,acc:P.address},s=await q({...a});K.value={...P.statistics,...s,profitRate:null==s?void 0:s.profit_realized_ratio},E.value=!0,function(){const e=Z.globalConfig.inviter_url_v2||"https://share.ave.ai",l=H.get("refCode")||"",t=l?"&code="+l:"",a=e+"?lang="+G.locale+t;M.toDataURL(a,{margin:1}).then(e=>{X.value=e}).catch(e=>{})}(),function(e=!1){const l=e?J.value.ups:J.value.downs,t=(a=1,s=l.length,Math.floor(Math.random()*(s-a+1))+a);var a,s;N.value=l[t]||(e?z:R)}(Number(null==(t=P.statistics)?void 0:t.total_profit_ratio)>0)}function ee(){O.value&&Y(O.value,{backgroundColor:null,scale:3,allowTaint:!0,useCORS:!0,scrollY:0,scrollX:0}).then(e=>{!function(e,l){let t="";t="string"==typeof e?e:URL.createObjectURL(e);const a=document.createElement("a");a.href=t,a.download=l,a.click(),window.URL.revokeObjectURL(t)}(e.toDataURL("image/png"),`ave-${Date.now()}.png`)})}return(e,l)=>{const t=v,a=_,s=y;return i(),o(n,null,[r(e.$slots,"default",{},()=>[d(t,{name:"custom:share",class:"text-12px color-[--d-999-l-666] ml-6px cursor-pointer",onClick:p(Q,["self","stop"])})],!0),m(E)?(i(),u(s,{key:0,modelValue:m(E),"onUpdate:modelValue":l[2]||(l[2]=e=>f(E)?E.value=e:null),title:e.$t("share"),width:"628","append-to-body":"","destroy-on-close":""},{default:h(()=>{var t,s,r,u,v,x,y,f,_,S,q,H,M,z,R,Y,E,G,J,Q;return[g("div",null,[g("div",{ref_key:"shareDom",ref:O,class:"relative p-25px z-1"},[g("img",{class:"absolute w-588px left--1px top--1px z--1 h-[101%]",src:m(N),alt:"share"},null,8,De),g("div",Fe,[g("div",Ue,[l[3]||(l[3]=g("div",{class:"flex items-center"},[g("img",{src:k,class:"h-24px",height:"24",alt:"",srcset:""}),g("span",{class:"ml-5px text-20px"},"Ave.ai")],-1)),g("span",Ce,b(e.$t("campaignTitle")),1)])]),g("div",Ie,[g("div",qe,[d(a,{class:"token-icon token-logo",src:("getSymbolDefaultIcon"in e?e.getSymbolDefaultIcon:m(w))({logo_url:2===m(K).swapType?null==(t=m(K))?void 0:t.inTokenLogoUrl:m(K).outTokenLogoUrl,chain:m(K).chain,symbol:2===m(K).swapType?null==(s=m(K))?void 0:s.inTokenSymbol:m(K).outTokenSymbol})},{error:h(()=>{var e,l;return[g("img",{class:"token-icon",src:m(T)(null==(e=m(K))?void 0:e.chain,2===m(K).swapType?null==(l=m(K))?void 0:l.inTokenSymbol:m(K).outTokenSymbol),alt:"",srcset:""},null,8,He)]}),placeholder:h(()=>{var e,l;return[g("img",{class:"token-icon",src:m(T)(null==(e=m(K))?void 0:e.chain,2===m(K).swapType?null==(l=m(K))?void 0:l.inTokenSymbol:m(K).outTokenSymbol),alt:"",srcset:""},null,8,Me)]}),_:1},8,["src"]),(null==(r=m(K))?void 0:r.chain)?(i(),o("img",{key:0,class:"w-12px h-12px relative left-[-7px]",src:`${m(Z).token_logo_url}chain/${m(K).chain}.png`,alt:"",onerror:"this.src='/icon-default.png'",srcset:""},null,8,ze)):c("",!0)]),g("span",Re,b(2===m(K).swapType?null==(u=m(K))?void 0:u.inTokenSymbol:m(K).outTokenSymbol),1)]),g("span",Ye,b((null==(y=m(W)?null==(x=null==(v=m(V))?void 0:v.userInfo)?void 0:x.evmAddress:P.address)?void 0:y.slice(0,6))+"..."+(null==(S=m(W)?null==(_=null==(f=m(V))?void 0:f.userInfo)?void 0:_.evmAddress:P.address)?void 0:S.slice(-6))),1),g("div",Pe,[g("span",Ve,b(e.$t("RIO")),1),(null==(q=m(K))?void 0:q.profitRate)?(i(),o("div",{key:0,class:"mt-5px",style:j([{"font-size":"40px","font-weight":"700"},{color:(null==(H=m(K))?void 0:H.profitRate)>0?"#12B886":"#ff646d"}])},b((null==(M=m(K))?void 0:M.profitRate)>0?"+":"")+b(m(A)((null==(z=m(K))?void 0:z.profitRate)||0,1))+"%",5)):(i(),o("div",{key:1,class:"mt-5px",style:j([{"font-size":"40px","font-weight":"700"},{color:"#999"}])},"--"))]),g("table",We,[g("tbody",null,[g("tr",null,[g("td",{style:j({width:m($)(e.$t("campaignBuyAvg"))+20+"px"})},b(e.$t("campaignBuyAvg")),5),g("td",null,[(null==(R=m(K))?void 0:R.avg_buy_price)>0?(i(),o(n,{key:0},[L(" $"+b(m(A)((null==(Y=m(K))?void 0:Y.avg_buy_price)||0)),1)],64)):(i(),o("span",Ee,"--"))])]),g("tr",null,[g("td",{style:j({width:m($)(e.$t("campaignSellAvg"))+20+"px"})},b(e.$t("campaignSellAvg")),5),g("td",null,[(null==(E=m(K))?void 0:E.avg_sell_price)>0?(i(),o(n,{key:0},[L(" $"+b(m(A)((null==(G=m(K))?void 0:G.avg_sell_price)||0)),1)],64)):(i(),o("span",Oe,"--"))])]),g("tr",null,[g("td",{style:j({width:m($)(e.$t("campaignBuyTime"))+20+"px"})},b(e.$t("campaignBuyTime")),5),g("td",null,[(null==(J=m(K))?void 0:J.last_buy_time)?(i(),o(n,{key:0},[L(b(m(B)(m(K).last_buy_time,"YYYY-MM-DD HH:mm:ss")),1)],64)):(i(),o("span",Ne,"--"))])]),g("tr",null,[g("td",{style:j({width:m($)(e.$t("campaignSellTime"))+20+"px"})},b(e.$t("campaignSellTime")),5),g("td",null,[(null==(Q=m(K))?void 0:Q.last_sell_time)?(i(),o(n,{key:0},[L(b(m(B)(m(K).last_sell_time,"YYYY-MM-DD HH:mm:ss")),1)],64)):(i(),o("span",Xe,"--"))])])])]),g("div",Ge,[g("div",Ze,[g("span",Je,b(e.$t("campaignSubTitle")),1),g("span",Ke,b(e.$t("campaignDesc")),1)]),g("div",Qe,[g("img",{src:m(X),alt:e.$t("campaignScan"),width:"60px",height:"60px"},null,8,el),g("span",ll,b(e.$t("campaignScan")),1)])])],512),g("div",tl,[g("div",{class:"flex-col flex items-center cursor-pointer",onClick:p(ee,["stop"])},[l[4]||(l[4]=g("img",{src:D,height:"48",alt:"",srcset:""},null,-1)),g("span",al,b(e.$t("download")),1)]),g("div",{class:"flex-col flex items-center cursor-pointer",onClick:l[0]||(l[0]=p((...l)=>("jumpX"in e?e.jumpX:m(F))&&("jumpX"in e?e.jumpX:m(F))(...l),["stop"]))},[...l[5]||(l[5]=[g("img",{src:U,height:"48",alt:"",srcset:""},null,-1),g("span",{class:"mt-8px"},"Twitter",-1)])]),g("div",{class:"flex-col flex items-center cursor-pointer",onClick:l[1]||(l[1]=p((...l)=>("jumpTg"in e?e.jumpTg:m(C))&&("jumpTg"in e?e.jumpTg:m(C))(...l),["stop"]))},[...l[6]||(l[6]=[g("img",{src:I,height:"48",alt:"",srcset:""},null,-1),g("span",{class:"mt-8px"},"Telegram",-1)])])])])]}),_:1},8,["modelValue","title"])):c("",!0)],64)}}}),[["__scopeId","data-v-9e22b8c5"]]),ol={key:0,class:"flex flex-col items-center justify-center py-30px"},il={key:0,src:re},nl={key:1,src:ue},rl={key:1},ul={class:"flex items-center justify-start"},cl={class:"icon-token-container mr-5px"},dl={class:"relative"},pl=["src"],vl=["src"],ml=["src"],xl={class:"text-[var(--d-eaecef-l-333333)] text-13px"},yl={class:"flex items-center justify-start"},fl={class:"icon-token-container mr-5px"},hl={class:"relative"},gl=["src"],kl=["src"],bl=["src"],Tl={class:"text-[var(--d-eaecef-l-333333)] text-13px"},wl={class:"flex flex-row-reverse"},_l={class:"flex items-center"},Sl={key:0,style:{background:"rgba(18, 184, 134, 0.10)"},class:"text-13px text-center text-[#12B886] px-5px py-2px rounded-4px"},jl={key:1,style:{background:"rgba(246, 70, 93, 0.10)"},class:"text-13px text-center text-[#F6465D] px-5px py-2px rounded-4px"},Al={key:0,style:{background:"rgba(18, 184, 134, 0.10)"},class:"text-13px text-center text-[#12B886] px-5px py-2px rounded-4px"},$l={key:1,style:{background:"rgba(246, 70, 93, 0.10)"},class:"text-13px text-center text-[#F6465D] px-5px py-2px rounded-4px"},Ll={class:"text-[--secondary-text] text-right"},Bl={class:"text-[--secondary-text] text-right"},Dl={class:"text-[--secondary-text] text-right"},Fl={key:0,class:"text-[--secondary-text] text-right"},Ul={key:1,class:"text-[--secondary-text] text-right"},Cl={class:"flex flex-row-reverse"},Il={class:"flex items-center"},ql={class:"text-[--secondary-text] text-right truncate"},Hl={key:0},Ml={key:1,style:{color:"var(--down-color)","word-break":"break-all"}},zl={key:2},Rl={key:3},Yl={key:4,style:{color:"var(--custom-text-1-color)"}},Pl={class:"text-[--secondary-text] text-right"},Vl={class:"flex items-center flex-row-reverse"},Wl=P(e({__name:"unified",props:{chain:{type:String,required:!0},currentToken:{type:Boolean,required:!0},userAddress:{type:String,required:!0}},setup(e,{expose:t}){const{formatUnits:a}=oe,r=e,y=l(),f=V(),k=W(),j=E(),{mode:$}=O(N()),D=X(),{t:F}=G(),U=s(),C=N(),I=S(()=>{var e;return!!(null==(e=null==y?void 0:y.userInfo)?void 0:e.evmAddress)}),q=S(()=>I.value?r.chain:f.chain),H=S(()=>{var e;return r.currentToken&&(null==(e=ce(k.params.id||""))?void 0:e.address)||""}),M=x({isLimit:void 0,isBuy:void 0,statusType:""}),z=x([]),R=x(!1),Y=S(()=>Math.max(D.commonHeight-360,450));function P(e,l){if(!e||!l)return!1;if("solana"===e){return l.length>30&&!l.startsWith("0x")}if(["bsc","ethereum","polygon","arbitrum","base"].includes(e)){return l.startsWith("0x")&&42===l.length}return!0}function re(e){"all"===e?(M.value.isBuy=void 0,M.value.isLimit=void 0):"LimitSell"===e?(M.value.isBuy=0,M.value.isLimit=1):"LimitBuy"===e?(M.value.isBuy=1,M.value.isLimit=1):"MarketSell"===e?(M.value.isBuy=0,M.value.isLimit=0):"MarketBuy"===e&&(M.value.isBuy=1,M.value.isLimit=0),ve()}function ue(e){M.value.statusType="all"===e?"":e,ve()}function pe(e){let l;l=I.value?ye(e.swapType)?e.outTokenAddress:null==e?void 0:e.inTokenAddress:fe(e.swapType)?e.outTokenAddress:null==e?void 0:e.inTokenAddress,l&&j.push(`/token/${l}-${e.chain}`)}Z([()=>q.value,()=>r.userAddress,()=>r.currentToken,()=>k.params.id],([e,l])=>{P(e,l)&&J(()=>{ve()})},{immediate:!0});const ve=async()=>{var e;R.value=!0;try{const l=q.value;if(!P(l,r.userAddress))return void(R.value=!1);if(I.value){const t=await K({page:0,pageSize:1e3,chain:l,walletAddress:r.userAddress,token:H.value,timeSort:!0,tradeVolumeSort:!1,isSuccess:!1,status:M.value.statusType,isLimit:M.value.isLimit,isBuy:M.value.isBuy,tgUid:null==(e=null==y?void 0:y.userInfo)?void 0:e.tgUid,minTradeVolume:0,maxTradeVolume:1e5});z.value=t||[],C.mySwapList=t||[]}else{const e=H.value,t=await Q({chain:l,creatorAddress:r.userAddress,token:e,mode:1,onlySuccess:!1,pageSize:100,pageNo:1}),a=(null==t?void 0:t.list)||[];if(a.length>0){const e=a.map(he);z.value=e,C.mySwapList=e}else z.value=[],C.mySwapList=[]}}catch(l){}finally{R.value=!1}};function me(e){const l={1:F("buy"),2:F("sell"),3:"Wrap",4:"Unwrap",5:`${F("limit")}/${F("buy")}`,6:`${F("limit")}/${F("sell")}`,7:F("followBuy"),8:F("followSell"),12:F("trailingStop"),13:F("listingOnDex"),14:F("devSell")};return l[e]?l[e]:""}function xe(e){const l={1:F("buy"),2:F("sell"),3:F("limitBuy1"),4:F("limitSell1"),5:"Wrap",6:"Unwrap"};return l[e]?l[e]:""}function ye(e){return 1===e||5===e||7===e}function fe(e){return 1===e||3===e||5===e||7===e}function he(e){const l=parseFloat(e.outputAmount||"0"),t=parseFloat(e.inAmount||"0"),a=parseFloat(e.inPrice||"0"),s=parseFloat(e.outPrice||"0");return{chain:q.value,swapType:e.swapType,inTokenSymbol:e.inToken,outTokenSymbol:e.outToken,inTokenLogoUrl:e.inLogoUrl,outTokenLogoUrl:e.outLogoUrl,inTokenAddress:e.inTokenAddress,outTokenAddress:e.outTokenAddress,inTokenDecimals:e.inDecimals,outTokenDecimals:e.outDecimals,inPrice:a,outPrice:s,inValue:t*a/Math.pow(10,e.inDecimals||0),outValue:l*s/Math.pow(10,e.outDecimals||0),inAmount:t.toString(),outAmount:l.toString(),createTime:e.createTime,txHash:e.txHash,status:e.status,userAddress:e.creatorAddress,errorLog:e.errorLog||""}}return ee(()=>{ve()}),t({getTxHistory:ve,refreshData:()=>{ve()}}),(e,l)=>{var t;const s=_,x=Se,y=v,f=$e,k=Ae,S=je,j=_e,D=te;return i(),o("div",null,[le((i(),u(j,{data:z.value,fit:"",stripe:"",height:m(Y),"row-class-name":"text-12px","header-row-class-name":"text-12px",style:{width:"100%"},onRowClick:pe},{empty:h(()=>[R.value?(i(),o("span",rl)):(i(),o("div",ol,["light"===m($)?(i(),o("img",il)):c("",!0),"dark"===m($)?(i(),o("img",nl)):c("",!0),g("span",null,b(m(F)("emptyNoData")),1)]))]),default:h(()=>[d(x,{label:m(F)("token"),align:"left"},ae({_:2},[m(I)?{name:"default",fn:h(({row:e})=>[g("div",ul,[g("div",cl,[g("div",dl,[d(s,{class:"w-32px h-32px rounded-full",src:m(w)({chain:null==e?void 0:e.chain,symbol:ye(e.swapType)?e.outTokenSymbol:null==e?void 0:e.inTokenSymbol,logo_url:ye(e.swapType)?e.outTokenLogoUrl:null==e?void 0:e.inTokenLogoUrl})},{error:h(()=>[g("img",{class:"w-32px h-32px",src:m(T)(null==e?void 0:e.chain,ye(e.swapType)?e.outTokenSymbol:null==e?void 0:e.inTokenSymbol),alt:"",srcset:""},null,8,pl)]),placeholder:h(()=>[g("img",{class:"w-32px h-32px",src:m(T)(null==e?void 0:e.chain,ye(e.swapType)?e.outTokenSymbol:null==e?void 0:e.inTokenSymbol),alt:"",srcset:""},null,8,vl)]),_:2},1032,["src"]),(null==e?void 0:e.chain)?(i(),o("img",{key:0,class:"w-12px h-12px absolute bottom-3px right-0 rd-50%",src:`${m(U).token_logo_url}chain/${e.chain}.png`,alt:"",srcset:""},null,8,ml)):c("",!0)])]),g("span",xl,b(ye(e.swapType)?e.outTokenSymbol:null==e?void 0:e.inTokenSymbol),1)])]),key:"0"}:{name:"default",fn:h(({row:e})=>[g("div",yl,[g("div",fl,[g("div",hl,[d(s,{class:"w-32px h-32px rounded-full",src:m(w)({chain:null==e?void 0:e.chain,symbol:fe(e.swapType)?e.outTokenSymbol:null==e?void 0:e.inTokenSymbol,logo_url:fe(e.swapType)?e.outTokenLogoUrl:null==e?void 0:e.inTokenLogoUrl})},{error:h(()=>[g("img",{class:"w-32px h-32px",src:m(T)(null==e?void 0:e.chain,fe(e.swapType)?e.outTokenSymbol:null==e?void 0:e.inTokenSymbol),alt:"",srcset:""},null,8,gl)]),placeholder:h(()=>[g("img",{class:"w-32px h-32px",src:m(T)(null==e?void 0:e.chain,fe(e.swapType)?e.outTokenSymbol:null==e?void 0:e.inTokenSymbol),alt:"",srcset:""},null,8,kl)]),_:2},1032,["src"]),(null==e?void 0:e.chain)?(i(),o("img",{key:0,class:"w-12px h-12px absolute bottom-3px right-3px rd-50%",src:`${m(U).token_logo_url}chain/${e.chain}.png`,alt:"",srcset:""},null,8,bl)):c("",!0)])]),g("span",Tl,b(fe(e.swapType)?e.outTokenSymbol:null==e?void 0:e.inTokenSymbol),1)])]),key:"1"}]),1032,["label"]),d(x,{label:m(F)("type"),align:"right",prop:"isBuy"},{header:h(()=>[g("div",wl,[g("div",_l,[g("div",null,b(m(F)("type")),1),m(I)?(i(),u(S,{key:0,persistent:!1,trigger:"click",onCommand:re},{dropdown:h(()=>[d(k,null,{default:h(()=>[d(f,{command:"all"},{default:h(()=>[L(b(m(F)("all")),1)]),_:1}),d(f,{class:se([0===M.value.isBuy&&1===M.value.isLimit&&"active-dropdown-item"]),command:"LimitSell"},{default:h(()=>[L(b(m(F)("limit"))+"/"+b(m(F)("sell")),1)]),_:1},8,["class"]),d(f,{class:se([1===M.value.isBuy&&1===M.value.isLimit&&"active-dropdown-item"]),command:"LimitBuy"},{default:h(()=>[L(b(m(F)("limit"))+"/"+b(m(F)("buy")),1)]),_:1},8,["class"]),d(f,{class:se([0===M.value.isBuy&&0===M.value.isLimit&&"active-dropdown-item"]),command:"MarketSell"},{default:h(()=>[L(b(m(F)("market"))+"/"+b(m(F)("sell")),1)]),_:1},8,["class"]),d(f,{class:se([1===M.value.isBuy&&0===M.value.isLimit&&"active-dropdown-item"]),command:"MarketBuy"},{default:h(()=>[L(b(m(F)("market"))+"/"+b(m(F)("buy")),1)]),_:1},8,["class"])]),_:1})]),default:h(()=>{var e,l;return[d(y,{name:"custom:filter",class:se([[(null==(e=M.value)?void 0:e.isBuy)>=0&&(null==(l=M.value)?void 0:l.isLimit)>=0&&"color-#286DFF"],"color-[--third-text] cursor-pointer text-10px"])},null,8,["class"])]}),_:1})):c("",!0)])])]),default:h(({row:e})=>[m(I)?(i(),o(n,{key:0},[ye(e.swapType)?(i(),o("div",Sl,b(me(e.swapType)),1)):(i(),o("div",jl,b(me(e.swapType)),1))],64)):c("",!0),m(I)?c("",!0):(i(),o(n,{key:1},[fe(e.swapType)?(i(),o("div",Al,b(xe(e.swapType)),1)):(i(),o("div",$l,b(xe(e.swapType)),1))],64))]),_:1},8,["label"]),d(x,{label:m(F)("price"),align:"right"},ae({_:2},[m(I)?{name:"default",fn:h(({row:e})=>[g("div",Ll,"$"+b(ye(e.swapType)?m(A)((null==e?void 0:e.outPrice)||0):m(A)((null==e?void 0:e.inPrice)||0)),1)]),key:"0"}:{name:"default",fn:h(({row:e})=>[g("div",Bl,"$"+b(fe(e.swapType)?m(A)((null==e?void 0:e.outPrice)||0):m(A)((null==e?void 0:e.inPrice)||0)),1)]),key:"1"}]),1032,["label"]),d(x,{label:m(F)("volume4"),align:"right"},{default:h(({row:e})=>[g("div",Dl,"$"+b(m(A)(Number(null==e?void 0:e.inValue)||(null==e?void 0:e.outValue)||0,2)),1)]),_:1},8,["label"]),d(x,{label:m(F)("amount1"),align:"right"},{header:h(()=>[g("span",null,b(m(F)("amount1")),1)]),default:h(({row:e})=>[m(I)?(i(),o("span",Fl,[ye(e.swapType)?(i(),o(n,{key:1},[L(b(m(A)(m(a)(new(m(ie))((null==e?void 0:e.outAmount)||0).toFixed(0),e.outTokenDecimals||0).toString(),4))+" "+b(null==e?void 0:e.outTokenSymbol),1)],64)):(i(),o(n,{key:0},[L(b(m(A)(m(a)(new(m(ie))((null==e?void 0:e.inAmount)||0).toFixed(0),e.inTokenDecimals||0).toString(),4))+" "+b(null==e?void 0:e.inTokenSymbol),1)],64))])):(i(),o("span",Ul,[fe(e.swapType)?(i(),o(n,{key:1},[L(b("cancelled"===e.status?"0":m(A)(m(a)(new(m(ie))((null==e?void 0:e.outAmount)||0).toFixed(0),e.outTokenDecimals||0).toString(),4))+" "+b(null==e?void 0:e.outTokenSymbol),1)],64)):(i(),o(n,{key:0},[L(b("cancelled"===e.status?"0":m(A)(m(a)(new(m(ie))((null==e?void 0:e.inAmount)||0).toFixed(0),e.inTokenDecimals||0).toString(),4))+" "+b(null==e?void 0:e.inTokenSymbol),1)],64))]))]),_:1},8,["label"]),m(I)?(i(),u(x,{key:0,label:m(F)("status"),align:"right"},{header:h(()=>[g("div",Cl,[g("div",Il,[g("div",null,b(m(F)("status")),1),d(S,{persistent:!1,trigger:"click",onCommand:ue},{dropdown:h(()=>[d(k,null,{default:h(()=>[d(f,{command:"all"},{default:h(()=>[L(b(m(F)("all")),1)]),_:1}),d(f,{class:se(["confirmed"===M.value.statusType&&"active-dropdown-item"]),command:"confirmed"},{default:h(()=>[L(b(m(F)("completed")),1)]),_:1},8,["class"]),d(f,{class:se(["cancelled"===M.value.statusType&&"active-dropdown-item"]),command:"cancelled"},{default:h(()=>[L(b(m(F)("cancelled1")),1)]),_:1},8,["class"]),d(f,{class:se(["error"===M.value.statusType&&"active-dropdown-item"]),command:"error"},{default:h(()=>[L(b(m(F)("failed")),1)]),_:1},8,["class"]),d(f,{class:se(["auto_cancelled"===M.value.statusType&&"active-dropdown-item"]),command:"auto_cancelled"},{default:h(()=>[L(b(m(F)("autoCancelled")),1)]),_:1},8,["class"])]),_:1})]),default:h(()=>[d(y,{name:"custom:filter",class:se([[M.value.statusType&&"color-#286DFF"],"color-[--third-text] cursor-pointer text-10px"])},null,8,["class"])]),_:1})])])]),default:h(({row:l})=>[g("div",ql,["confirmed"===l.status?(i(),o("span",Hl,b(m(F)("completed")),1)):"error"===l.status?(i(),o("span",Ml,[L(b(m(F)("failed")),1),(null==l?void 0:l.errorLog)?(i(),o(n,{key:0},[L("("+b(("formatBotError"in e?e.formatBotError:m(ne))(null==l?void 0:l.errorLog))+")",1)],64)):c("",!0)])):"cancelled"===l.status?(i(),o("span",zl,b(m(F)("cancelled1")),1)):"auto_cancelled"===l.status?(i(),o("span",Rl,b(m(F)("autoCancelled")),1)):(i(),o("span",Yl,b(m(F)("pending")),1))])]),_:1},8,["label"])):c("",!0),d(x,{label:m(F)("CreateTime"),align:"right"},{default:h(({row:e})=>[g("span",Pl,b(m(B)(e.createTime,"YYYY/MM/DD HH:mm")),1)]),_:1},8,["label"]),d(x,{label:m(F)("operate"),align:"right"},{default:h(({row:e})=>[g("div",Vl,[d(y,{name:"custom:browser",class:"text-16px ml-8px clickable color-[--third-text]",onClick:p(l=>function(e){e.txHash&&window.open(de(e.chain,e.txHash,"tx"))}(e),["stop","prevent"])},null,8,["onClick"]),"confirmed"==e.status&&2===e.swapType&&"solana"===e.chain?(i(),u(sl,{key:0,statistics:e,address:m(I)?r.userAddress:e.userAddress,chain:e.chain},null,8,["statistics","address","chain"])):c("",!0)])]),_:1},8,["label"])]),_:1},8,["data","height"])),[[D,R.value&&!(null==(t=z.value)?void 0:t.length)]])])}}}),[["__scopeId","data-v-319e6cd6"]]),El={ref:"mySwap"},Ol={key:0,class:"px-12px mb-10px flex justify-between items-center"},Nl={key:0,class:"flex items-center whitespace-nowrap w-[80%] overflow-x-auto scrollbar-hide"},Xl=["onClick"],Gl={key:1,class:"flex items-center"},Zl={class:"flex items-center"},Jl={class:"transaction-stats"},Kl={class:"stat-item"},Ql={class:"stat-label text-[--third-text]"},et={class:"stat-value table-field-text text-[--secondary-text]"},lt={class:"stat-change table-field-text text-[--secondary-text]"},tt={class:"stat-item"},at={class:"stat-label text-[--third-text]"},st={class:"stat-item"},ot={class:"stat-label text-[--third-text]"},it={class:"stat-item"},nt={class:"stat-label text-[--third-text]"},rt={class:"stat-item"},ut={class:"stat-label text-[--third-text]"},ct={class:"stat-value table-field-text text-[--secondary-text]"},dt={class:"stat-change table-field-text text-[--secondary-text]"},pt={class:"stat-item"},vt={class:"stat-label text-[--third-text]"},mt={class:"stat-value table-field-text text-[--secondary-text]"},xt={class:"stat-change table-field-text text-[--secondary-text]"},yt=P(e({__name:"index",setup(e){var t;let a=[null,null,null];const s=l(),r=V(),{t:p}=G(),v=X(),y=W(),h=pe(),k=x(),T=null==(t=ce(y.params.id))?void 0:t.chain,w=x(T||r.chain||"solana"),_=ve("mySwapBotOrderOnlyCurrentToken",!0),$=x(),B=me("mySwap");Le($);const D=S(()=>{var e;return[...(null==(e=s.userInfo)?void 0:e.addresses)||[]].sort((e,l)=>"solana"===e.chain?-1:"solana"===l.chain?1:"bsc"===e.chain?-1:"bsc"===l.chain?1:0)}),F=S(()=>$.value?parseFloat($.value.balance_usd||0):0),U=S(()=>$.value?parseFloat((100*$.value.balance_ratio).toString()||"0"):0),C=S(()=>$.value?parseFloat($.value.total_profit||0):0),I=S(()=>$.value?ie($.value.total_profit_ratio||0).times(100).toFixed():0),q=S(()=>{var e,l;return $.value?$.value.symbol:null==(l=null==(e=v.tokenInfo)?void 0:e.token)?void 0:l.symbol}),H=S(()=>$.value?parseFloat(($.value.realized_profit||0).toString()||"0"):0),M=S(()=>{var e;return $.value&&"--"!==$.value.realized_ratio?ie((null==(e=$.value)?void 0:e.realized_ratio)||0).times(100).toString():0}),z=S(()=>$.value?parseFloat($.value.unrealized_profit||0):0),R=S(()=>$.value?parseFloat((100*$.value.unrealized_ratio).toString()||"0"):0),Y=S(()=>$.value&&$.value.total_purchase>0?A($.value.bought,4):"0"),P=S(()=>{const e=$.value?parseFloat($.value.average_purchase_price_usd||0):0;return e>0?`$${A(e,8)}`:"--"}),E=S(()=>$.value&&$.value.total_sold>0?A($.value.sold||0,4):"0"),O=S(()=>{const e=$.value&&"--"!==$.value.average_sold_price_usd?parseFloat($.value.average_sold_price_usd||0):0;return e>0?`$${A(e,8)}`:"--"}),N=me("selectWallet"),K=S(()=>{var e,l,t,a,o,i,n,u,c;return(null==(e=N.value)?void 0:e.evmAddress)?(null==(n=null==(i=null==(o=null==(a=null==(t=null==(l=null==s?void 0:s.walletList)?void 0:l.find)?void 0:t.call(l,e=>{var l;return e.evmAddress===(null==(l=N.value)?void 0:l.evmAddress)}))?void 0:a.addresses)?void 0:o.find)?void 0:i.call(o,e=>e.chain===w.value))?void 0:n.address)||"":(null==(u=null==s?void 0:s.userInfo)?void 0:u.evmAddress)?null==(c=D.value.find(e=>(null==e?void 0:e.chain)===w.value))?void 0:c.address:r.address||""});const Q=e=>e.startsWith("-")?e.slice(1):e,le=async()=>{var e;const l=r.address?r.chain:w.value;if(![...Te,"ton","polygon"].includes(l))return void($.value=null);const t=(null==(e=ce(y.params.id||""))?void 0:e.address)||"";if(!K.value||!t)return;const a={user_address:K.value,chain:l,user_token:t},s=await we(a);$.value=s[0]};let te=null,ae=0;function oe(){te&&(clearInterval(te),te=null),a.forEach(e=>{e&&(clearInterval(e),e=null)})}return Z(()=>h.wsResult[fe.TGBOT],e=>{var l,t;if(!e)return;const s=null==(l=ce(String(y.params.id)))?void 0:l.chain;D.value.find(e=>(null==e?void 0:e.chain)===s)&&(w.value=s),le(),null==(t=k.value)||t.getTxHistory(),setTimeout(()=>{var e;null==(e=k.value)||e.getTxHistory()},3e3),e.chain&&xe(e.chain)&&(a=[6e3,9e3,12e3].map((e,l)=>setTimeout(()=>{var e;null==(e=k.value)||e.getTxHistory()},e*(l+1)))),te?ae=0:te=ye(()=>{if(ae>=15)return te&&(clearInterval(te),te=null),void(ae=0);le(),ae+=1},2e3)},{immediate:!0}),Z([()=>y.params.id],()=>{var e;const l=null==(e=ce(String(y.params.id)))?void 0:e.chain;D.value.find(e=>(null==e?void 0:e.chain)===l)&&(w.value=l),oe(),le(),k.value&&k.value.getTxHistory()}),Z(K,()=>{le(),oe()}),ee(()=>{var e;const l=null==(e=ce(String(y.params.id)))?void 0:e.chain;D.value.find(e=>(null==e?void 0:e.chain)===l)&&(w.value=l),le()}),he(()=>{oe()}),(e,l)=>{var t,a,v,x,y,h,T;const S=be;return i(),o("div",El,[(null==(a=null==(t=m(s))?void 0:t.userInfo)?void 0:a.evmAddress)||m(r).address?(i(),o("div",Ol,[(null==(x=null==(v=m(s))?void 0:v.userInfo)?void 0:x.evmAddress)?(i(),o("div",Nl,[(i(!0),o(n,null,ge(D.value,e=>(i(),o("a",{key:e.chain,href:"javascript:;",class:se("decoration-none shrink-0 text-12px lh-16px text-center px-12px py-4px rounded-4px\n          "+(w.value===e.chain?"bg-[--border] color-[--main-text]":"color-[--third-text]")),onClick:l=>{return t=e.chain,w.value=t,void J(()=>{le()});var t}},b(m(ke)(e.chain).name),11,Xl))),128))])):(i(),o("div",Gl,[...l[1]||(l[1]=[g("span",{class:"text-12px text-[--third-text] px-12px py-4px"},null,-1)])])),g("div",Zl,[d(S,{modelValue:m(_),"onUpdate:modelValue":l[0]||(l[0]=e=>f(_)?_.value=e:null),label:m(p)("currentToken"),size:"small",style:{"font-size":"12px",color:"var(--d-666-l-333)"}},null,8,["modelValue","label"])]),m(s).evmAddress?(i(),u(Be,{key:2,ref:"selectWallet",chain:w.value,boundary:m(B)},null,8,["chain","boundary"])):c("",!0)])):c("",!0),g("div",Jl,[g("div",Kl,[g("div",Ql,b(m(p)("balance1")),1),g("div",et,"$"+b(m(A)(F.value,2)),1),g("div",lt,[L(b(m(A)((null==(y=$.value)?void 0:y.balance_amount)||0,4))+" "+b(q.value)+" ",1),g("span",{style:j({color:U.value>=0?"#12B886":"#ff646d"})}," ("+b(U.value>=0?"+":"")+b(m(A)(U.value,2))+"%) ",5)])]),g("div",tt,[g("div",at,b(m(p)("totalProfit")),1),g("div",{class:"stat-value table-field-text text-[--secondary-text]",style:j({color:C.value>=0?"#12B886":"#ff646d"})},b(C.value>=0?"+":"-")+"$"+b(Q(m(A)(C.value,2))),5),g("div",{class:"stat-change text-[--secondary-text]",style:j({color:I.value>=0?"#12B886":"#ff646d"})},b(I.value>=0?"+":"")+b(m(A)(I.value,2))+"% ",5)]),g("div",st,[g("div",ot,b(m(p)("realizedProfit")),1),g("div",{class:"stat-value table-field-text text-[--secondary-text]",style:j({color:H.value>=0?"#12B886":"#ff646d"})},b(H.value>=0?"+":"-")+"$"+b(Q(m(A)(H.value,2))),5),g("div",{class:"stat-change text-[--secondary-text]",style:j({color:M.value>=0?"#12B886":"#ff646d"})},b(M.value>=0?"+":"")+b(m(A)(M.value,2))+"% ",5)]),g("div",it,[g("div",nt,b(m(p)("unrealizedProfit")),1),g("div",{class:"stat-value table-field-text text-[--secondary-text]",style:j({color:z.value>=0?"#12B886":"#ff646d"})},b(z.value>=0?"+":"-")+"$"+b(Q(m(A)(z.value,2))),5),g("div",{class:"stat-change text-[--secondary-text]",style:j({color:R.value>=0?"#12B886":"#ff646d"})},b(R.value>=0?"+":"")+b(m(A)(R.value,2))+"% ",5)]),g("div",rt,[g("div",ut,b(m(p)("buyPriceWithSlash")),1),g("div",ct,b(Y.value)+" "+b(q.value),1),g("div",dt,b(P.value),1)]),g("div",pt,[g("div",vt,b(m(p)("sellPriceWithSlash")),1),g("div",mt,b(E.value)+" "+b(q.value),1),g("div",xt,b(O.value),1)])]),(null==(T=null==(h=m(s))?void 0:h.userInfo)?void 0:T.evmAddress)||m(r).address?(i(),u(Wl,{key:1,ref_key:"unifiedRef",ref:k,chain:w.value,currentToken:m(_),userAddress:K.value||""},null,8,["chain","currentToken","userAddress"])):c("",!0)],512)}}}),[["__scopeId","data-v-034365fb"]]);export{yt as default};
