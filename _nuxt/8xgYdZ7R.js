import{f as e,v as l,ah as t,y as a,r,g as o,j as p,m as i,K as s,o as n,Z as u,w as d,b as f,bd as c,J as m,i as v,be as b,N as g,a as y,H as h,d as x,t as _,_ as F}from"./CcL3nfnm.js";const w={class:"flex-between w-100%"},q=F(e({__name:"proPopover",props:{width:{type:String,default:"248"},required:{type:Boolean,default:!0},label:{type:String,default:""},prop:{type:String,default:""},placeholder:{type:String,default:""},modelValue:{type:String,default:""},rule:{type:Function,default:()=>{}},buttonRef:{type:Object,required:!0},maxlength:{type:Number,default:50},title:{type:String,default:""}},emits:["update:visible","update:modelValue","onConfirm","onCancel"],setup(e,{expose:F,emit:q}){const{t:S}=l(),{lang:V}=t(a()),k=e,C=q,{isDark:R}=t(a()),j=r(),z=o((()=>k.placeholder??S("placeholderPrefix")+k.label)),B=o((()=>({[k.prop]:[{required:k.required,message:k.label+(V.value.indexOf("zh")>-1?"":"&nbsp;")+S("cannotBeEmpty"),trigger:"blur"}]}))),D=r(),E=p({[k.prop]:k.modelValue});function N(){var e;null==(e=D.value)||e.resetFields(),O()}function O(){var e,l;null==(l=null==(e=v(j))?void 0:e.hide)||l.call(e)}return i((()=>E[k.prop]),(e=>{C("update:modelValue",e)})),F({close:O}),(e,l)=>{const t=g,a=b,r=h,o=c,p=u;return n(),s(p,{ref_key:"popoverRef",ref:j,width:null==k?void 0:k.width,trigger:"click",placement:"bottom","virtual-ref":k.buttonRef,"virtual-triggering":"",title:null==k?void 0:k.title,persistent:!1,teleported:!0,"popper-class":"","popper-style":"--el-popover-title-font-size:14px;--el-popover-title-text-color:var(--main-text)"},{default:d((()=>[f(o,{ref_key:"formRef",ref:D,model:v(E),rules:v(B),onSubmit:l[1]||(l[1]=m((e=>{var l;(l=v(D))&&l.validate(((e,l)=>{var t;e&&(C("onConfirm",E[k.prop]),null==(t=D.value)||t.resetFields())}))}),["prevent","stop"]))},{default:d((()=>[f(a,{prop:k.prop,required:k.required,"label-position":"top",size:"large",class:"mb-20px!"},{default:d((()=>[f(t,{modelValue:v(E)[k.prop],"onUpdate:modelValue":l[0]||(l[0]=e=>v(E)[k.prop]=e),class:"[&&]:[--el-fill-color-blank:var(--d-666-l-F2F2F2)] [%%]:[el-input__count-inner:transparent]",placeholder:v(z),maxlength:k.maxlength,"show-word-limit":"",clearable:""},null,8,["modelValue","placeholder","maxlength"])])),_:1},8,["prop","required"]),f(a,{class:"mb-0px!"},{default:d((()=>[y("div",w,[f(r,{class:"flex-1",color:v(R)?"#1F242C":"#D9E8FF",onClick:m(N,["stop","prevent"])},{default:d((()=>[x(_(e.$t("cancel")),1)])),_:1},8,["color"]),f(r,{type:"primary",class:"flex-1","native-type":"submit",color:"#3F80F7"},{default:d((()=>[x(_(e.$t("confirm")),1)])),_:1})])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["width","virtual-ref","title"])}}}),[["__scopeId","data-v-32a5b704"]]);export{q as default};
