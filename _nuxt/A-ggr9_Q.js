import{av as e,dE as t,bF as s,qH as i,a8 as a,c as r,o,b as l,a as p,ac as n,d as m,t as d,J as c,S as x,F as u,aw as v,M as j,L as b,E as g,a5 as f,a6 as w,K as h,ay as _,bN as y,bJ as k}from"./BA32e25q.js";import{u as E,_ as S,a as C}from"./BVDHjxGC.js";import{g as F,a as M}from"./C9RkjSYZ.js";import{u as q}from"./BwKJt56Q.js";import"./CiWnRH92.js";import"./BtweFsGM.js";import"./CJpU0XlD.js";import"./DibjRb3r.js";import"./C9Xc27XT.js";import"./DjSdA5N-.js";import"./CUUvXDpV.js";import"./Cnhw5fmz.js";import"./CjrC5NtY.js";import"./DZLfZYZ1.js";import"./3zf6s2PU.js";import"./CAlFvYJa.js";import"./dWAjaxRz.js";import"./C3sa9HER.js";import"./DkzifPXs.js";import"./DVylue27.js";import"./DKHJCtvy.js";import"./CfGjJCd4.js";import"./nOBO0NN6.js";import"./lAK5hw-l.js";import"./BDJNuUo1.js";import"./CKvFooy9.js";import"./D95h6xuI.js";import"./BXiBcsFD.js";import"./DYZ3_4qH.js";import"./vRPhKfhz.js";import"./Gcb4HCuJ.js";import"./BlpJZrjk.js";import"./CLQAjZFy.js";import"./BdznXzie.js";import"./CCIlIHYc.js";import"./DfrhFYiB.js";import"./DOOsJ3xh.js";/* empty css        */import"./PsuL3v3G.js";import"./BOWxkdOs.js";import"./12YRKLk1.js";import"./CaB903O0.js";const z={class:"flex items-center pb-14px border-b-1px border-b-solid border-b-[--border] mb-12px"},I={class:"flex justify-between items-center gap-16px mb-16px"},Y={class:"flex items-center gap-12px"},$={class:"flex justify-between items-center"},H={class:"min-w-0 flex-1 flex items-center gap-7px"},J={class:"flex-1 min-w-0"},K={class:"gap-8px flex items-center min-w-0"},L={key:0,width:12,src:S,alt:""},T={class:"text-12px color-[--secondary-text]"},A={key:0,class:"text-14px lh-20px color-[--main-text] mt-16px"},N={ref:"parent",class:"overflow-y-auto scrollbar-hide",style:{height:"calc(100% - 120px)"}},P=["data-index"],R={key:0,class:"border-1px border-solid border-[--dialog-divider] rounded-8px px-12px pt-16px ml-40px mb-16px"},V={__name:"authorIndex",setup(S){const{t:V}=e(),W=q(),X=t("twitter_author_id"),Z=u({}),B=u({loading:!1,finished:!1,page_token:""}),D=_([]),G=s("parent"),O=E(g(()=>({count:D.value.length,getScrollElement:()=>G.value,estimateSize:()=>200,overscan:5,gap:16}))),Q=g(()=>O.value.getVirtualItems()),U=g(()=>O.value.getTotalSize());i(G,k(()=>{te()},100),{distance:100});const ee=e=>D.value[e.index]||{};!async function(){const e=await F(X.value);Z.value=e}();const te=async()=>{if(!B.value.loading&&!B.value.finished){B.value.loading=!0;try{const e=await M(X.value,B.value.page_token);B.value.page_token=e.page_token||"";const t=e.list||[];B.value.finished=!e.page_token,B.value.page_token||B.value.finished?D.value=[...D.value,...t]:D.value=t,y(D)}catch(e){}finally{B.value.loading=!1}}};te();return(e,t)=>{const s=n,i=v,u=a("tooltip");return o(),r("div",{class:h(["w-full h-full bg-[--secondary-bg] p-12px",{"pr-16px":c(W).isLeftFixed,"pl-16px":c(W).isRightFixed}])},[l(s,{name:"custom:drag2",class:"absolute top-4px left-50% ml--6px text-6px bg-[--dialog-list-hover] drag-handle"}),p("div",z,[p("div",I,[l(s,{name:"material-symbols:arrow-back-ios-new-rounded",class:"cursor-pointer",onClick:t[0]||(t[0]=e=>X.value="")}),m(d(c(V)("home")),1)]),t[6]||(t[6]=p("div",{class:"flex-1 drag-handle h-20px"},null,-1)),p("div",Y,[l(s,{name:"custom:close",class:"text-14px shrink-0 cursor-pointer color-[--main-text]",onClick:t[1]||(t[1]=e=>c(W).visible=!1)})])]),p("div",null,[p("div",$,[p("div",H,[l(i,{"icon-size":"48px",class:"cursor-pointer",wallet_logo:{logo:c(Z).profile_pic,name:c(Z).name}},null,8,["wallet_logo"]),p("div",J,[p("div",K,[j((o(),r("span",{class:"color-[--main-text] text-16px lh-20px min-w-0 max-w-[calc(100%-80px)] truncate cursor-pointer",onClick:t[2]||(t[2]=t=>e.clickAvatar(c(Z).author_id))},[m(d(c(Z).name),1)])),[[u,c(Z).name]]),c(Z).blue_verified?(o(),r("img",L)):x("",!0)]),p("div",T,"@"+d(c(Z).username),1)])]),p("div",{class:"w-24px h-24px rounded-4px bg-[--main-list-hover] flex items-center justify-center cursor-pointer",onClick:t[3]||(t[3]=e=>{return t=c(Z).twitter_url,window.open(t);var t})},[l(s,{name:"custom:twitter"})])]),c(Z).bio?(o(),r("div",A,d(c(Z).bio),1)):x("",!0)]),t[7]||(t[7]=p("div",{class:"my-16px h-1px bg-[--dialog-divider]"},null,-1)),p("div",N,[p("div",{style:b({height:`${c(U)}px`,width:"100%",position:"relative"})},[(o(!0),r(f,null,w(c(Q),s=>(o(),r("div",{key:String(s.key),style:b({position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${s.start}px)`})},[p("div",{ref_for:!0,ref:e=>c(O).measureElement(e),"data-index":s.index,class:"border-b-1px border-b-solid border-b-[--border]"},[l(C,{item:ee(s),index:s.index,onMeasureElement:t[4]||(t[4]=t=>c(O).measureElement(e.el))},null,8,["item","index"]),["2","3","4"].includes(ee(s).type)&&(ee(s).retweeted_tweet||ee(s).quoted_tweet||ee(s).replied_tweet)?(o(),r("div",R,[l(C,{item:ee(s).retweeted_tweet||ee(s).quoted_tweet||ee(s).replied_tweet,index:-1,onMeasureElement:t[5]||(t[5]=t=>c(O).measureElement(e.el))},null,8,["item"])])):x("",!0)],8,P)],4))),128))],4)],512)],2)}}};export{V as default};
