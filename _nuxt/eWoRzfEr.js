const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./C2AkNcRf.js","./Dg2_FZEt.js","./DIFfro1Y.js","./Dlqr82Kd.js","./BA32e25q.js","./entry.Bu6XvzbP.css","./BMI4lmYb.js","./CRTtWgSO.js","./BXiBcsFD.js","./CJpU0XlD.js","./scrollbar.wwf0UyhQ.css","./CUUvXDpV.js","./netSelect.B1Q4n0JG.css","./BdznXzie.js","./BDJNuUo1.js","./CvVh_Tqi.js","./alert.D1SEbdVP.css","./DZJY2dDC.js","./xIcon.-1kN8h6i.css","./DVylue27.js","./DibjRb3r.js","./tag.D5zYjl71.css","./DKHJCtvy.js","./select.bnIT0Jy1.css","./BAb10Afe.js","./progress.C2s-rdyf.css","./CfGjJCd4.js","./3zf6s2PU.js","./C9Xc27XT.js","./remind.B6TrAqUJ.css","./BSXl0vKR.js","./arcProgress.C2KVeCWd.css","./C3sa9HER.js","./DkzifPXs.js","./input-number.HwP0nlBD.css","./CAlFvYJa.js","./switch.BHcx86ck.css","./slippageSet.10-w620G.css","./CpvQ3U7-.js","./BKOew_0Q.js","./B1LJqcq3.js","./color-picker-panel.DA7VoFEm.css","./DfrhFYiB.js","./index.C_AYb-jR.css","./_cwsZh5x.js","./YjAxuYX0.js","./date-picker-panel.CCEMxv2z.css","./BTvXMh4g.js","./DZLfZYZ1.js","./dropdown.BebM7Wof.css","./tabs.B9pYJVzC.css","./DOOsJ3xh.js","./slider.LN1DrOuY.css","./Doq9Q3yG.js","./vLoading.DP4dScFC.css","./nOBO0NN6.js","./BtweFsGM.js","./table.Cdl6t-Uy.css","./BuUwmEEY.js","./D98F4-Yz.js","./index.Z__kHujj.css","./CjrC5NtY.js","./radio-group.BLfk2hwF.css","./CCIlIHYc.js","./D7Or0oKC.js","./tBPvsF-I.js","./CWsBa_LT.js","./profitLoss.rWV4UtaI.css","./DtKTGO-u.js","./index.CnkWTJqX.css","./CtR5MlI-.js","./DN2qCl22.js","./proTag.I_eSLysf.css","./index.BS95Vf2o.css","./radio-button.BKANFUc1.css","./ieUkxp-u.js","./index.vSqoEtlI.css","./DqEoxiWt.js","./index.CzTTLOG3.css","./BLQXvzHV.js","./Bhf9Sz36.js","./index.D3IT8xdz.css"])))=>i.map(i=>d[i]);
import{_ as e,a as l}from"./CUUvXDpV.js";import{E as a}from"./CJpU0XlD.js";import{dq as t,aj as n,n as o,av as s,aA as i,ag as r,aW as u,D as d,E as c,ay as v,a8 as p,H as m,S as f,J as h,o as x,w as b,a as k,M as g,t as _,ac as y,c as w,a5 as T,a6 as C,e as A,b as S,L as N,dz as $,d as I,dA as F,aa as L,K as V,aP as B,aQ as D,_ as M,dB as P,dC as E,G as U,F as R,a2 as O,cg as H,by as j,at as z,au as W,a3 as q,cF as G,bP as Y,a9 as Q,aO as K,dD as X,ab as Z,af as J,W as ee,bZ as le,b_ as ae,dh as te,aR as ne,b$ as oe,cV as se,bn as ie,aE as re,P as ue,aB as de,dE as ce,dm as ve,dF as pe,cf as me,aH as fe,aG as he,aI as xe,aK as be,T as ke,bS as ge,aT as _e,aL as ye,bV as we,bW as Te,cL as Ce,bC as Ae,cJ as Se,dG as Ne,dH as $e,bK as Ie,ck as Fe,cP as Le,cO as Ve,cq as Be,co as De,cp as Me,dp as Pe,cT as Ee,cD as Ue,bm as Re,cG as Oe,dI as He,cc as je,dJ as ze,dK as We,dw as qe,dL as Ge,ae as Ye,bA as Qe,dM as Ke,cB as Xe,dN as Ze,dO as Je,dP as el,bx as ll,am as al,aY as tl,cm as nl,bw as ol,bB as sl,dQ as il,dR as rl,al as ul,dt as dl,dS as cl,d8 as vl,dy as pl,dx as ml,dT as fl,ds as hl,du as xl,dv as bl,dU as kl,dV as gl,dW as _l,bD as yl,dX as wl,dY as Tl,cd as Cl,dZ as Al,d_ as Sl,aX as Nl,cN as $l,d$ as Il,cS as Fl,bF as Ll,bz as Vl,e0 as Bl,R as Dl,bp as Ml,N as Pl,e1 as El,e2 as Ul,e3 as Rl,e4 as Ol,e5 as Hl,e6 as jl,e7 as zl,e8 as Wl,e9 as ql,cW as Gl,ea as Yl,eb as Ql,ec as Kl,ed as Xl,ee as Zl,ef as Jl,eg as ea,eh as la,ei as aa,ej as ta,ek as na,el as oa,em as sa,en as ia,eo as ra,ep as ua,eq as da,er as ca,es as va,et as pa,eu as ma,ev as fa,ew as ha,ex as xa,ey as ba,ez as ka,eA as ga,eB as _a,eC as ya,eD as wa,eE as Ta,eF as Ca,eG as Aa,eH as Sa,eI as Na,eJ as $a,eK as Ia,eL as Fa,eM as La,eN as Va,eO as Ba,eP as Da,eQ as Ma,eR as Pa,eS as Ea,eT as Ua,eU as Ra,eV as Oa,eW as Ha,eX as ja,eY as za,eZ as Wa,e_ as qa,e$ as Ga,f0 as Ya,f1 as Qa,f2 as Ka,f3 as Xa,f4 as Za,f5 as Ja,f6 as et,f7 as lt,f8 as at,f9 as tt,fa as nt,fb as ot,fc as st,aq as it,fd as rt,fe as ut,ff as dt,fg as ct,fh as vt,fi as pt,fj as mt,fk as ft,a4 as ht,fl as xt,I as bt,fm as kt,ax as gt,fn as _t,fo as yt,bN as wt,cj as Tt,ci as Ct,cn as At,cl as St,bE as Nt,cH as $t,fp as It,cQ as Ft,fq as Lt,fr as Vt,fs as Bt,ft as Dt,fu as Mt,ai as Pt,ah as Et,aw as Ut,bT as Rt,dl as Ot,ap as Ht,aM as jt,fv as zt,dk as Wt,fw as qt,fx as Gt,fy as Yt,d9 as Qt,bG as Kt,fz as Xt,fA as Zt,fB as Jt,fC as en,cK as ln,fD as an,a7 as tn,fE as nn,fF as on,fG as sn,fH as rn,fI as un,fJ as dn,fK as cn,fL as vn,fM as pn,fN as mn,ak as fn,fO as hn,a0 as xn}from"./BA32e25q.js";import{E as bn}from"./CvVh_Tqi.js";import{_ as kn,a as gn,b as _n}from"./DZJY2dDC.js";import{b as yn,E as wn,a as Tn}from"./DVylue27.js";import{E as Cn}from"./BAb10Afe.js";import"./DibjRb3r.js";import{_ as An,a as Sn,c as Nn,E as $n,b as In}from"./CfGjJCd4.js";import{_ as Fn,E as Ln}from"./BSXl0vKR.js";import{a as Vn,E as Bn,u as Dn,S as Mn}from"./C3sa9HER.js";import{a as Pn,_ as En,b as Un,c as Rn,g as On,u as Hn}from"./CpvQ3U7-.js";import{a as jn,_ as zn,K as Wn}from"./BKOew_0Q.js";import{_ as qn,a as Gn,E as Yn}from"./_cwsZh5x.js";import{E as Qn,a as Kn}from"./BTvXMh4g.js";import{E as Xn,a as Zn,b as Jn}from"./DZLfZYZ1.js";import{E as eo}from"./DOOsJ3xh.js";import{E as lo}from"./DkzifPXs.js";import{V as ao}from"./Doq9Q3yG.js";import{r as to,u as no,a as oo,b as so}from"./BdznXzie.js";import{E as io}from"./CAlFvYJa.js";import{_ as ro}from"./nOBO0NN6.js";import{a as uo,E as co}from"./BtweFsGM.js";import{u as vo}from"./BDJNuUo1.js";import{V as po}from"./BuUwmEEY.js";import{_ as mo}from"./D98F4-Yz.js";import{u as fo}from"./DfrhFYiB.js";import{a as ho,b as xo}from"./CjrC5NtY.js";import{_ as bo}from"./CCIlIHYc.js";import{U as ko}from"./D7Or0oKC.js";let go=[],_o=!1;let yo=0;const wo=()=>{if(0===go.length)return void(_o=!1);_o=!0;const e=go.shift(),l=Date.now()-yo,a=Math.max(0,500-l);setTimeout(()=>{t(e.options),yo=Date.now(),wo()},a)};const To={class:"filter-box"},Co={class:"flex-start"},Ao={class:"font_18 title"},So={class:"border mt-20px"},No={class:"holder"},$o={class:"item"},Io=["src"],Fo={class:"flex-between mt-10px"},Lo={class:"flex-start mt-10px"},Vo={class:"flex-start mt-10px"},Bo={class:"flex-start mt-10px"},Do={class:"flex-start mt-10px"},Mo={class:"mt-5px block text-10px color-[--secondary-text]"},Po=o({__name:"top50",setup(e){var l;const{t:a}=s(),t=i(),o=v(!1),M=v([]),P=c(()=>{var e;return null==(e=t.params)?void 0:e.id}),{chain:E}=r(null==(l=t.params)?void 0:l.id);function U(e){return{1:{color:"#12B886",icon:"custom-top50-holders",text:a("top50Holders")},2:{color:"#00B00F",icon:"custom-top50-holders",text:a("top50Increase")},3:{color:"#F6465D",icon:"custom-top50-sold",text:a("top50SSoldOut")},4:{color:"#F6465D",icon:"custom-top50-partial",text:a("top50PartialSale")}}[e]||""}function R(){(function(e){const{$api:l}=n();return l("/v1api/v3/stats/earlyholders",{method:"get",query:{token_id:e}})})(P.value).then(e=>{const l=Array.isArray(e)?null==e?void 0:e.slice(0,50):[];M.value=null==l?void 0:l.map(e=>{var l;return{...e,new_tags:null==(l=e.new_tags)?void 0:l.filter(e=>["25","30","31"].includes((null==e?void 0:e.type)??""))}})}).catch(e=>{}).finally(()=>{})}return u(()=>{R()}),d(()=>t.params.id,()=>{R()}),(e,l)=>{var t;const n=y,s=A,i=D,r=p("tooltip");return(null==(t=h(M))?void 0:t.length)>0?(x(),m(i,{key:0,visible:h(o),"onUpdate:visible":l[1]||(l[1]=e=>B(o)?o.value=e:null),persistent:!1,placement:"bottom","popper-class":"chains-table-filter",title:"",width:370,trigger:"click"},{reference:b(()=>{var e,a,t,o,s,i;return[k("a",{class:"top50 bg-btn text-10px",href:"",onClick:l[0]||(l[0]=L(()=>{},["stop","prevent"]))},[S(n,{name:"custom:top",class:"text-[--third-text] h-10px mr-2px"}),k("span",{class:V(["text-10px",{text:((null==(a=null==(e=h(M))?void 0:e.filter(e=>4==(null==e?void 0:e.tag_type)||1==(null==e?void 0:e.tag_type)||2==(null==e?void 0:e.tag_type)))?void 0:a.length)||0)/Math.min((null==(t=h(M))?void 0:t.length)||50)>1/3}])},_((null==(s=null==(o=h(M))?void 0:o.filter(e=>4==(null==e?void 0:e.tag_type)||1==(null==e?void 0:e.tag_type)||2==(null==e?void 0:e.tag_type)))?void 0:s.length)||0),3),I(" /"+_(Math.min((null==(i=h(M))?void 0:i.length)||50))+" ",1),S(n,{name:"material-symbols:arrow-forward-ios-rounded",class:"text-10px"})])]}),default:b(()=>{var e,t,o,i,u,d,c,v,p,y,A,L,V,B,D,P,R,O;return[k("div",To,[k("div",Co,[k("span",Ao,_("early"==(null==(e=h(M)[0])?void 0:e.tag)?h(a)("top50TitleHold"):h(a)("top50TitleEarly")),1),"early"==(null==(t=h(M)[0])?void 0:t.tag)?g((x(),m(n,{key:0,class:"text-14px ml-5px mt-2px color-[--third-text] cursor-pointer",name:"mi:circle-warning"},null,512)),[[r,{content:h(a)("top50TitleTip"),props:{placement:"top",persistent:!1,"popper-class":"[&&]:[--el-text-color-primary:--dialog-list-hover]!"}}]]):f("",!0)]),k("div",So,[k("div",No,[(x(!0),w(T,null,C(h(M),(e,l)=>{var a;return x(),w("div",{key:l},[U(e.tag_type)?g((x(),m(s,{key:0,to:`/address/${e.account_address}/${h(E)}`},{default:b(()=>{var l,a,t,o;return[k("div",$o,[S(n,{class:"dot iconfont font-10 mr-5px color-red-6",name:null==(l=U(e.tag_type))?void 0:l.icon,style:N({color:null==(a=U(e.tag_type))?void 0:a.color})},null,8,["name","style"]),(null==(t=null==e?void 0:e.new_tags)?void 0:t.length)>0?(x(),w("img",{key:0,style:{"max-width":"10px","max-height":"10px"},class:"mr-3",src:h($)(null==(o=e.new_tags[0])?void 0:o.icon),alt:""},null,8,Io)):f("",!0)])]}),_:2},1032,["to"])),[[r,{content:null==(a=U(e.tag_type))?void 0:a.text,props:{placement:"top",hideAfter:0,persistent:!1}}]]):f("",!0)])}),128))]),k("div",Fo,[k("div",null,[k("div",Lo,[S(n,{class:"dot iconfont font-10 mr-5px color-red-6",name:null==(o=U(1))?void 0:o.icon,style:N({color:null==(i=U(1))?void 0:i.color})},null,8,["name","style"]),I(" "+_(h(a)("top50Holders"))+"："+_((null==(d=null==(u=h(M))?void 0:u.filter(e=>1==e.tag_type))?void 0:d.length)||0),1)]),k("div",Vo,[S(n,{class:"dot iconfont font-10 mr-5px color-red-6",name:null==(c=U(3))?void 0:c.icon,style:N({color:null==(v=U(3))?void 0:v.color})},null,8,["name","style"]),I(" "+_(h(a)("top50SSoldOut"))+"："+_((null==(y=null==(p=h(M))?void 0:p.filter(e=>3==e.tag_type))?void 0:y.length)||0),1)])]),k("div",null,[k("div",Bo,[S(n,{class:"dot iconfont font-10 mr-5px color-red-6",name:null==(A=U(2))?void 0:A.icon,style:N({color:null==(L=U(2))?void 0:L.color})},null,8,["name","style"]),I(" "+_(h(a)("top50Increase"))+"："+_((null==(B=null==(V=h(M))?void 0:V.filter(e=>2==e.tag_type))?void 0:B.length)||0),1)]),k("div",Do,[S(n,{class:"dot iconfont font-10 mr-5px color-red-6",name:null==(D=U(4))?void 0:D.icon,style:N({color:null==(P=U(4))?void 0:P.color,"margin-top":"2px"})},null,8,["name","style"]),I(" "+_(h(a)("top50PartialSale"))+"："+_((null==(O=null==(R=h(M))?void 0:R.filter(e=>4==e.tag_type))?void 0:O.length)||0),1)])])])]),l[2]||(l[2]=k("div",{class:"flex-start mt-20px"},[k("img",{src:F,style:{height:"17px"},height:"17",alt:"",srcset:""}),k("span",{class:"ml-5px font-14"},"Ave.ai")],-1)),k("span",Mo,_(h(a)("campaignTitle")),1)])]}),_:1},8,["visible"])):f("",!0)}}}),Eo=M(Po,[["__scopeId","data-v-a008843e"]]),Uo="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1748070261395'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='17677'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M509.085538%20357.612308v115.554461c0%2019.219692%2015.596308%2034.894769%2034.816%2034.894769h50.806154L475.451077%20640.393846V524.839385a34.816%2034.816%200%200%200-34.816-34.816H389.907692l119.177846-132.489847zM279.788308%20538.860308c5.671385%2012.603077%2018.116923%2020.716308%2031.822769%2020.716307h94.208v171.638154a34.894769%2034.894769%200%200%200%2060.731077%2023.315693l232.290461-258.12677a34.816%2034.816%200%200%200-25.993846-58.131692H578.796308V266.791385a34.737231%2034.737231%200%200%200-60.652308-23.394462l-232.369231%20258.126769a34.816%2034.816%200%200%200-5.907692%2037.415385z%20m595.731692-91.529846c0%20318.857846-298.141538%20448.748308-383.212308%20479.232C407.236923%20896.157538%20109.095385%20766.267077%20109.095385%20447.409231V202.279385c203.618462-42.535385%20287.428923-81.132308%20383.842461-128.787693%2090.742154%2045.528615%20177.152%2085.779692%20382.582154%20128.787693V447.409231z%20m41.747692-307.672616C688.285538%2093.892923%20609.043692%2053.878154%20508.691692%203.387077a38.045538%2038.045538%200%200%200-32.610461%200.630154C374.468923%2054.508308%20294.045538%2094.365538%2067.347692%20139.736615A34.816%2034.816%200%200%200%2039.384615%20173.843692V447.409231c0%20382.503385%20368.009846%20524.603077%20441.895385%20549.179077a34.894769%2034.894769%200%200%200%2022.055385%200c73.806769-24.576%20441.895385-166.675692%20441.895384-549.179077V173.843692a34.816%2034.816%200%200%200-28.041846-34.107077z'%20fill='%23EC4343'%20p-id='17678'%3e%3c/path%3e%3c/svg%3e",Ro="data:image/svg+xml,%3csvg%20width='128'%20height='128'%20viewBox='0%200%20128%20128'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M58.88%2077.0757L82.1071%2053.8388C82.9231%2053.0214%2083.3811%2051.9134%2083.3801%2050.7584C83.3792%2049.6034%2082.9195%2048.4961%2082.1022%2047.68C81.2848%2046.864%2080.1768%2046.406%2079.0218%2046.407C77.8668%2046.4079%2076.7594%2046.8676%2075.9434%2047.6849L55.7982%2067.8302L47.2616%2059.2936C46.8568%2058.8895%2046.3765%2058.5691%2045.848%2058.3507C45.3194%2058.1322%2044.753%2058.02%2044.1812%2058.0205C43.6093%2058.021%2043.0431%2058.1341%2042.5149%2058.3533C41.9867%2058.5726%2041.5069%2058.8938%2041.1028%2059.2985C40.6987%2059.7032%2040.3783%2060.1835%2040.1599%2060.7121C39.9415%2061.2406%2039.8293%2061.807%2039.8297%2062.3789C39.8302%2062.9508%2039.9433%2063.517%2040.1626%2064.0452C40.3818%2064.5734%2040.703%2065.0532%2041.1077%2065.4573L52.7262%2077.0757C53.5436%2077.8892%2054.6499%2078.3459%2055.8031%2078.3459C56.9563%2078.3459%2058.0626%2077.8892%2058.88%2077.0757ZM13.6369%2025.2849V55.9262C13.6369%2095.7834%2050.9046%20112.02%2061.5385%20115.84C72.1723%20112.02%20109.44%2095.7834%20109.44%2055.9262V25.2849C83.7711%2019.9089%2072.9797%2014.8776%2061.6369%209.18648C49.5656%2015.1434%2039.0892%2019.968%2013.6369%2025.2849ZM61.5385%20124.8C61.0697%20124.8%2060.6041%20124.724%2060.16%20124.574C50.9342%20121.502%204.9231%20103.739%204.9231%2055.9262V21.7305C4.9231%2019.6628%206.39017%2017.8708%208.42833%2017.4573C36.7557%2011.7957%2046.8086%206.81356%2059.5299%200.502175C60.1597%200.189175%2060.8511%200.0197618%2061.5542%200.00614108C62.2574%20-0.00747969%2062.9549%200.135031%2063.5963%200.423406C76.1502%206.74464%2086.0652%2011.7465%20114.649%2017.4573C115.637%2017.6551%20116.525%2018.1889%20117.164%2018.9678C117.803%2019.7468%20118.153%2020.723%20118.154%2021.7305V55.9262C118.154%20103.739%2072.1428%20121.502%2062.9169%20124.574C62.4729%20124.724%2062.0072%20124.8%2061.5385%20124.8Z'%20fill='%23CDF1DF'/%3e%3c/svg%3e",Oo="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1748070249343'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='17535'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M471.04%20616.605538l185.816615-185.895384a34.816%2034.816%200%201%200-49.309538-49.230769L446.385231%20542.641231%20378.092308%20474.348308a34.816%2034.816%200%201%200-49.23077%2049.309538l92.947693%2092.947692a34.894769%2034.894769%200%200%200%2049.230769%200M109.095385%20202.279385V447.409231c0%20318.857846%20298.141538%20448.748308%20383.212307%20479.310769%2085.070769-30.562462%20383.212308-160.452923%20383.212308-479.310769V202.279385C670.168615%20159.271385%20583.837538%20119.020308%20493.095385%2073.491692%20396.524308%20121.147077%20312.713846%20159.744%20109.095385%20202.279385M492.307692%20998.4a34.422154%2034.422154%200%200%201-11.027692-1.811692C407.473231%20972.012308%2039.384615%20829.912615%2039.384615%20447.409231V173.843692c0-16.541538%2011.736615-30.877538%2028.041847-34.185846C294.045538%2094.365538%20374.468923%2054.508308%20476.238769%204.017231a38.045538%2038.045538%200%200%201%2032.531693-0.630154c100.430769%2050.569846%20179.751385%2090.584615%20408.418461%20136.270769a34.894769%2034.894769%200%200%201%2028.041846%2034.185846V447.409231c0%20382.503385-368.088615%20524.603077-441.895384%20549.179077a34.422154%2034.422154%200%200%201-11.027693%201.811692'%20fill='%2337C882'%20p-id='17536'%3e%3c/path%3e%3c/svg%3e",Ho="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1748070216443'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='17112'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M539.647107%20638.358305a46.472345%2046.472345%200%200%200-46.472345-46.472344h-0.4726a46.236045%2046.236045%200%200%200-46.157278%2046.472344c0%2025.67794%2021.030705%2046.472345%2046.629878%2046.472345a46.472345%2046.472345%200%200%200%2046.472345-46.472345m-14.414304-110.74596c0.393833-0.787667%204.095868-9.294469%2029.458741-26.15054%2045.763445-30.403941%2066.164016-74.040685%2057.578447-122.954797a122.954797%20122.954797%200%200%200-98.14329-98.222057c-36.153909-6.301335-72.465351%203.386967-100.191225%2026.62314a121.69453%20121.69453%200%200%200-43.557977%2093.417289%2034.814875%2034.814875%200%200%200%2069.62975%200%2052.143546%2052.143546%200%200%201%2061.989382-51.355879%2052.77368%2052.77368%200%200%201%2041.746343%2041.58881c2.363001%2013.232803%201.969167%2033.160775-27.56834%2052.77368-20.006738%2013.390337-47.496312%2034.184742-56.869547%2061.989382a34.342275%2034.342275%200%200%200%2032.845708%2045.290844%2035.523775%2035.523775%200%200%200%2033.082008-22.999872M109.029634%20202.305932V447.427858c0%20318.847545%20298.131907%20448.73381%20383.278695%20479.216518%2085.068021-30.482707%20383.199927-160.368973%20383.199927-479.216518V202.305932C670.163505%20159.299321%20583.677684%20119.049545%20492.938462%2073.5224%20396.528038%20121.176245%20312.720284%20159.771921%20109.029634%20202.305932M492.308329%20998.400827a34.421042%2034.421042%200%200%201-11.027337-1.811634C407.476608%20972.013987%2039.399884%20829.918886%2039.399884%20447.427858V173.871158c0-16.541004%2011.65747-30.876541%2027.962174-34.105975C294.05258%2094.395572%20374.3946%2054.539629%20476.161158%203.971416A38.044309%2038.044309%200%200%201%20508.849333%203.42005c100.348758%2050.568212%20179.588044%2090.581689%20408.3265%20136.266366a34.736109%2034.736109%200%200%201%2027.962173%2034.184742V447.427858c0%20382.491027-367.997957%20524.586129-441.802341%20549.161335a34.499808%2034.499808%200%200%201-11.027336%201.811634'%20fill='%23848E9C'%20p-id='17113'%3e%3c/path%3e%3c/svg%3e",jo="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1748070227205'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='17254'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M492.307692%20301.607385c19.219692%200%2034.816%2015.596308%2034.816%2034.816v139.421538a34.816%2034.816%200%200%201-69.632%200V336.344615c0-19.219692%2015.596308-34.816%2034.816-34.816z%20m47.419077%20313.501538a46.473846%2046.473846%200%200%201-46.473846%2046.473846%2046.631385%2046.631385%200%200%201-46.710154-46.473846c0-25.6%2020.558769-46.473846%2046.237539-46.473846h0.472615a46.473846%2046.473846%200%200%201%2046.473846%2046.473846z%20m335.793231-167.699692c0%20318.857846-298.141538%20448.748308-383.212308%20479.232C407.236923%20896.157538%20109.095385%20766.267077%20109.095385%20447.409231V202.279385c203.697231-42.535385%20287.428923-81.132308%20383.92123-128.787693%2090.820923%2045.528615%20177.230769%2085.858462%20382.503385%20128.787693V447.409231z%20m41.747692-307.672616C688.443077%2093.971692%20609.201231%2053.956923%20508.691692%203.387077a38.045538%2038.045538%200%200%200-32.610461%200.630154C374.468923%2054.508308%20294.045538%2094.365538%2067.347692%20139.736615A34.816%2034.816%200%200%200%2039.384615%20173.843692V447.409231c0%20382.503385%20368.088615%20524.603077%20441.895385%20549.179077a34.422154%2034.422154%200%200%200%2022.055385%200c73.806769-24.576%20441.895385-166.675692%20441.895384-549.179077V173.843692a34.816%2034.816%200%200%200-28.041846-34.107077z'%20fill='%23FFA622'%20p-id='17255'%3e%3c/path%3e%3c/svg%3e",zo="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1748092276934'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='18385'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M512.877714%200l23.625143%2011.849143%2023.405714%2011.556571C649.508571%2067.145143%20743.131429%20104.740571%20950.857143%20146.285714v287.085715c0%20325.12-276.333714%20487.643429-438.857143%20541.842285-162.596571-54.198857-438.857143-216.722286-438.857143-541.842285V146.285714C280.868571%20104.740571%20374.491429%2067.145143%20465.188571%2023.405714l23.698286-11.556571L512.877714%200z%20m62.025143%20221.037714a24.356571%2024.356571%200%200%200-26.843428%206.436572L304.274286%20498.395429a24.356571%2024.356571%200%200%200%2018.139428%2040.667428h111.030857V731.428571a24.356571%2024.356571%200%200%200%2042.496%2016.310858L719.798857%20476.891429a24.356571%2024.356571%200%200%200-18.139428-40.667429H590.628571v-192.365714a24.356571%2024.356571%200%200%200-15.725714-22.747429z'%20fill='%23848E9C'%20p-id='18386'%3e%3c/path%3e%3c/svg%3e",Wo="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1748092282851'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='18527'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M513.024%20768a51.436308%2051.436308%200%200%201-51.515077-51.2c0-28.278154%2022.685538-51.2%2050.963692-51.2h0.551385a51.2%2051.2%200%201%201%200%20102.4z%20m-39.384615-409.6a38.439385%2038.439385%200%200%201%2076.72123%200v204.8a38.360615%2038.360615%200%201%201-76.8%200v-204.8z%20m530.195692%20366.119385L665.6%2092.002462c-65.536-122.643692-241.664-122.643692-307.2%200L20.164923%20724.440615c-60.100923%20112.482462%2021.504%20248.280615%20149.188923%20248.280616h685.292308c127.684923%200%20209.368615-135.798154%20149.188923-248.280616z'%20fill='%23848E9C'%20p-id='18528'%3e%3c/path%3e%3c/svg%3e",qo="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1748092257447'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='18243'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M577.536%20490.130286c-26.624%2017.700571-30.573714%2026.550857-30.939429%2027.428571a37.376%2037.376%200%200%201-46.738285%2022.235429%2036.059429%2036.059429%200%200%201-22.528-45.568c9.801143-29.257143%2038.765714-51.053714%2059.684571-65.097143%2031.085714-20.553143%2031.451429-41.472%2028.964572-55.369143a55.442286%2055.442286%200%200%200-43.739429-43.739429%2054.710857%2054.710857%200%200%200-65.097143%2053.906286%2036.571429%2036.571429%200%200%201-73.142857%200c0-37.814857%2016.676571-73.654857%2045.714286-98.011428%2029.037714-24.283429%2067.291429-34.523429%20105.179428-27.940572a129.097143%20129.097143%200%200%201%20103.131429%20103.131429c8.996571%2051.273143-12.507429%2097.133714-60.489143%20129.024z%20m-64.585143%20192.512a49.005714%2049.005714%200%200%201-49.005714-48.786286c0-26.916571%2021.577143-48.713143%2048.493714-48.713143h0.512a48.713143%2048.713143%200%201%201%200%2097.499429zM950.857143%20146.285714C706.998857%2097.499429%20620.397714%2054.125714%20512.877714%200%20403.602286%2054.125714%20316.928%2097.499429%2073.142857%20146.285714v287.158857c0%20325.046857%20276.333714%20487.570286%20438.857143%20541.769143%20162.523429-54.125714%20438.857143-216.722286%20438.857143-541.769143V146.285714z'%20fill='%233F80F7'%20p-id='18244'%3e%3c/path%3e%3c/svg%3e",Go="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1748102247370'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='20164'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M673.024%20699.221333H321.578667c-16.085333%200-29.44%209.130667-29.44%2020.48%200%2011.392%2012.970667%2020.565333%2029.44%2020.565334h351.445333c16.085333%200%2029.44-9.173333%2029.44-20.522667%200-11.392-13.354667-20.522667-29.44-20.522667z'%20fill='%23999999'%20p-id='20165'%3e%3c/path%3e%3cpath%20d='M665.6%2042.752v0.896c-3.669333%200-19.84-1.322667-60.501333-0.853333H249.045333C182.058667%2042.752%20128%2096%20128%20161.408v665.258667c0%2065.450667%2054.058667%20118.698667%20121.045333%20118.698666h537.557334c66.986667%200%20121.045333-53.248%20121.045333-118.698666V280.149333L665.6%2042.794667z%20m183.338667%20239.232l-123.306667-1.792h4.181333c-28.16%200-67.882667-26.666667-67.882666-59.136l-0.938667-122.794667%20187.946667%20183.722667z%20m6.485333%20553.301333c0%2033.408-27.690667%2060.928-61.866667%2060.928H242.090667c-34.218667%200-61.866667-27.093333-61.866667-60.928V153.344c0-33.408%2027.648-60.928%2061.866667-60.928h363.946666c-0.341333%2040.448%200%2080.938667%200.896%20121.429333%200%2067.242667%2055.466667%20121.386667%20124.245334%20121.386667h124.245333v500.053333z'%20fill='%23999999'%20p-id='20166'%3e%3c/path%3e%3cpath%20d='M673.024%20495.573333H321.578667c-16.085333%200-29.44%208.832-29.44%2019.712%200%2010.965333%2012.970667%2019.797333%2029.44%2019.797334h351.445333c16.085333%200%2029.44-8.832%2029.44-19.797334%200-10.88-13.354667-19.712-29.44-19.712z%20m-144.213333-165.674666H310.442667c-10.368%200-18.346667%208.832-18.346667%2019.797333%200%2010.922667%208.021333%2019.712%2018.304%2019.712h218.325333c10.24%200%2018.346667-8.789333%2018.346667-19.712%200-10.965333-8.106667-19.797333-18.346667-19.797333z'%20fill='%23999999'%20p-id='20167'%3e%3c/path%3e%3c/svg%3e",Yo=""+new URL("unlock.CdYdhxfn.png",import.meta.url).href,Qo={class:"code-block"},Ko={class:"flex-end"},Xo={key:0,class:"code-scroll"},Zo=o({__name:"code",props:{code:{},show:{type:Boolean}},setup(e){P(E);const l=e,a=R(null),t=()=>{a.value&&E.highlightBlock(a.value)};return u(()=>{t()}),d(()=>l.code,async()=>{await U(),t()}),(e,t)=>{const n=y,o=p("copy");return x(),w("div",Qo,[k("div",Ko,[g(S(n,{name:"bxs:copy",class:"clickable text-14px color-[--third-text]"},null,512),[[o,l.code]])]),l.show?(x(),w("div",Xo,[k("pre",null,[t[0]||(t[0]=I("        ",-1)),k("code",{ref_key:"codeEl",ref:a,class:"language-solidity"},_(l.code),513),t[1]||(t[1]=I("\n      ",-1))])])):f("",!0)])}}}),Jo=M(Zo,[["__scopeId","data-v-8bbc1d4b"]]),es={class:"AI"},ls={key:0,class:"mt-20px"},as={class:"title"},ts={class:"mt-10px relative text-wrapper"},ns={key:1,class:"mt-20px"},os={class:"title"},ss={class:"mt-10px"},is={class:"tax"},rs={key:0},us={key:1},ds={key:2},cs={key:3},vs={key:4},ps={key:2,class:"mt-20px"},ms={class:"flex-between"},fs={class:"title"},hs={class:"card-t"},xs={class:"mt-10px"},bs={class:"flex-start"},ks={style:{width:"20px"}},gs=["src"],_s={class:"color-999 text-12px"},ys={key:3,class:"mt-20px"},ws={class:"title"},Ts={class:"mt-10px color-999 text-12px"},Cs=o({__name:"ai",props:{obj:{},riskList:{}},setup(e){var l;const a=e,t=O(),n=c(()=>t.lang),o=c(()=>"zh-cn"===n.value||"zh-tw"===n.value),s={1:"normal1",0:"normal1","-1":"normal-half","-2":"warning1","-3":"danger1"},i=R(!1),r=R(!1),d=R(null),v=R((null==(l=a.riskList)?void 0:l.map(e=>e.risk_level<-1))||[]),p=c(()=>o.value?a.obj.mechanism_zh||"":a.obj.mechanism_en||""),b=c(()=>{var e;return(null==(e=a.obj.ownerControl)?void 0:e.join("、"))||""}),g=()=>{i.value=!i.value},A=()=>{U(()=>{const e=d.value;if(!e)return;const l=3*parseFloat(getComputedStyle(e).lineHeight);r.value=e.scrollHeight>l+1})};function S(e){var l;const a=Object.assign({"/assets/images/check-danger1.svg":Uo,"/assets/images/check-normal-half.svg":Ro,"/assets/images/check-normal1.svg":Oo,"/assets/images/check-unknownRisk1.svg":Ho,"/assets/images/check-warning1.svg":jo});return(null==(l=Object.entries(a).find(([l])=>l.endsWith(`check-${e}.svg`)))?void 0:l[1])||""}return u(()=>{A(),window.addEventListener("resize",A)}),H(()=>{window.removeEventListener("resize",A)}),(l,t)=>{var n,u,c,A,$;const F=y;return x(),w("div",es,[h(p)?(x(),w("div",ls,[k("span",as,_(l.$t("AIOverview")),1),k("div",ts,[k("div",{ref_key:"textEl",ref:d,class:V([{collapsed:!h(i)},"text"])},_(h(p)),3),h(r)?(x(),w("a",{key:0,href:"",onClick:L(g,["stop","prevent"]),class:"toggle-btn"},_(h(i)?l.$t("Collapse"):l.$t("Expand")),1)):f("",!0)])])):f("",!0),a.obj.fee_structure?(x(),w("div",ns,[k("span",os,_(l.$t("AITax")),1),k("div",ss,[k("ul",is,[a.obj.fee_structure.buy_fee?(x(),w("li",rs,[k("span",null,_(l.$t("buyTax"))+"：",1),I(_(a.obj.fee_structure.buy_fee),1)])):f("",!0),a.obj.fee_structure.sell_fee?(x(),w("li",us,[k("span",null,_(l.$t("sellTax"))+"：",1),I(_(a.obj.fee_structure.sell_fee),1)])):f("",!0),a.obj.fee_structure.transfer_fee?(x(),w("li",ds,[k("span",null,_(l.$t("TransferTax"))+"：",1),I(_(a.obj.fee_structure.transfer_fee),1)])):f("",!0),a.obj.fee_structure.max_tx_amount?(x(),w("li",cs,[k("span",null,_(l.$t("MaxTxAmount"))+"：",1),I(_(a.obj.fee_structure.max_tx_amount),1)])):f("",!0),a.obj.fee_structure.max_wallet_amount?(x(),w("li",vs,[k("span",null,_(l.$t("MaxWalletAmount"))+"：",1),I(_(a.obj.fee_structure.max_wallet_amount),1)])):f("",!0)])])])):f("",!0),(null==(n=a.riskList)?void 0:n.length)>0?(x(),w("div",ps,[k("div",ms,[k("span",fs,_(l.$t("AIRiskCheck")),1),k("span",hs,[k("span",{class:V((null==(u=e.riskList.filter(e=>-3===(null==e?void 0:e.risk_level)))?void 0:u.length)>0?"red":"")},_((null==(c=e.riskList.filter(e=>-3===(null==e?void 0:e.risk_level)))?void 0:c.length)||0),3),I(" /"+_(e.riskList.length),1)])]),k("ul",xs,[(x(!0),w(T,null,C(e.riskList,(e,a)=>(x(),w("li",{key:a,class:"card-list-item"},[k("div",bs,[k("div",ks,[k("img",{class:"align-middle",src:S(s[e.risk_level]),width:"12px",alt:""},null,8,gs)]),k("div",null,[k("span",{class:"risk-message",style:N({color:-3==(null==e?void 0:e.risk_level)?"var(--main-text)":"var(--secondary-text)"})},_(h(o)?e.name_zh||"":e.name_en||"")+" "+_(1===(null==e?void 0:e.risk_removed)?`(${l.$t("riskRemoved")})`:""),5)]),t[0]||(t[0]=k("span",{style:{flex:"1"}},null,-1)),e.code_snippet?(x(),w(T,{key:0},[h(v)[a]?(x(),m(F,{key:0,class:"ml-5 text-14px",name:"material-symbols:keyboard-arrow-down-rounded",color:"#999",onClick:e=>h(v)[a]=!h(v)[a]},null,8,["onClick"])):(x(),m(F,{key:1,class:"ml-5 text-14px",name:"material-symbols:keyboard-arrow-up-rounded",color:"#999",onClick:e=>h(v)[a]=!h(v)[a]},null,8,["onClick"]))],64)):f("",!0)]),h(v)[a]?(x(),w(T,{key:0},[e.code_snippet?(x(),m(Jo,{key:0,code:e.code_snippet,show:h(v)[a],language:"solidity"},null,8,["code","show"])):f("",!0),k("div",_s,_(h(o)?e.description_zh||"":e.description_en||""),1)],64)):f("",!0)]))),128))])])):f("",!0),h(b)?(x(),w("div",ys,[k("span",ws,[I(_(l.$t("AIAdmin"))+" ",1),1===(null==($=null==(A=a.obj)?void 0:A.summary)?void 0:$.is_owner_renounced)?(x(),w(T,{key:0},[I(" ("+_(l.$t("Renounced"))+") ",1)],64)):f("",!0)]),k("div",Ts,_(h(b)),1)])):f("",!0)])}}}),As=M(Cs,[["__scopeId","data-v-66cd7ac5"]]),Ss={class:"check-container bg-[--dialog-bg] color-[--main-text]"},Ns={class:"flex items-center justify-between text-20px p-20px sticky top-0 bg-[--dialog-bg] z-1"},$s={key:0,class:"flex-start"},Is={key:1},Fs={class:"check-content"},Ls={class:"flex-center width_100"},Vs={class:"audit-progress relative"},Bs={key:0,class:"danbao-bg-absolute"},Ds={class:"danbao-bg"},Ms=["href"],Ps={class:"audit-bg"},Es={key:0,class:"risk-statics"},Us={class:"item1"},Rs={key:0,height:16,src:An},Os={key:1,height:16,src:zo},Hs={class:"num"},js={class:"item1"},zs={key:0,src:Sn,height:16},Ws={key:1,height:16,src:Wo},qs={class:"num"},Gs={class:"item1"},Ys={key:0,height:16,src:qo},Qs={key:1,height:16,src:Nn},Ks={class:"num"},Xs={key:1,class:"risk-statics"},Zs={class:"item1"},Js={key:0,height:16,src:An},ei={key:1,height:16,src:zo},li={class:"num"},ai={class:"item1"},ti={key:0,src:Sn,height:16},ni={key:1,height:16,src:Wo},oi={class:"num"},si={class:"item1"},ii={key:0,height:16,src:qo},ri={key:1,height:16,src:Nn},ui={class:"num"},di={class:"card card1"},ci={key:0,class:"card-list-item flex-start hover"},vi={class:"inline-flex items-center color-[currentColor]"},pi=["src"],mi={class:"color-[--secondary-text] ml-5px"},fi=["src"],hi={key:1,class:"remark"},xi={class:"card basic"},bi={class:"flex items-start justify-between"},ki={class:"flex-1 pr-15px border-r border-[#97979733]"},gi={key:0,class:"py-5px"},_i={class:"ml-15px"},yi={key:0,class:"card-list-item in"},wi={class:"gray"},Ti={key:1,class:"card-list-item in"},Ci={class:"gray"},Ai={key:2,class:"card-list-item in"},Si={class:"gray"},Ni={key:3,class:"card-list-item in"},$i={class:"gray"},Ii={key:4,class:"card-list-item in"},Fi={class:"gray"},Li={key:5,class:"card-list-item in"},Vi={class:"gray"},Bi={key:6,class:"card-list-item in"},Di={class:"gray"},Mi={key:7,class:"card-list-item in"},Pi={class:"gray"},Ei={style:{flex:"1"}},Ui={key:0,class:"py-5px"},Ri={class:"indent"},Oi={key:0,class:"card-list-item in"},Hi={class:"gray"},ji={key:1,class:"card-list-item in"},zi={class:"gray"},Wi={key:2,class:"card-list-item in"},qi={class:"gray"},Gi={key:3,class:"card-list-item in"},Yi={class:"gray"},Qi={key:4,class:"card-list-item in"},Ki={class:"gray"},Xi={key:5,class:"card-list-item in"},Zi={class:"gray"},Ji={key:6,class:"card-list-item in"},er={class:"gray"},lr={key:7,class:"card-list-item in"},ar={class:"gray"},tr={key:0,class:"flex justify-between mt-10px"},nr={class:"flex-1 mr-5px pr-5px border-r border-[#97979733]"},or={key:0,class:"card-list-item in"},sr={key:1,class:"card-list-item in"},ir={class:"danger"},rr={style:{flex:"1"}},ur={key:0,class:"card-list-item in"},dr={key:1,class:"card-list-item in"},cr={class:"danger"},vr={key:1,class:"mt-10px"},pr={key:0,class:"card-list-item cursor"},mr={key:1,class:"card-list-item"},fr={class:"danger"},hr={key:2,class:"card-list-item"},xr=["href"],br={key:3,class:"card-list-item"},kr={class:"flex items-center"},gr=["href"],_r={key:4,class:"card-list-item"},yr={class:"flex items-center"},wr=["href"],Tr={key:5,class:"card-list-item"},Cr=["href"],Ar={key:6,class:"card-list-item"},Sr={key:7,class:"card-list-item"},Nr={key:8,class:"card-list-item"},$r={style:{"word-break":"keep-all"}},Ir=["innerHTML"],Fr={class:"text-14px mt-10px"},Lr={class:"card card1"},Vr={class:"flex-s"},Br={class:"label"},Dr={class:"range-text"},Mr={class:"flex-s flex items-center"},Pr={class:"label"},Er={class:"range-text"},Ur={class:"range"},Rr={class:"mt-10px"},Or=["href"],Hr={key:2,src:"data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1748102199171'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='20007'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M694.0672%2051.2l0.512%200.512a136.5504%20136.5504%200%200%201%2084.992%2039.4752l102.0416%20102.0928c22.8864%2022.8352%2036.8128%2052.992%2039.4752%2084.992l0.512%200.512V824.832a136.5504%20136.5504%200%200%201-136.5504%20136.5504H238.9504A136.5504%20136.5504%200%200%201%20102.4%20824.832V187.7504A136.5504%20136.5504%200%200%201%20238.9504%2051.2h455.1168z%20m-45.568%2091.0336h-409.6a45.5168%2045.5168%200%200%200-45.4656%2045.5168V824.832c0%2025.1392%2020.3776%2045.5168%2045.5168%2045.5168h546.0992c25.1392%200%2045.568-20.3776%2045.568-45.5168V324.2496h-91.0848a91.0336%2091.0336%200%200%201-90.9824-90.9824V142.2336z'%20fill='%23F57559'%20p-id='20008'%3e%3c/path%3e%3cpath%20d='M300.3904%20384.8192H401.408v223.8976h83.7632v79.616h-184.832zM607.488%20384.8192c19.456%200%2037.5808%202.0992%2054.3744%206.3488%2016.896%204.2496%2031.5904%2010.9056%2044.1856%2020.0192%2012.5952%209.1136%2022.528%2020.992%2029.7984%2035.7376%207.2704%2014.6944%2010.9056%2032.512%2010.9056%2053.4528%200%2020.992-3.584%2038.7584-10.9056%2053.504-7.2704%2014.6944-17.2032%2026.624-29.7984%2035.7376a127.8976%20127.8976%200%200%201-44.1856%2019.968%20221.8496%20221.8496%200%200%201-54.3744%206.4v72.3456H510.5664V384.8192h96.9216z%20m4.096%2081.92h-4.096v67.328h4.096c12.8%200%2021.9136-2.9696%2027.5456-8.8576%205.632-5.9392%208.3968-14.1824%208.3968-24.832%200-10.5984-2.7648-18.8928-8.3968-24.7808-5.632-5.9392-14.7968-8.8576-27.5456-8.8576z'%20fill='%23F57559'%20p-id='20009'%3e%3c/path%3e%3c/svg%3e",width:12,alt:""},jr={key:3,src:Go,width:12,alt:""},zr={class:"flex items-center"},Wr={key:0,class:"color-[--third-text]"},qr={key:0,class:"table-lock"},Gr={key:0},Yr={key:1},Qr={key:2},Kr={key:0,class:"remark"},Xr={class:"text-14px"},Zr={class:"card card1"},Jr={class:"flex-s"},eu={class:"label"},lu={class:"range-text"},au={class:"flex-s flex items-center"},tu={class:"label mr-auto"},nu={class:"range-text"},ou={class:"range"},su={class:"mt-10px"},iu=["href"],ru={key:0,style:{height:"15px"},src:Yo,alt:"",srcset:""},uu={key:2,src:Go,width:12,alt:""},du={class:"flex items-center"},cu={key:0,class:"color-[--third-text]"},vu={key:0,class:"table-lock"},pu={key:0},mu={key:1},fu={key:2},hu={class:"risk-addition"},xu={key:0,class:"warning"},bu={key:1,class:"warning"},ku={key:2,class:"warning"},gu={key:3,class:"warning"},_u={key:4,class:"warning"},yu={key:5,class:"warning"},wu={key:6,class:"warning"},Tu={key:0,class:"remark"},Cu={key:0,class:"text-12px"},Au={key:1,class:"card card1"},Su=["onClick"],Nu={class:"top"},$u={class:"ellipsis"},Iu={class:"color-777e90"},Fu={class:"color-777e90 date"},Lu={key:0,class:"bottom"},Vu={class:"color-777e90 van-ellipsis"},Bu={key:0,class:"color-777e90",style:{color:"#f6465d"}},Du={key:1,class:"color-777e90 flex",style:{color:"#ff9f00"}},Mu={key:2,class:"color-777e90"},Pu={key:1,class:"color-777e90"},Eu={key:2,class:"color-777e90"},Uu={key:0,class:"block ml_10"},Ru={key:3,class:"color-777e90"},Ou={class:"card card1 simulate"},Hu={class:"text-14px"},ju={class:"rd-4px"},zu={class:"block color-[--third-text]"},Wu={class:"block"},qu={class:"block color-[--third-text]"},Gu={class:"block"},Yu={class:"block"},Qu={class:"color-[--third-text]"},Ku={colspan:"3",class:"tl"},Xu={class:"color-[--third-text]"},Zu={class:"color-[--third-text]"},Ju={class:"color-[--third-text]"},ed={class:"risk-addition"},ld={class:"card card1"},ad={class:"text-14px"},td={class:"community-container mt-20px"},nd={class:"thumbs-label"},od={class:"range-container"},sd={class:"range"},id={class:"range-label"},rd={class:"thumbs-label"},ud={class:"remark",style:{"padding-top":"0.2rem"}},dd=M(o({__name:"check",props:{modelValue:Boolean},emits:["update:modelValue"],setup(e,{emit:l}){const a=j(),t=z(),n=W(),{checkResult:o,showResult:A,hasLpLock:$,progress:F}=q(Pn()),D=Pn(),{t:M}=s(),P=G(),E=i(),U=l,R=v(!1),O=v(!0),H=v(!0),se={0:"normal1",.5:"normal1",.6:"unknownRisk1",1:"warning1",2:"danger1"},ie=v(!1),re=c(()=>{var e,l;return[{name:M("holders1"),id:1},{name:M("poolInfo"),id:2},...(null==(l=null==(e=null==o?void 0:o.value)?void 0:e.owner_txs)?void 0:l.length)?[{name:M("ownerTxs"),id:3}]:[]]}),ue=c({get:()=>e.modelValue,set(e){U("update:modelValue",e)}}),de=c(()=>{var e,l;let a=(null==(l=null==(e=o.value)?void 0:e.ai_report)?void 0:l.risk)||[];return a=null==a?void 0:a.map(e=>({...e,risk_level:1==e.risk_removed?"1":null==e?void 0:e.risk_level})),a}),ce=c(()=>{var e,l,a,t,n,s,i,r,u,d,c;return!((null==(e=null==o?void 0:o.value)?void 0:e.owner)&&!(null==(a=null==(l=null==o?void 0:o.value)?void 0:l.owner)?void 0:a.startsWith("0x00000"))&&!(null==(n=null==(t=null==o?void 0:o.value)?void 0:t.owner)?void 0:n.startsWith("T9yD14Nj9j7x"))&&"Contract"!==(null==(s=null==o?void 0:o.value)?void 0:s.owner_type)||null!=(null==(i=null==o?void 0:o.value)?void 0:i.can_take_back_ownership)&&"0"!==(null==(r=null==o?void 0:o.value)?void 0:r.can_take_back_ownership)||null!=(null==(u=null==o?void 0:o.value)?void 0:u.hidden_owner)&&"1"===(null==(d=null==o?void 0:o.value)?void 0:d.hidden_owner)||""===(null==(c=null==o?void 0:o.value)?void 0:c.owner))}),ve=c(()=>(null==o?void 0:o.value)&&function(e){var l,a,t,n;if(!A||!(null==e?void 0:e.risk_score))return[];const o=[],s={"-1":M("noLookLike"),0:M("checkFailed"),1:M("isHoneypot")};let i=0;i=0===e.is_honeypot?1:1===e.is_honeypot?2:0;void 0!==e.is_honeypot&&o.push([i,s[e.is_honeypot]]);const r=0===e.has_code?2:0,u=0===e.has_code?M("open-source"):M("openSource");void 0!==e.has_code&&"solana"!==(null==e?void 0:e.chain)&&o.push([r,u]);const d="1"===e.owner_change_balance?2:0,c="1"===e.owner_change_balance?M("ownerChangeBalance"):M("ownerNoChangeBalance");void 0!==e.owner_change_balance&&o.push([d,c]);let v="1"===e.is_proxy?2:0,p="1"===e.is_proxy?M("isProxy"):M("isNotProxy");2===v&&ce&&(1===e.has_owner_removed_risk?(v=.5,p=M("hasNoAuth")+M("isProxyNoAuth")):v=.6);void 0!==e.is_proxy&&o.push([v,p]);let m=1===(null==e?void 0:e.slippage_modifiable)?1:0,f=1===e.slippage_modifiable?M("slippageModifiable"):M("noSlippageModifiable");1===m&&ce&&(1===e.has_owner_removed_risk?(m=.5,f=M("hasNoAuth")+M("noSlippageModifiable")):m=.6);void 0!==e.slippage_modifiable&&o.push([m,f]);let h=1===e.has_white_method?1:0,x=1===e.has_white_method?M("whitelist"):M("noWhitelist");h>0&&ce&&(1===e.has_owner_removed_risk?(h=.5,x=M("hasNoAuth")+M("whitelistNoAuth")):h=.6);void 0!==e.has_white_method&&o.push([h,x]);let b=1===e.has_black_method?1:0,k=1===e.has_black_method?M("blacklist"):M("noBlacklist");b>0&&ce&&(1===e.has_owner_removed_risk?(b=.5,k=M("hasNoAuth")+M("blacklistNoAuth")):b=.6);void 0!==e.has_black_method&&o.push([b,k]);if(""!==e.owner&&"-"!==e.owner){const l=ce.value?0:1,a=ce.value?M("dropContractAuth1"):M("dropContractAuth");(null==e?void 0:e.audit_pass_by)&&!ce||o.push([l,a])}let g=1===e.has_mint_method?1:0,_=1===e.has_mint_method?M("canMint"):M("canNotMint");g>0&&ce&&(1===e.has_owner_removed_risk?(g=.5,_=M("hasNoAuth")+M("canNotMint")):g=.6);void 0!==e.has_mint_method&&o.push([g,_]);const y=$?0:1,w=M($?"hasLpLock":"hasNoLpLock");void 0!==e.hasLpLock&&o.push([y,w]);const T="1"===e.can_take_back_ownership?1:0,C="1"===e.can_take_back_ownership?M("canTakeBackOwnership"):M("canNotTakeBackOwnership");void 0!==e.can_take_back_ownership&&o.push([T,C]);const S="1"===e.trading_cooldown?1:0,N="1"===e.trading_cooldown?M("tradingCoolDown"):M("noTradingCoolDown");void 0!==e.trading_cooldown&&o.push([S,N]);"1"===e.hidden_owner&&o.push([2,M("hasHiddenOwner")]);e.other_potential_risks&&o.push([1,e.other_potential_risks]);e.note&&o.push([1,e.note]);"1"===e.external_call&&o.push([2,M("externalCall")]);e.is_safu_contract&&o.push([0,M("isSafuContract")]);(null==e?void 0:e.is_recidivist)>=1&&o.push([2,M("isRecidivist")]);1==(null==e?void 0:e.has_malicious_code)&&o.push([2,M("has_malicious_code")]);1==(null==e?void 0:e.has_sell_max_limit)&&o.push([.6,M("has_sell_max_limit")]);1===(null==e?void 0:e.can_remove_liqudity)&&o.push([2,M("can_remove_liqudity")]);!(null==e?void 0:e.liquidity_provider)||Number(null==e?void 0:e.pair_lock_percent)||(null==(a=null==(l=null==e?void 0:e.liquidity_provider)?void 0:l.startsWith)?void 0:a.call(l,"0x00000"))||(null==(n=null==(t=null==e?void 0:e.liquidity_provider)?void 0:t.startsWith)?void 0:n.call(t,"T9yD14Nj9j7x"))||o.push([1,M("liquidity_provider")]);"solana"==(null==e?void 0:e.chain)&&(1===(null==e?void 0:e.has_top10_holder_amount_over_30)&&o.push([2,M("has_top10_holder_amount_over_30")]),0===(null==e?void 0:e.has_top10_holder_amount_over_30)&&o.push([0,M("has_top10_holder_amount_lt_30")]),1===(null==e?void 0:e.has_not_burned_lp)&&o.push([1,M("has_not_burned_lp")]),0===(null==e?void 0:e.has_not_burned_lp)&&o.push([0,M("has_burned_lp")]));1===e.is_low_liquidity&&o.push([1,M("is_low_liquidity")]);return o.sort((e,l)=>l[0]-e[0])}(o.value)||[]),pe=c(()=>{var e,l;return(null==(e=null==o?void 0:o.value)?void 0:e.ave_remarks)?JSON.parse(null==(l=null==o?void 0:o.value)?void 0:l.ave_remarks):{}}),me=c(()=>(null==pe?void 0:pe.value.lp_remark)||""),fe=c(()=>(null==pe?void 0:pe.value.holder_remark)||""),he=c(()=>(null==pe?void 0:pe.value.risk_remark)||""),xe=c(()=>{var e,l;const a=((null==(e=null==o?void 0:o.value)?void 0:e.token_holders_rank)||[]).reduce((e,l)=>e+Number(l.quantity),0)/Number(null==(l=null==o?void 0:o.value)?void 0:l.total);return[{name:"tokenHolders",value:a},{name:"default",value:1-a}]}),be=c(()=>{var e,l;return(null==(l=null==(e=null==xe?void 0:xe.value)?void 0:e[0])?void 0:l.value)||0}),ke=c(()=>{var e;const l=((null==(e=null==o?void 0:o.value)?void 0:e.pair_holders_rank)||[]).reduce((e,l)=>{var a;let t=0;return $e(l)&&(t=Number(null==l?void 0:l.percent)||Number(null==l?void 0:l.quantity)/((null==(a=null==o?void 0:o.value)?void 0:a.pair_total)??1)),e+t},0);return[{name:"pairHolders",value:l},{name:"default",value:1-l}]}),ge=c(()=>{var e,l;return(null==(l=null==(e=null==ke?void 0:ke.value)?void 0:e[0])?void 0:l.value)||0}),_e=c(()=>{var e,l,a,t,n,s;const i=[];return((null==(l=null==(e=null==o?void 0:o.value)?void 0:e.holder_analysis)?void 0:l.sell_failure)??0)>0&&1==(null==(a=null==o?void 0:o.value)?void 0:a.some_users_are_blocked)&&i.push([2,M("some_users_are_blocked")]),((null==(n=null==(t=null==o?void 0:o.value)?void 0:t.holder_analysis)?void 0:n.balance_disappeared)??0)>0&&1==(null==(s=null==o?void 0:o.value)?void 0:s.some_users_balance_are_tampered)&&i.push([1,M("some_users_balance_are_tampered")]),i}),ye=c(()=>{var e,l,a,t;let n=(null==(l=null==(e=null==ve?void 0:ve.value)?void 0:e.filter(e=>2==e[0]))?void 0:l.length)||0;return(null==_e?void 0:_e.value)&&(null==(a=null==_e?void 0:_e.value)||a.forEach(e=>{2==e[0]&&(n+=1)})),(null==(t=null==o?void 0:o.value)?void 0:t.audit_pass_by)?0:n}),we=c(()=>function(e){const l=[];"1"===(null==e?void 0:e.is_anti_whale)&&l.push(M("isAntiWhale"));"1"===(null==e?void 0:e.anti_whale_modifiable)&&l.push(M("antiWhaleModifiable"));"1"===(null==e?void 0:e.cannot_sell_all)&&l.push(M("cannotSellAll"));((null==e?void 0:e.wallet_count_24h_buy)&&((null==e?void 0:e.wallet_count_24h_buy)||0)<10||(null==e?void 0:e.wallet_count_24h_sell)&&((null==e?void 0:e.wallet_count_24h_sell)||0)<10)&&l.push(M("txNoActive"));((null==e?void 0:e.wallet_count_24h_sell)&&((null==e?void 0:e.wallet_count_24h_buy)||0)/(null==e?void 0:e.wallet_count_24h_sell)>8||!(null==e?void 0:e.wallet_count_24h_sell)&&(null==e?void 0:e.wallet_count_24h_buy))&&l.push(M("highBuyLowSell"));(null==e?void 0:e.vol_24h_top100)&&Number((null==e?void 0:e.vol_24h_top10)||0)/(null==e?void 0:e.vol_24h_top100)>.75&&l.push(M("volumeConcentrated"));const a=(null==e?void 0:e.vote_support)||0,t=(null==e?void 0:e.vote_against)||0;a+t>30&&t/(t+a)>.7&&l.push(M("lowCommunityScore"));"1"===(null==e?void 0:e.personal_slippage_modifiable)&&l.push(M("personalSlippageModifiable"));"1"===(null==e?void 0:e.selfdestruct)&&l.push(M("selfdeStruct"));return l}((null==o?void 0:o.value)??void 0)||[]),Te=c(()=>{var e,l,a,t,n,s,i,r,u,d,c,v;let p=we.value.length;return Number(null==(e=null==o?void 0:o.value)?void 0:e.sell_gas)>=.1&&"#f81111"===X(Number(null==(l=null==o?void 0:o.value)?void 0:l.sell_gas),null==(a=null==o?void 0:o.value)?void 0:a.chain)&&(p+=1),Number(null==(t=null==o?void 0:o.value)?void 0:t.buy_gas)>=.1&&"#f81111"===X(Number(null==(n=null==o?void 0:o.value)?void 0:n.buy_gas),null==(s=null==o?void 0:o.value)?void 0:s.chain)&&(p+=1),Number(null==(i=null==o?void 0:o.value)?void 0:i.approve_gas)>=.1&&"#f81111"===X(Number(null==(r=null==o?void 0:o.value)?void 0:r.approve_gas),null==(u=null==o?void 0:o.value)?void 0:u.chain)&&(p+=1),p+=null==(c=null==(d=null==ve?void 0:ve.value)?void 0:d.filter(e=>.6==e[0]))?void 0:c.length,(null==(v=null==o?void 0:o.value)?void 0:v.audit_pass_by)?0:p}),Ce=c(()=>{var e,l,a,t,n,s,i,r,u,d,c,v,p,m;let f=0;return Number((null==(e=null==o?void 0:o.value)?void 0:e.analysis_creator_gt_5percent)||0)>5&&(f+=1),"1"===(null==(l=null==o?void 0:o.value)?void 0:l.analysis_scam_wallet)&&(f+=1),Number((null==(a=null==o?void 0:o.value)?void 0:a.analysis_lp_creator_gt_5percent)||0)>5&&(f+=1),"1"===(null==(t=null==o?void 0:o.value)?void 0:t.analysis_big_wallet)&&(f+=1),(null==(n=null==o?void 0:o.value)?void 0:n.analysis_lp_locked_or_burned_gt_15days)&&Number(null==(s=null==o?void 0:o.value)?void 0:s.analysis_lp_locked_or_burned_gt_15days)<50&&(f+=1),(null==(i=null==o?void 0:o.value)?void 0:i.analysis_lp_current_adequate)&&"0"==(null==(r=null==o?void 0:o.value)?void 0:r.analysis_lp_current_adequate)&&(f+=1),(null==(u=null==o?void 0:o.value)?void 0:u.big_lp_without_any_lock)&&1==(null==(d=null==o?void 0:o.value)?void 0:d.big_lp_without_any_lock)&&(f+=1),f+=null==(v=null==(c=null==ve?void 0:ve.value)?void 0:c.filter(e=>1==e[0]))?void 0:v.length,(null==_e?void 0:_e.value)&&(null==(p=null==_e?void 0:_e.value)||p.forEach(e=>{1==e[0]&&(f+=1)})),(null==(m=null==o?void 0:o.value)?void 0:m.audit_pass_by)?0:f}),Ae=c(()=>{var e;const l=r(E.params.id);return(null==l?void 0:l.chain)||(null==(e=a.token)?void 0:e.chain)||""}),Se=c(()=>{var e,l;if(t.evmAddress){const a=null==(l=null==(e=t.userInfo)?void 0:e.addresses)?void 0:l.find(e=>e.chain==Ae.value);return a?a.address:null==t?void 0:t.evmAddress}return(null==n?void 0:n.address)||""});function Ne(e){var l;const a=Object.assign({"/assets/images/check-danger1.svg":Uo,"/assets/images/check-normal-half.svg":Ro,"/assets/images/check-normal1.svg":Oo,"/assets/images/check-unknownRisk1.svg":Ho,"/assets/images/check-warning1.svg":jo});return(null==(l=Object.entries(a).find(([l])=>l.endsWith(`check-${e}.svg`)))?void 0:l[1])||""}function $e(e){return(null==e?void 0:e.lock)||/lock|null|(black hole)/gi.test((null==e?void 0:e.mark)||"")}function Ie(e){let{vote_support:l=0,vote_against:a=0}=e??{};if(l=l||0,a=a||0,0===l&&0===a)return[0,0,0];const t=l+a;return[l/t||0,a/t,t||0]}function Fe(e){let{vote_support:l=0,vote_against:a=0}=e??{};if(l=l||0,a=a||0,0===l&&0===a)return[.5,.5,0];const t=l+a;return[l/t||0,a/t,t||0]}function Le(){var e;if(Y().currentAddress||z().changeConnectVisible(!0),0!==(null==(e=null==o?void 0:o.value)?void 0:e.my_vote))return void ne.error(M("voted"));oe.confirm(M("voteTips"),{confirmButtonText:M("confirm1"),cancelButtonText:M("cancel"),type:"warning"}).then(()=>{(()=>{const e=E.params.id;ie.value=!0,Un(e,Se.value).then(()=>{var e;0===(null==(e=null==o?void 0:o.value)?void 0:e.my_vote)?ne.success(M("voteSuccess")):ne.success(M("success")),Be()}).catch(e=>{ne.error(e.message||e)}).finally(()=>{ie.value=!1})})()}).catch(()=>{})}function Ve(){var e;if(Y().currentAddress||z().changeConnectVisible(!0),0!==(null==(e=null==o?void 0:o.value)?void 0:e.my_vote))return void ne.error(M("voted"));oe.confirm(M("voteTips"),{confirmButtonText:M("confirm1"),cancelButtonText:M("cancel"),type:"warning"}).then(()=>{(()=>{const e=E.params.id;ie.value=!0,Rn(e,Se.value).then(()=>{var e;0===(null==(e=null==o?void 0:o.value)?void 0:e.my_vote)?ne.success(M("voteSuccess")):ne.success(M("success")),Be()}).catch(e=>{ne.error(e.message||e)}).finally(()=>{ie.value=!1})})()}).catch(()=>{})}function Be(){if(!ue.value||!Y().currentAddress)return;const e=E.params.id;En(e,Se.value).then(e=>{Object.keys(e).forEach(l=>{o.value&&(o.value[l]=e[l])})})}return d(ye,e=>{D.statistics_risk_store=e}),d(Ce,e=>{D.statistics_warning_store=e}),d(Te,e=>{D.statistics_unknown_store=e}),d(()=>ue.value,e=>{e&&Be()}),u(()=>{Be()}),d(()=>Y().currentAddress,()=>{Be()}),(e,l)=>{const a=y,t=Fn,n=Bn,s=yn,i=ee,r=Vn,u=$n,d=te,c=p("tooltip"),v=p("copy");return h(ue)?(x(),m(d,{key:0,modelValue:h(ue),"onUpdate:modelValue":l[6]||(l[6]=e=>B(ue)?ue.value=e:null),"append-to-body":"","with-header":!1,size:480,"destroy-on-close":"",class:"draw-right"},{default:b(()=>{var d;return[k("div",Ss,[k("div",Ns,[(null==(d=h(o))?void 0:d.ai_report)?(x(),w("div",$s,[l[7]||(l[7]=k("img",{src:"data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M10.0002%200C10.3036%203.65386e-05%2010.5959%200.112414%2010.8206%200.314453C11.0451%200.516434%2011.1865%200.793616%2011.2161%201.09277C11.2456%201.3921%2011.1617%201.69223%2010.9807%201.93359C10.7997%202.17496%2010.5342%202.3412%2010.2366%202.39941V3.52148C12.2395%203.58399%2014.1592%204.4363%2015.6653%205.94336C17.3937%207.66451%2018.363%209.99524%2018.3596%2012.4238L18.3538%2014.1523C18.3413%2017.9779%2015.584%2020%2010.3801%2020H9.62622C4.42243%2020%201.6652%2017.9779%201.65259%2014.1523L1.64673%2012.4229C1.64351%209.99465%202.61196%207.6642%204.34009%205.94336C5.84483%204.43792%207.76316%203.58476%209.76392%203.52148V2.39941C9.46629%202.34121%209.2008%202.17491%209.01978%201.93359C8.83875%201.69222%208.75492%201.39212%208.78442%201.09277C8.81399%200.793794%208.95461%200.516399%209.17896%200.314453C9.40368%200.112381%209.69684%200%2010.0002%200ZM9.81567%2015.9561C9.63227%2015.9922%209.46354%2016.0808%209.3313%2016.2119C9.19904%2016.343%209.109%2016.5105%209.07251%2016.6924C9.03611%2016.874%209.05482%2017.0623%209.12622%2017.2334C9.1978%2017.4047%209.31934%2017.5513%209.47485%2017.6543C9.63037%2017.7573%209.81321%2017.8125%2010.0002%2017.8125C10.251%2017.8125%2010.4919%2017.7139%2010.6692%2017.5381C10.8465%2017.3623%2010.9456%2017.1236%2010.9456%2016.875C10.9455%2016.6897%2010.8902%2016.5086%2010.7864%2016.3545C10.6825%2016.2003%2010.5344%2016.0797%2010.3616%2016.0088C10.1889%2015.938%209.99897%2015.9199%209.81567%2015.9561ZM10.0002%205.78125C6.14201%205.78125%203.39649%209.10304%203.80298%2012.8711C3.87489%2013.5606%204.20146%2014.1999%204.71997%2014.665C5.23849%2015.13%205.91237%2015.3884%206.61157%2015.3906C8.30574%2015.3859%208.30595%2014.4531%2010.0002%2014.4531C11.6944%2014.4532%2011.6946%2015.3859%2013.3889%2015.3906C14.0882%2015.3884%2014.762%2015.1301%2015.2805%2014.665C15.799%2014.1999%2016.1256%2013.5607%2016.1975%2012.8711C16.604%209.10309%2013.8584%205.78134%2010.0002%205.78125ZM1.66724%208.56543C1.71372%208.57291%201.75682%208.59414%201.79126%208.62598C1.82576%208.65793%201.84992%208.69952%201.8606%208.74512C1.87123%208.79058%201.86846%208.83819%201.85181%208.88184C1.39582%2010.0072%201.16562%2011.2101%201.17407%2012.4229L1.17896%2014.1543C1.17975%2014.4041%201.19347%2014.6551%201.21899%2014.9004C1.22301%2014.9465%201.21297%2014.9926%201.19067%2015.0332C1.16829%2015.0739%201.13436%2015.1072%201.09302%2015.1289C1.05167%2015.1506%201.00479%2015.1599%200.958252%2015.1553C0.911787%2015.1507%200.867483%2015.1328%200.831299%2015.1035C0.75616%2015.0416%200.684886%2014.9752%200.618408%2014.9043C-0.055234%2014.1771%20-0.024199%2013.2542%200.0197754%2011.9775C0.0627959%2010.7094%200.0940511%209.7937%200.821533%209.0752C1.02776%208.87299%201.26715%208.70655%201.52954%208.58398C1.57244%208.56443%201.62062%208.55796%201.66724%208.56543ZM18.4709%208.58398C18.7333%208.70655%2018.9728%208.87303%2019.179%209.0752C19.9062%209.79371%2019.9377%2010.7094%2019.9807%2011.9775C20.0241%2013.2542%2020.0547%2014.1771%2019.3811%2014.9043C19.3147%2014.9751%2019.2433%2015.0417%2019.1682%2015.1035C19.132%2015.1327%2019.0877%2015.1507%2019.0413%2015.1553C18.9949%2015.1598%2018.9477%2015.1505%2018.9065%2015.1289C18.8654%2015.1072%2018.8311%2015.0738%2018.8088%2015.0332C18.7866%2014.9926%2018.7775%2014.9464%2018.7815%2014.9004C18.807%2014.6552%2018.8205%2014.4042%2018.8206%2014.1543L18.8264%2012.4229C18.8349%2011.2101%2018.6046%2010.0072%2018.1487%208.88184C18.132%208.83818%2018.1293%208.79061%2018.1399%208.74512C18.1506%208.69952%2018.1747%208.65793%2018.2092%208.62598C18.2437%208.59411%2018.2867%208.57289%2018.3333%208.56543C18.3799%208.55796%2018.428%208.56443%2018.4709%208.58398Z'%20fill='%233F80F7'/%3e%3cpath%20d='M12%208H12.8193V13H12V8Z'%20fill='%23333333'/%3e%3cpath%20d='M7.91176%208H8.84314L10.7549%2013H9.87955L9.42437%2011.7465H7.33053L6.87535%2013H6L7.91176%208ZM7.57563%2011.0742H9.17927L8.39496%208.88235H8.36695L7.57563%2011.0742Z'%20fill='%23333333'/%3e%3c/svg%3e",alt:"",width:20,class:"mr-5px"},null,-1)),I(_(e.$t("AI")),1)])):(x(),w("span",Is,_(e.$t("check2")),1)),S(a,{name:"ri:close-large-fill",class:"clickable",onClick:l[0]||(l[0]=L(e=>ue.value=!1,["stop"]))})]),k("div",Fs,[h(A)?(x(),m(r,{key:0,gutter:20},{default:b(()=>{var r,u,d;return[S(n,{span:24},{default:b(()=>{var l,a,n,s,i,r;return[k("div",Ls,[k("div",null,[k("div",Vs,[(null==(l=h(o))?void 0:l.is_safu_contract)?(x(),w("div",Bs,[k("div",Ds,[k("div",null,[k("span",null,_(e.$t("SAFU")),1),k("span",null,_(1==(null==(a=h(o))?void 0:a.is_safu_contract)?"PinkSale":null==(n=h(o))?void 0:n.is_safu_contract),1)])])])):f("",!0),S(t,{progress:h(F),width:140,height:80,thickness:7,big:!1,class:"arc-progress",fontSize:"24px",textHeight:40},null,8,["progress"]),(null==(s=h(o))?void 0:s.audit_pass_by)?(x(),w("a",{key:1,class:"audit-bg-absolute",href:null==(i=h(o))?void 0:i.audit_link,target:"_blank"},[k("div",Ps,[k("div",null,[k("span",null,_(e.$t("audited")),1),k("span",null,_(null==(r=h(o))?void 0:r.audit_pass_by),1)])])],8,Ms)):f("",!0)])])])]}),_:1}),S(n,{span:24},{default:b(()=>{var e,l,a,t,n,s,i,r,u;return[(null==(e=h(o))?void 0:e.ai_report)?(x(),w("div",Es,[k("div",Us,[(null==(a=null==(l=h(de))?void 0:l.filter(e=>-3==Number(null==e?void 0:e.risk_level)))?void 0:a.length)>0?(x(),w("img",Rs)):(x(),w("img",Os)),k("span",Hs,_((null==(n=null==(t=h(de))?void 0:t.filter(e=>-3==Number(null==e?void 0:e.risk_level)))?void 0:n.length)||0),1)]),k("div",js,[(null==(s=h(de).filter(e=>-2==Number(null==e?void 0:e.risk_level)))?void 0:s.length)>0?(x(),w("img",zs)):(x(),w("img",Ws)),k("span",qs,_(null==(i=h(de).filter(e=>-2==Number(null==e?void 0:e.risk_level)))?void 0:i.length),1)]),k("div",Gs,[(null==(r=h(de).filter(e=>-1!==Number(null==e?void 0:e.risk_level)))?void 0:r.length)>0?(x(),w("img",Ys)):(x(),w("img",Qs)),k("span",Ks,_(null==(u=h(de).filter(e=>-1==Number(null==e?void 0:e.risk_level)))?void 0:u.length),1)])])):(x(),w("div",Xs,[k("div",Zs,[h(ye)?(x(),w("img",Js)):(x(),w("img",ei)),k("span",li,_(h(ye)||0),1)]),k("div",ai,[h(Ce)?(x(),w("img",ti)):(x(),w("img",ni)),k("span",oi,_(h(Ce)),1)]),k("div",si,[h(Te)?(x(),w("img",ii)):(x(),w("img",ri)),k("span",ui,_(h(Te)),1)])]))]}),_:1}),(null==(r=h(o))?void 0:r.ai_report)?f("",!0):(x(),m(n,{key:0,span:24},{default:b(()=>{var e,t,n;return[k("div",di,[k("ul",null,[(x(!0),w(T,null,C(h(R)||"solana"===(null==(e=h(o))?void 0:e.chain)?h(ve):null==(t=h(ve))?void 0:t.slice(0,2),(e,l)=>(x(),w(T,{key:l},[.6===e[0]?(x(),w("li",ci,[g((x(),w("div",vi,[k("img",{src:Ne(se[e[0]]),width:"12px",alt:""},null,8,pi),k("span",mi,_(e[1]),1)])),[[c,h(M)("notSurePermissionRemovalRemovesRisk")]])])):(x(),w("li",{key:1,class:V(["card-list-item flex-start",`${se[e[0]]}`])},[k("img",{src:Ne(se[e[0]]),width:"12px",alt:""},null,8,fi),k("span",{class:V(e[0]>1?"color-[--main-text] ml-5px":"color-[--secondary-text] ml-5px")},_(e[1]),3)],2))],64))),128))]),h(ve).length>2&&"solana"!==(null==(n=h(o))?void 0:n.chain)?(x(),w("a",{key:0,class:"block text-center",href:"",style:{"font-size":"12px","text-decoration":"none"},onClick:l[1]||(l[1]=L(e=>R.value=!h(R),["stop","prevent"]))},[S(a,{class:"text-24px color-[--third-text]",name:h(R)?"material-symbols:keyboard-arrow-up":"material-symbols:keyboard-arrow-down"},null,8,["name"])])):f("",!0),h(he)?(x(),w("div",hi,_(h(M)("remark"))+": "+_(h(he)),1)):f("",!0)])]}),_:1})),S(n,{span:24},{default:b(()=>{var t,n,s,i,r,u,d,c,p,y,T,C,A,$,F,B,D,M,P,E,U,R,j,z,W,q,G,Y,J,ee,le,ae,te,ne,oe,se,ie,re,ue,de,ce,ve,pe,me,fe,he,xe,be,ke,ge,_e,ye,we,Te,Ce,Ae,Se,Ne,$e,Ie,Fe,Le,Ve,Be,De,Me;return[k("div",xi,[k("div",bi,[k("ul",ki,[k("li",{class:"card-list-item cursor-pointer",onClick:l[2]||(l[2]=L(e=>{O.value=!h(O),H.value=!h(H)},["stop"]))},[k("span",null,_(e.$t("buyTax")),1),k("span",{class:V(["flex items-center",{danger:((null==(t=h(o))?void 0:t.buy_tax)??0)>0}])},[I(_(h(Q)((null==(n=h(o))?void 0:n.buy_tax)||0,2))+"% ",1),Number(null==(s=h(o))?void 0:s.tm_buy_tax_for_lp)>0||Number(null==(i=h(o))?void 0:i.tm_buy_tax_for_burn)>0||Number(null==(r=h(o))?void 0:r.tm_buy_tax_for_fund)>0||Number(null==(u=h(o))?void 0:u.tm_buy_tax_for_holders)>0||Number(null==(d=h(o))?void 0:d.tm_buy_tax_for_lp_holders)>0||Number(null==(c=h(o))?void 0:c.tm_buy_tax_for_team)>0||Number(null==(p=h(o))?void 0:p.tm_buy_tax_for_inviter)>0||Number(null==(y=h(o))?void 0:y.tm_buy_tax_for_other)>0?(x(),m(a,{key:0,class:"text-20px color-[--secondary-text]",name:h(O)?"material-symbols:keyboard-arrow-up":"material-symbols:keyboard-arrow-down"},null,8,["name"])):f("",!0)],2)]),S(K,null,{default:b(()=>{var l,a,t,n,s,i,r,u,d,c,v,p,m,b,g,y,T,C,A,S,N,$,I,F;return[h(O)&&(Number(null==(l=h(o))?void 0:l.tm_buy_tax_for_lp)>0||Number(null==(a=h(o))?void 0:a.tm_buy_tax_for_burn)>0||Number(null==(t=h(o))?void 0:t.tm_buy_tax_for_fund)>0||Number(null==(n=h(o))?void 0:n.tm_buy_tax_for_holders)>0||Number(null==(s=h(o))?void 0:s.tm_buy_tax_for_lp_holders)>0||Number(null==(i=h(o))?void 0:i.tm_buy_tax_for_team)>0||Number(null==(r=h(o))?void 0:r.tm_buy_tax_for_inviter)>0||Number(null==(u=h(o))?void 0:u.tm_buy_tax_for_other)>0)?(x(),w("li",gi,[k("ul",_i,[Number(null==(d=h(o))?void 0:d.tm_buy_tax_for_lp)>0?(x(),w("li",yi,[k("span",null,_(e.$t("tm_buy_tax_for_lp")),1),k("span",wi,_(h(Q)((null==(c=h(o))?void 0:c.tm_buy_tax_for_lp)||0,2))+"% ",1)])):f("",!0),Number(null==(v=h(o))?void 0:v.tm_buy_tax_for_burn)>0?(x(),w("li",Ti,[k("span",null,_(e.$t("tm_buy_tax_for_burn")),1),k("span",Ci,_(h(Q)((null==(p=h(o))?void 0:p.tm_buy_tax_for_burn)||0,2))+"% ",1)])):f("",!0),Number(null==(m=h(o))?void 0:m.tm_buy_tax_for_fund)>0?(x(),w("li",Ai,[k("span",null,_(e.$t("tm_buy_tax_for_fund")),1),k("span",Si,_(h(Q)((null==(b=h(o))?void 0:b.tm_buy_tax_for_fund)||0,2))+"% ",1)])):f("",!0),Number(null==(g=h(o))?void 0:g.tm_buy_tax_for_holders)>0?(x(),w("li",Ni,[k("span",null,_(e.$t("tm_buy_tax_for_holders")),1),k("span",$i,_(h(Q)((null==(y=h(o))?void 0:y.tm_buy_tax_for_holders)||0,2))+"% ",1)])):f("",!0),Number(null==(T=h(o))?void 0:T.tm_buy_tax_for_lp_holders)>0?(x(),w("li",Ii,[k("span",null,_(e.$t("tm_buy_tax_for_lp_holders")),1),k("span",Fi,_(h(Q)((null==(C=h(o))?void 0:C.tm_buy_tax_for_lp_holders)||0,2))+"% ",1)])):f("",!0),Number(null==(A=h(o))?void 0:A.tm_buy_tax_for_team)>0?(x(),w("li",Li,[k("span",null,_(e.$t("tm_buy_tax_for_team")),1),k("span",Vi,_(h(Q)((null==(S=h(o))?void 0:S.tm_buy_tax_for_team)||0,2))+"% ",1)])):f("",!0),Number(null==(N=h(o))?void 0:N.tm_buy_tax_for_inviter)>0?(x(),w("li",Bi,[k("span",null,_(e.$t("tm_buy_tax_for_inviter")),1),k("span",Di,_(h(Q)((null==($=h(o))?void 0:$.tm_buy_tax_for_inviter)||0,2))+"% ",1)])):f("",!0),Number(null==(I=h(o))?void 0:I.tm_buy_tax_for_other)>0?(x(),w("li",Mi,[k("span",null,_(e.$t("tm_buy_tax_for_other")),1),k("span",Pi,_(h(Q)((null==(F=h(o))?void 0:F.tm_buy_tax_for_other)||0,2))+"% ",1)])):f("",!0)])])):f("",!0)]}),_:1})]),k("ul",Ei,[k("li",{class:"card-list-item cursor-pointer",onClick:l[3]||(l[3]=L(e=>{O.value=!h(O),H.value=!h(H)},["stop"]))},[k("span",null,_(e.$t("sellTax")),1),k("span",{class:V(["flex items-center",{danger:(null==(T=h(o))?void 0:T.sell_tax)??!1}])},[I(_(h(Q)((null==(C=h(o))?void 0:C.sell_tax)||0,2))+"% ",1),Number(null==(A=h(o))?void 0:A.tm_sell_tax_for_lp)>0||Number(null==($=h(o))?void 0:$.tm_sell_tax_for_burn)>0||Number(null==(F=h(o))?void 0:F.tm_sell_tax_for_fund)>0||Number(null==(B=h(o))?void 0:B.tm_sell_tax_for_holders)>0||Number(null==(D=h(o))?void 0:D.tm_sell_tax_for_lp_holders)>0||Number(null==(M=h(o))?void 0:M.tm_sell_tax_for_team)>0||Number(null==(P=h(o))?void 0:P.tm_sell_tax_for_inviter)>0||Number(null==(E=h(o))?void 0:E.tm_sell_tax_for_other)>0?(x(),m(a,{key:0,class:"text-20px color-[--secondary-text]",name:h(H)?"material-symbols:keyboard-arrow-up":"material-symbols:keyboard-arrow-down"},null,8,["name"])):f("",!0)],2)]),S(K,null,{default:b(()=>{var l,a,t,n,s,i,r,u,d,c,v,p,m,b,g,y,T,C,A,S,N,$,I,F;return[h(H)&&(Number(null==(l=h(o))?void 0:l.tm_sell_tax_for_lp)>0||Number(null==(a=h(o))?void 0:a.tm_sell_tax_for_burn)>0||Number(null==(t=h(o))?void 0:t.tm_sell_tax_for_fund)>0||Number(null==(n=h(o))?void 0:n.tm_sell_tax_for_holders)>0||Number(null==(s=h(o))?void 0:s.tm_sell_tax_for_lp_holders)>0||Number(null==(i=h(o))?void 0:i.tm_sell_tax_for_team)>0||Number(null==(r=h(o))?void 0:r.tm_sell_tax_for_inviter)>0||Number(null==(u=h(o))?void 0:u.tm_sell_tax_for_other)>0)?(x(),w("li",Ui,[k("ul",Ri,[Number(null==(d=h(o))?void 0:d.tm_sell_tax_for_lp)>0?(x(),w("li",Oi,[k("span",null,_(e.$t("tm_sell_tax_for_lp")),1),k("span",Hi,_(h(Q)((null==(c=h(o))?void 0:c.tm_sell_tax_for_lp)||0,2))+"% ",1)])):f("",!0),Number(null==(v=h(o))?void 0:v.tm_sell_tax_for_burn)>0?(x(),w("li",ji,[k("span",null,_(e.$t("tm_sell_tax_for_burn")),1),k("span",zi,_(h(Q)((null==(p=h(o))?void 0:p.tm_sell_tax_for_burn)||0,2))+"% ",1)])):f("",!0),Number(null==(m=h(o))?void 0:m.tm_sell_tax_for_fund)>0?(x(),w("li",Wi,[k("span",null,_(e.$t("tm_sell_tax_for_fund")),1),k("span",qi,_(h(Q)((null==(b=h(o))?void 0:b.tm_sell_tax_for_fund)||0,2))+"% ",1)])):f("",!0),Number(null==(g=h(o))?void 0:g.tm_sell_tax_for_holders)>0?(x(),w("li",Gi,[k("span",null,_(e.$t("tm_sell_tax_for_holders")),1),k("span",Yi,_(h(Q)((null==(y=h(o))?void 0:y.tm_sell_tax_for_holders)||0,2))+"% ",1)])):f("",!0),Number(null==(T=h(o))?void 0:T.tm_sell_tax_for_lp_holders)>0?(x(),w("li",Qi,[k("span",null,_(e.$t("tm_sell_tax_for_lp_holders")),1),k("span",Ki,_(h(Q)((null==(C=h(o))?void 0:C.tm_sell_tax_for_lp_holders)||0,2))+"% ",1)])):f("",!0),Number(null==(A=h(o))?void 0:A.tm_sell_tax_for_team)>0?(x(),w("li",Xi,[k("span",null,_(e.$t("tm_sell_tax_for_team")),1),k("span",Zi,_(h(Q)((null==(S=h(o))?void 0:S.tm_sell_tax_for_team)||0,2))+"% ",1)])):f("",!0),Number(null==(N=h(o))?void 0:N.tm_sell_tax_for_inviter)>0?(x(),w("li",Ji,[k("span",null,_(e.$t("tm_sell_tax_for_inviter")),1),k("span",er,_(h(Q)((null==($=h(o))?void 0:$.tm_sell_tax_for_inviter)||0,2))+"% ",1)])):f("",!0),Number((null==(I=h(o))?void 0:I.tm_sell_tax_for_other)||0)>0?(x(),w("li",lr,[k("span",null,_(e.$t("tm_sell_tax_for_other")),1),k("span",ar,_(h(Q)((null==(F=h(o))?void 0:F.tm_sell_tax_for_other)||0,2))+"% ",1)])):f("",!0)])])):f("",!0)]}),_:1})])]),Number((null==(U=h(o))?void 0:U.buy_gas)||0)>=.1||(null==(R=h(o))?void 0:R.buy_max_amount_per_tx)||Number((null==(j=h(o))?void 0:j.sell_gas)||0)>=.1||(null==(z=h(o))?void 0:z.sell_max_amount_per_tx)?(x(),w("div",tr,[k("ul",nr,[Number(null==(W=h(o))?void 0:W.buy_gas)>=.1?(x(),w("li",or,[k("span",null,_(e.$t("buy_gas")),1),k("span",{style:N({color:h(X)(Number((null==(q=h(o))?void 0:q.buy_gas)||0),(null==(G=h(o))?void 0:G.chain)||"")})}," $"+_(h(Q)((null==(Y=h(o))?void 0:Y.buy_gas)||0,2)),5)])):f("",!0),(null==(J=h(o))?void 0:J.buy_max_amount_per_tx)?(x(),w("li",sr,[k("span",null,_(e.$t("buyMaxAmount")),1),k("span",ir,_(h(Q)((null==(ee=h(o))?void 0:ee.buy_max_amount_per_tx)||0,0)),1)])):f("",!0)]),k("ul",rr,[Number((null==(le=h(o))?void 0:le.sell_gas)||0)>=.1?(x(),w("li",ur,[k("span",null,_(e.$t("sell_gas")),1),k("span",{style:N({color:h(X)(Number((null==(ae=h(o))?void 0:ae.sell_gas)||0),(null==(te=h(o))?void 0:te.chain)||"")})}," $"+_(h(Q)((null==(ne=h(o))?void 0:ne.sell_gas)||0,2)),5)])):f("",!0),(null==(oe=h(o))?void 0:oe.sell_max_amount_per_tx)?(x(),w("li",dr,[k("span",null,_(e.$t("sellMaxAmount")),1),k("span",cr,_(h(Q)((null==(se=h(o))?void 0:se.sell_max_amount_per_tx)||0,0)),1)])):f("",!0)])])):f("",!0),Number((null==(ie=h(o))?void 0:ie.approve_gas)||0)>=.1||(null==(re=h(o))?void 0:re.tm_max_hold_amount_per_wallet)||(null==(ue=h(o))?void 0:ue.tm_bonus_token_name)||(null==(de=h(o))?void 0:de.tm_bonus_token_for_lp_holders)||(null==(ce=h(o))?void 0:ce.market_wallet)||(null==(ve=h(o))?void 0:ve.team_wallet)||(null==(pe=h(o))?void 0:pe.tm_kill_block_after_open)||(null==(me=h(o))?void 0:me.tm_start_trade_at_block)||(null==(fe=h(o))?void 0:fe.mechanism_intro)?(x(),w("ul",vr,[Number((null==(he=h(o))?void 0:he.approve_gas)||0)>=.1?(x(),w("li",pr,[k("span",null,_(e.$t("approve_gas")),1),k("span",{style:N({color:h(X)(Number((null==(xe=h(o))?void 0:xe.approve_gas)||0),(null==(be=h(o))?void 0:be.chain)||"")})}," $"+_(h(Q)((null==(ke=h(o))?void 0:ke.approve_gas)||0,2)),5)])):f("",!0),(null==(ge=h(o))?void 0:ge.tm_max_hold_amount_per_wallet)?(x(),w("li",mr,[k("span",null,_(e.$t("tm_max_hold_amount_per_wallet")),1),k("span",fr,_(h(Q)(h(o).tm_max_hold_amount_per_wallet,0)),1)])):f("",!0),(null==(_e=h(o))?void 0:_e.tm_bonus_token_name)?(x(),w("li",hr,[k("span",null,_(e.$t("tm_bonus_token_name")),1),k("a",{href:h(Z)((null==(ye=h(o))?void 0:ye.chain)||"",(null==(we=h(o))?void 0:we.tm_bonus_token_for_holders)||""),target:"_blank"},_(h(o).tm_bonus_token_name),9,xr)])):f("",!0),(null==(Te=h(o))?void 0:Te.tm_bonus_token_for_lp_holders)?(x(),w("li",br,[k("span",null,_(e.$t("tm_bonus_token_name_for_lp")),1),k("div",kr,[k("a",{href:h(Z)(h(o).chain||"",h(o).tm_bonus_token_for_lp_holders||"","address"),target:"_blank"},_((null==(Ce=h(o))?void 0:Ce.tm_bonus_token_name_for_lp)||((null==(Ae=h(o))?void 0:Ae.tm_bonus_token_for_lp_holders)||"").replace(new RegExp("(^.{6})(.+)(.{4}$)"),"$1...$3")),9,gr)])])):f("",!0),(null==(Se=h(o))?void 0:Se.market_wallet)?(x(),w("li",_r,[k("span",null,_(e.$t("fundWallet")),1),k("div",yr,[k("a",{href:h(Z)((null==(Ne=h(o))?void 0:Ne.chain)||"",(null==($e=h(o))?void 0:$e.market_wallet)||"","address"),target:"_blank"},_((h(o).market_wallet||"").replace(new RegExp("(^.{6})(.+)(.{4}$)"),"$1...$3")),9,wr),g(S(a,{name:"bxs:copy",class:"text-12px ml-2px clickable color-#999",onClick:l[4]||(l[4]=L(()=>{},["stop","prevent"]))},null,512),[[v,h(o).market_wallet||""]])])])):f("",!0),(null==(Ie=h(o))?void 0:Ie.team_wallet)?(x(),w("li",Tr,[k("span",null,_(e.$t("teamWallet")),1),k("div",null,[k("a",{href:h(Z)(h(o).chain||"",h(o).team_wallet||"","address"),target:"_blank"},_((h(o).team_wallet||"").replace(new RegExp("(^.{6})(.+)(.{4}$)"),"$1...$3")),9,Cr),g(S(a,{name:"bxs:copy",class:"text-12px ml-2px clickable color-#999",onClick:l[5]||(l[5]=L(()=>{},["stop","prevent"]))},null,512),[[v,h(o).team_wallet||""]])])])):f("",!0),(null==(Fe=h(o))?void 0:Fe.tm_kill_block_after_open)?(x(),w("li",Ar,[k("span",null,_(e.$t("tm_kill_block_after_open")),1),k("span",null,_(h(Q)(h(o).tm_kill_block_after_open,0)),1)])):f("",!0),(null==(Le=h(o))?void 0:Le.tm_start_trade_at_block)?(x(),w("li",Sr,[k("span",null,_(e.$t("tm_start_trade_at_block")),1),k("span",null,_(h(Q)(h(o).tm_start_trade_at_block,0)),1)])):f("",!0),(null==(Ve=h(o))?void 0:Ve.mechanism_intro)?(x(),w("li",Nr,[k("span",$r,_(e.$t("mechanism_intro")),1),k("span",{class:"",innerHTML:null==(Me=null==(De=null==(Be=h(o))?void 0:Be.mechanism_intro)?void 0:De.replace)?void 0:Me.call(De,/\n/g,"<br/>")},null,8,Ir)])):f("",!0)])):f("",!0)])]}),_:1}),(null==(u=h(o))?void 0:u.ai_report)?(x(),m(n,{key:1,span:24},{default:b(()=>{var e;return[S(As,{obj:null==(e=h(o))?void 0:e.ai_report,riskList:h(de)},null,8,["obj","riskList"])]}),_:1})):f("",!0),S(n,{span:24},{default:b(()=>{var t,n,r,u,d,c,v,p,g,y,A,$,F,L,B,D,M,P,E,U,R,O,H,j,z,W,q,G,K,X;return[k("div",Fr,_(null==(n=null==(t=h(re))?void 0:t[0])?void 0:n.name)+"("+_(h(Q)((null==(r=h(o))?void 0:r.holders)||0))+") ",1),k("div",Lr,[k("div",Vr,[k("span",Br,_(e.$t("totalSupply1")),1),k("span",Dr,_(h(Q)((null==(u=h(o))?void 0:u.total)||0)),1)]),k("div",Mr,[k("span",Pr,_(e.$t("top10Holder")),1),l[8]||(l[8]=k("span",{style:{flex:"1"}},null,-1)),k("span",Er,_(h(Q)(100*h(be),1))+"%",1),k("div",Ur,[k("span",{class:"range-bar",style:N({width:h(Q)(100*h(be))+"%"})},null,4)])]),k("ul",Rr,[(x(!0),w(T,null,C((null==(d=h(o))?void 0:d.token_holders_rank)||[],(t,n)=>{var i,r,u;return x(),w(T,{key:n},[k("li",{class:V(["card-list-item holder-item",{"bg-warning":1===Number(null==t?void 0:t.analysis_show_warning)}])},[k("a",{class:"flex items-center justify-items-start",href:h(Z)((null==(i=h(o))?void 0:i.chain)||"",t.address||"","address"),target:"_blank"},[k("span",null,_(n+1)+".",1),1===Number(null==t?void 0:t.analysis_show_creator)?(x(),m(s,{key:0,type:"primary",round:"",size:"small",class:"mr-3px"},{default:b(()=>[I(_(e.$t("contractCreator")),1)]),_:1})):f("",!0),t.lock||/lock|null/gi.test(t.mark||"")?(x(),m(a,{key:1,class:"text-14px",color:"#B3920E",name:"material-symbols-light:lock"})):f("",!0),1===t.is_lp?(x(),w("img",Hr)):f("",!0),(null==t?void 0:t.is_contract)&&1===(null==t?void 0:t.is_contract)?(x(),w("img",jr)):f("",!0),t.mark?(x(),w(T,{key:5},[I(_(t.mark),1)],64)):(x(),w(T,{key:4},[I(_((t.address||"").slice(0,2)+"..."+(t.address||"").slice(-4)),1)],64)),t.lock&&t.lock.length>0&&t.lock.every(e=>1e3*((null==e?void 0:e.unlockDate)??0)<=Date.now())?(x(),w(T,{key:6},[l[9]||(l[9]=k("br",null,null,-1)),I(" "+_(e.$t("unlocked")),1)],64)):f("",!0)],8,Or),k("div",zr,[k("span",null,_(h(Q)(t.quantity||0,2)),1),(null==(r=h(o))?void 0:r.total)&&(null==t?void 0:t.quantity)?(x(),w("span",Wr," ("+_(h(Q)(100*Number(null==t?void 0:t.quantity)/Number(null==(u=h(o))?void 0:u.total)||0,2))+"%) ",1)):f("",!0)])],2),t.lock&&t.lock.length>0?(x(),w("table",qr,[k("thead",null,[k("tr",null,[k("th",null,_(e.$t("amount")),1),k("th",null,_(e.$t("lockDate")),1),k("th",null,_(e.$t("unlockDateStart")),1),k("th",null,_(e.$t("unlockDateEnd")),1)])]),(x(!0),w(T,null,C(t.lock,(e,l)=>(x(),w("tr",{key:l},[k("td",null,_(h(Q)((null==e?void 0:e.amount)||0,2)),1),(null==e?void 0:e.lockDate)?(x(),w("td",Gr,_(h(J)(null==e?void 0:e.lockDate,"YYYY-MM-DD")),1)):f("",!0),(null==e?void 0:e.unlockDate)?(x(),w("td",Yr,_(h(J)(null==e?void 0:e.unlockDate,"YYYY-MM-DD")),1)):f("",!0),(null==e?void 0:e.vesting_end)||(null==e?void 0:e.unlockDate)?(x(),w("td",Qr,_(h(J)((null==e?void 0:e.vesting_end)||(null==e?void 0:e.unlockDate)||0,"YYYY-MM-DD")),1)):f("",!0)]))),128))])):f("",!0)],64)}),128))]),h(fe)?(x(),w("div",Kr,_(e.$t("remark"))+": "+_(h(fe)),1)):f("",!0)]),k("div",Xr,_(null==(v=null==(c=h(re))?void 0:c[1])?void 0:v.name)+"("+_(h(Q)((null==(p=h(o))?void 0:p.pair_holders)||0))+") ",1),k("div",Zr,[k("div",Jr,[k("span",eu,_(e.$t("totalSupply1")),1),k("span",lu,_(h(Q)((null==(g=h(o))?void 0:g.pair_total)||0)),1)]),k("div",au,[k("span",tu,_(e.$t("LPLocked")),1),k("span",nu,_(h(Q)(100*h(ge),1))+"%",1),k("div",ou,[k("span",{class:"range-bar",style:N({width:h(Q)(100*h(ge))+"%"})},null,4)])]),k("ul",su,[(x(!0),w(T,null,C((null==(y=h(o))?void 0:y.pair_holders_rank)||[],(l,t)=>{var n,i,r,u,d,c,v;return x(),w(T,{key:t},[k("li",{class:V(["card-list-item holder-item",{"bg-warning":1===Number(null==l?void 0:l.analysis_show_warning)}])},[k("a",{href:h(Z)((null==(n=h(o))?void 0:n.chain)||"",(null==l?void 0:l.address)||"","address"),target:"_blank",style:{display:"flex","align-items":"center"}},[k("span",null,_(t+1)+".",1),1===Number(null==l?void 0:l.analysis_show_creator)?(x(),m(s,{key:0,type:"info",round:"",size:"small",class:"mr-3px",effect:"plain"},{default:b(()=>[I(_(e.$t("contractCreator")),1)]),_:1})):f("",!0),$e(l)?(x(),w(T,{key:1},[((null==(i=null==l?void 0:l.lock)?void 0:i.length)??0)>0&&(null==(u=null==(r=null==l?void 0:l.lock)?void 0:r.every)?void 0:u.call(r,e=>1e3*(e.unlockDate??0)<=Date.now()))?(x(),w("img",ru)):(x(),m(a,{key:1,class:"text-14px",color:"#B3920E",name:"material-symbols-light:lock"}))],64)):f("",!0),(null==l?void 0:l.is_contract)&&1===(null==l?void 0:l.is_contract)?(x(),w("img",uu)):f("",!0),(null==l?void 0:l.mark)?(x(),w(T,{key:4},[I(_(null==l?void 0:l.mark),1)],64)):(x(),w(T,{key:3},[I(_(((null==l?void 0:l.address)||"").slice(0,2)+"..."+((null==l?void 0:l.address)||"").slice(-4)),1)],64))],8,iu),k("div",du,[k("span",null,_(h(Q)((null==l?void 0:l.quantity)||0)),1),(null==(d=h(o))?void 0:d.pair_total)&&(null==l?void 0:l.quantity)||(null==l?void 0:l.percent)?(x(),w("span",cu," ("+_(l.percent&&Number(null==l?void 0:l.percent)?h(Q)(100*Number((null==l?void 0:l.percent)||0),2):h(Q)(100*Number(l.quantity)/Number(null==(c=h(o))?void 0:c.pair_total)||0,2))+"%) ",1)):f("",!0)])],2),(null==l?void 0:l.lock)&&(null==(v=null==l?void 0:l.lock)?void 0:v.length)>0?(x(),w("table",vu,[k("thead",null,[k("tr",null,[k("th",null,_(e.$t("amount")),1),k("th",null,_(e.$t("lockDate")),1),k("th",null,_(e.$t("unlockDateStart")),1),k("th",null,_(e.$t("unlockDateEnd")),1)])]),k("tbody",null,[(x(!0),w(T,null,C(l.lock,(e,l)=>(x(),w("tr",{key:l,style:N({color:e.unlockDate??0<=Date.now()?"#FF9F00":""})},[k("td",null,_(h(Q)(e.amount||0)),1),e.lockDate?(x(),w("td",pu,_(h(J)(e.lockDate,"YYYY-MM-DD")),1)):f("",!0),e.unlockDate?(x(),w("td",mu,_(h(J)(e.unlockDate,"YYYY-MM-DD")),1)):f("",!0),e.vesting_end||e.unlockDate?(x(),w("td",fu,_(h(J)(e.vesting_end||e.unlockDate||0,"YYYY-MM-DD")),1)):f("",!0)],4))),128))])])):f("",!0)],64)}),128))]),k("ul",hu,[Number((null==(A=h(o))?void 0:A.analysis_creator_gt_5percent)||0)>5?(x(),w("li",xu,_(e.$t("analysis_creator_gt_5percent"))+"("+_(h(Q)((null==($=h(o))?void 0:$.analysis_creator_gt_5percent)||0,2))+"%) ",1)):f("",!0),"1"===(null==(F=h(o))?void 0:F.analysis_scam_wallet)?(x(),w("li",bu,_(e.$t("analysis_scam_wallet")),1)):f("",!0),Number((null==(L=h(o))?void 0:L.analysis_lp_creator_gt_5percent)||0)>5?(x(),w("li",ku,_(e.$t("analysis_lp_creator_gt_5percent"))+"("+_(h(Q)((null==(B=h(o))?void 0:B.analysis_lp_creator_gt_5percent)||0,2))+"%) ",1)):f("",!0),"1"===(null==(D=h(o))?void 0:D.analysis_big_wallet)?(x(),w("li",gu,_(e.$t("analysis_big_wallet")),1)):f("",!0),(null==(M=h(o))?void 0:M.analysis_lp_locked_or_burned_gt_15days)&&Number(null==(P=h(o))?void 0:P.analysis_lp_locked_or_burned_gt_15days)<50?(x(),w("li",_u,_(e.$t("analysis_lp_locked_or_burned_gt_15days"))+" ("+_(h(Q)((null==(E=h(o))?void 0:E.analysis_lp_locked_or_burned_gt_15days)||0,2))+"%) ",1)):f("",!0),(null==(U=h(o))?void 0:U.analysis_lp_current_adequate)&&"0"==(null==(R=h(o))?void 0:R.analysis_lp_current_adequate)?(x(),w("li",yu,_(e.$t("analysis_lp_current_adequate")),1)):f("",!0),(null==(O=h(o))?void 0:O.big_lp_without_any_lock)&&1==(null==(H=h(o))?void 0:H.big_lp_without_any_lock)?(x(),w("li",wu,_(e.$t("big_lp_without_any_lock")),1)):f("",!0)]),h(me)?(x(),w("div",Tu,_(e.$t("remark"))+": "+_(h(me)),1)):f("",!0)]),(null==(j=h(re))?void 0:j[2])?(x(),w("div",Cu,_(null==(W=null==(z=h(re))?void 0:z[2])?void 0:W.name)+"("+_(h(Q)((null==(G=null==(q=h(o))?void 0:q.owner_txs)?void 0:G.length)||0))+") ",1)):f("",!0),(null==(K=h(re))?void 0:K[2])?(x(),w("div",Au,[(x(!0),w(T,null,C(null==(X=h(o))?void 0:X.owner_txs,(t,n)=>{var s,r,u,d;return x(),w("div",{key:n,class:"ownerTxs",onClick:e=>function(e){var l;(null==e?void 0:e.tx_hash)&&(window.location=Z((null==(l=null==o?void 0:o.value)?void 0:l.chain)||"",(null==e?void 0:e.tx_hash)||"","tx"))}(t)},[k("div",Nu,[k("span",$u,[I(_(null==t?void 0:t.method_name)+" ",1),k("span",Iu,[l[10]||(l[10]=I(" ( ",-1)),l[11]||(l[11]=k("img",{src:"data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1748182189947'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='20308'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M704.590769%20479.389538a39.936%2039.936%200%200%200-39.936-39.936H291.84a39.936%2039.936%200%200%200%200%2079.872h372.814769c22.055385%200%2039.936-17.880615%2039.936-39.936zM544.846769%20692.381538a39.936%2039.936%200%200%200-39.936-39.936H291.84a39.936%2039.936%200%200%200%200%2079.95077H504.910769c22.055385%200%2039.936-17.959385%2039.936-40.01477z%20m332.878769-332.878769v439.453539c0%20106.496-53.248%20159.744-159.822769%20159.744H238.670769C132.017231%20958.700308%2078.769231%20905.452308%2078.769231%20798.956308V159.822769C78.769231%2053.248%20132.017231%200%20238.592%200h279.630769v159.822769c0%20128.866462%2070.813538%20199.68%20199.68%20199.68h159.822769zM837.789538%20279.630769H717.902769c-84.125538%200-119.808-35.682462-119.808-119.808V39.936L837.789538%20279.630769z'%20fill='%23CCCCCC'%20p-id='20309'%3e%3c/path%3e%3c/svg%3e",width:12,alt:""},null,-1)),I(" "+_((null==(s=null==t?void 0:t.method_code)?void 0:s.slice(0,4))+"..."+(null==(r=null==t?void 0:t.method_code)?void 0:r.slice(-4)))+") ",1)])]),k("span",Fu,_((null==(u=String(null==t?void 0:t.timestamp))?void 0:u.length)>10?h(J)(((null==t?void 0:t.timestamp)??0)/1e3||0,"YYYY-MM-DD"):h(J)((null==t?void 0:t.timestamp)||0,"YYYY-MM-DD")),1)]),((null==(d=null==t?void 0:t.params)?void 0:d.length)??0)>0?(x(),w("div",Lu,[(x(!0),w(T,null,C(null==t?void 0:t.params,(t,n)=>{var o,s,r,u,d,c,v,p,m;return x(),w("div",{key:n,class:"flex-start"},[k("span",Vu,_(null==t?void 0:t.name)+"：",1),"address"==(null==t?void 0:t.type)?(x(),w(T,{key:0},[(null==t?void 0:t.value)==("useFollowStore"in e?e.useFollowStore:h(Y))().currentAddress||(null==t?void 0:t.value)==h(Se)?(x(),w("span",Bu,_((null==(o=null==t?void 0:t.value)?void 0:o.slice(0,8))+"..."+(null==(s=null==t?void 0:t.value)?void 0:s.slice(-4)))+" ("+_(e.$t("myWallet"))+") ",1)):1==(null==t?void 0:t.is_trader_addr)?(x(),w("span",Du,[I(_((null==(r=null==t?void 0:t.value)?void 0:r.slice(0,8))+"..."+(null==(u=null==t?void 0:t.value)?void 0:u.slice(-4)))+" ",1),S(i,{effect:"customized",content:e.$t("latestTrader"),placement:"top",persistent:!1},{default:b(()=>[S(a,{class:"text-14px",color:"#ff9f00",name:"ep:avatar"})]),_:1},8,["content"])])):(x(),w("span",Mu,_((null==(d=null==t?void 0:t.value)?void 0:d.slice(0,8))+"..."+(null==(c=null==t?void 0:t.value)?void 0:c.slice(-4))),1))],64)):"uint256"==(null==t?void 0:t.type)?(x(),w("span",Pu,_(h(Q)((null==t?void 0:t.value)||0)),1)):"address[]"==(null==t?void 0:t.type)?(x(),w("div",Eu,[l[12]||(l[12]=k("strong",null,"[",-1)),(x(!0),w(T,null,C(null==(v=null==t?void 0:t.value)?void 0:v.slice(0,3),(e,l)=>(x(),w("span",{key:l,class:"block ml_10"}," '"+_((null==e?void 0:e.slice(0,4))+"..."+(null==e?void 0:e.slice(-4)))+"' ",1))),128)),(null==(p=null==t?void 0:t.value)?void 0:p.length)>3?(x(),w("span",Uu," //"+_(e.$t("totalTxs",{n:null==(m=null==t?void 0:t.value)?void 0:m.length})),1)):f("",!0),l[13]||(l[13]=k("strong",null,"]",-1))])):(x(),w("span",Ru,_(null==t?void 0:t.value),1))])}),128))])):f("",!0)],8,Su)}),128))])):f("",!0)]}),_:1}),(null==(d=h(o))?void 0:d.holder_analysis)?(x(),m(n,{key:2,span:24},{default:b(()=>{var l,a,t,n,s,i,r,u,d,c,v,p,m,f,b,g,y,A,S;return[k("div",Ou,[k("span",Hu,_(e.$t("simulate")),1),k("table",ju,[k("tbody",null,[k("tr",null,[k("td",null,[k("span",zu,_(e.$t("simulateHolders")),1),k("span",Wu,_(h(Q)((null==(a=null==(l=h(o))?void 0:l.holder_analysis)?void 0:a.simulate_holders)||0)),1)]),k("td",null,[k("span",qu,_(e.$t("sellSuccessful")),1),k("span",Gu,_(h(Q)((null==(n=null==(t=h(o))?void 0:t.holder_analysis)?void 0:n.sell_successful)||0)),1)]),k("td",null,[k("span",{class:V(["block color-[--third-text]",{failedBg:((null==(i=null==(s=h(o))?void 0:s.holder_analysis)?void 0:i.sell_failure)??0)>0}])},_(e.$t("sellFailure")),3),k("span",{class:V(["block",{failedColor:((null==(u=null==(r=h(o))?void 0:r.holder_analysis)?void 0:u.sell_failure)??0)>0}])},_(h(Q)((null==(c=null==(d=h(o))?void 0:d.holder_analysis)?void 0:c.sell_failure)||0)),3)]),k("td",null,[k("span",{class:V(["block color-[--third-text]",{balanceBg:((null==(p=null==(v=h(o))?void 0:v.holder_analysis)?void 0:p.balance_disappeared)??0)>0}])},_(e.$t("balanceDisappeared")),3),k("span",Yu,_(h(Q)((null==(f=null==(m=h(o))?void 0:m.holder_analysis)?void 0:f.balance_disappeared)||0)),1)])]),k("tr",null,[k("td",null,[k("span",Qu,_(e.$t("sellSlippage")),1)]),k("td",Ku,[k("span",{class:V({avgBg:1==(null==(b=h(o))?void 0:b.avg_tax_too_high)})},[k("span",Xu,_(e.$t("averageTax")),1),I("  "+_(h(Q)((null==(y=null==(g=h(o))?void 0:g.holder_analysis)?void 0:y.average_tax)||0))+"% ",1)],2),(x(!0),w(T,null,C(null==(S=null==(A=h(o))?void 0:A.holder_analysis)?void 0:S.tax_distribution,(l,a)=>(x(),w("div",{key:a,class:"flex-start"},[k("span",null,[k("span",Zu,_(e.$t("slippage1")),1),I("  "+_(h(Q)(null==l?void 0:l.tax))+"% ",1)]),k("span",null,[k("span",Ju,_(e.$t("addressCount")),1),I("  "+_(null==l?void 0:l.count),1)])]))),128))])])])]),k("ul",ed,[(x(!0),w(T,null,C(h(_e),(e,l)=>(x(),w("li",{key:l,class:V({warning:1==e[0],danger:2==e[0]})},_(e[1]),3))),128))])])]}),_:1})):f("",!0),S(n,null,{default:b(()=>{var l,t,n,s,i;return[k("div",ld,[k("h3",ad,_(e.$t("communityTrust")),1),k("div",td,[k("div",{class:"thumbs-container",onClick:L(Le,["stop"])},[S(a,{name:"garden:thumbs-up-fill-12",style:N({color:((null==(l=h(o))?void 0:l.my_vote)??0)>0?"#12B886":"var(--secondary-text)"})},null,8,["style"]),k("span",nd,_(e.$t("support"))+"("+_(null==(t=h(o))?void 0:t.vote_support)+") ",1)]),k("div",od,[k("div",sd,[k("span",{class:"left",style:N({width:h(Q)(100*(null==(n=Fe(h(o)))?void 0:n[0])||0)+"%"})},_(h(Q)(100*Ie(h(o))[0]||0,1))+"% ",5),k("span",{class:"right",style:N({width:h(Q)(100*Fe(h(o))[1]||0)+"%"})},_(h(Q)(100*Ie(h(o))[1]||0,1))+"% ",5)]),k("div",id," ("+_(Ie(h(o))[2])+" "+_(e.$t("votes"))+") ",1)]),k("div",{class:"thumbs-container",onClick:L(Ve,["stop"])},[S(a,{name:"garden:thumbs-down-fill-12",style:N({color:((null==(s=h(o))?void 0:s.my_vote)??0)<0?"#F6465D":"var(--secondary-text)"})},null,8,["style"]),k("span",rd,_(e.$t("against"))+"("+_((null==(i=h(o))?void 0:i.vote_against)||0)+") ",1)])]),k("div",ud,_(e.$t("remark"))+": "+_(e.$t("checkRemark")),1)])]}),_:1})]}),_:1})):(x(),m(u,{key:1,image:"light"===h(P).theme?h(le):h(ae)},null,8,["image"]))])])]}),_:1},8,["modelValue"])):f("",!0)}}}),[["__scopeId","data-v-7f66c984"]]);var cd=Object.defineProperty,vd=Object.getOwnPropertySymbols,pd=Object.prototype.hasOwnProperty,md=Object.prototype.propertyIsEnumerable,fd=(e,l,a)=>l in e?cd(e,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[l]=a,hd=(e,l)=>{for(var a in l||(l={}))pd.call(l,a)&&fd(e,a,l[a]);if(vd)for(var a of vd(l))md.call(l,a)&&fd(e,a,l[a]);return e};class xd{constructor(){this.tag=null,this.config={zIndex:"999",projectId:"",conversationId:"",containerDomId:void 0,defaultOpen:!1,destroyOnClose:!1},this.onClose=e=>{var l,a;null==(a=(l=this.config).onClose)||a.call(l),this.config.destroyOnClose&&(e.preventDefault(),e.stopPropagation(),this.destroy())}}static getInstance(){return xd.instance||(xd.instance=new xd),xd.instance}initMain(e){this.config=hd(hd({},this.config),e),this.tag=document.createElement("debox-chat-widget"),this.tag.style.zIndex=this.config.zIndex,this.tag.projectId=this.config.projectId,this.tag.conversationId=this.config.conversationId,this.tag.setAttribute("defaultOpen",`${this.config.defaultOpen}`);let l=document.body;if(this.config.containerDomId){const e=document.getElementById(this.config.containerDomId);e&&(l=e)}l.appendChild(this.tag),this.addCloseEvent(),this.addToggleEvent()}async init(e){if(this.tag)throw new Error("DeBoxChatWidget is already initialized");this.initMain(e),typeof window<"u"&&await se(()=>import("./C2AkNcRf.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url)}destroy(){var e,l;this.tag&&(this.removeToggleEvent(),this.removeCloseEvent(),this.callbackFn&&this.removeEventListener(this.callbackFn),this.tag.remove(),this.tag=null),null==(l=(e=this.config).onDestroy)||l.call(e),this.config={zIndex:"999",projectId:"",conversationId:"",containerDomId:void 0,defaultOpen:!1,destroyOnClose:!1}}setConversation(e,l){if(!this.tag)throw new Error("DeBoxChatWidget is not initialized");this.config.conversationId=e,this.tag.conversationId=e,"boolean"==typeof l&&this.tag.toggleChat(l)}toggleChat(e){if(!this.tag)throw new Error("DeBoxChatWidget is not initialized");this.tag.toggleChat(e)}addEventListener(e){if(!this.tag)throw new Error("DeBoxChatWidget is not initialized");this.tag.addEventListener("debox-message-pushed",e),this.callbackFn=e}removeEventListener(e){if(!this.tag)throw new Error("DeBoxChatWidget is not initialized");this.tag.removeEventListener("debox-message-pushed",e),this.callbackFn=void 0}addToggleEvent(){const e=document.querySelector("debox-chat-widget");e&&this.config.onToggle&&(this.observer=new MutationObserver(()=>{var l,a;const t=e.hasAttribute("open");null==(a=(l=this.config).onToggle)||a.call(l,t)}),this.observer.observe(e,{attributes:!0,attributeFilter:["open"]}))}removeToggleEvent(){var e;null==(e=this.observer)||e.disconnect()}addCloseEvent(){var e;null==(e=this.tag)||e.addEventListener("debox-before-close",this.onClose)}removeCloseEvent(){var e;null==(e=this.tag)||e.removeEventListener("debox-before-close",this.onClose)}}const bd=xd.getInstance();const kd={class:"debox"},gd={id:"chat-deBox"},_d=M(o({__name:"deBox",setup(e){const l=i(),a=v(""),t={solana:-200,eth:1,optimism:10,bsc:56,polygon:137,xlayer:196,ftm:250,zksync:324,merlin:4200,mantle:5e3,base:8453,arbitrum:42161,avalanche:43114,linea:59144,blast:81457,bitlayer:200901,scroll:534352},o=ie("showDeBox",!1),s=ie("isMin",!0),p=c(()=>{var e;return(null==(e=r(l.params.id))?void 0:e.chain)||""}),m=c(()=>{var e;return null==(e=r(l.params.id))?void 0:e.address});async function b(){var e;t[p.value]&&o.value&&(a.value=await new Promise((e,l)=>{(function(e){const{$api:l}=n();return l("/v1api/v1/ave_proxy/debox/openapi/chatwidget/conversation/id",{method:"post",body:e})})({chain_id:t[p.value],contract_address:m.value}).then(l=>{var t;a.value=null==(t=null==l?void 0:l.data)?void 0:t.cid,e(a.value),bd.tag&&bd.setConversation(a.value)}).catch(()=>{l("")})})||"",a.value&&(e=a.value,bd.tag?bd.setConversation(e,s.value):bd.init({projectId:"QMPwBXl11rZZlQp0",zIndex:"999",containerDomId:"chat-deBox",destroyOnClose:!0,defaultOpen:s.value,conversationId:e,onToggle:e=>{s.value=e},onDestroy:()=>{o.value=!1}})))}function _(){o.value=!o.value,o.value?b():bd.tag&&bd.destroy()}return d(()=>l.params.id,()=>{bd.tag&&b()}),u(()=>{b()}),re(()=>{bd.tag&&bd.destroy()}),(e,l)=>{const a=y;return x(),w("div",kd,[t[h(p)]?(x(),w("a",{key:0,href:"",class:"p-2px radius-2px h-16px flex items-center bg-btn",onClick:L(_,["stop","prevent"])},[S(a,{name:"custom:debox",class:V(["color-[--third-text] text-12px",h(o)?"color-#21c161":""])},null,8,["class"])])):f("",!0),g(k("div",gd,null,512),[[ue,t[h(p)]&&h(o)]])])}}}),[["__scopeId","data-v-07845bff"]]),yd={class:"relative"},wd={class:"info flex items-center bg-[--secondary-bg] mb-.5px h-64px p-x-16px text-12px color-[--third-text]"},Td={class:"token-info ml-16px flex items-center color-[--third-text]"},Cd=["src"],Ad=["src"],Sd={key:0,class:"icon-token-container relative"},Nd=["src"],$d=["src"],Id=["src"],Fd={class:"ml-8px"},Ld={class:"flex items-center"},Vd={class:"text-16px leading-[1.25] color-[--main-text] font-500 ellipsis max-w-260px tokenName1"},Bd={class:"text-16px leading-[1.25] color-[--main-text] font-500 ellipsis max-w-260px tokenName2"},Dd={class:"ml-8px text-12px font-500 mr-8px ellipsis",style:{"max-width":"60px"}},Md={class:"flex items-center justify-start"},Pd={key:0,class:"bg-btn",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAAXNSR0IArs4c6QAAC7BJREFUeF7tnTGOFDkUht2tFSJhtw+B4AiE2xxgM2YTcsJNIAdySDYkn2Qh2wMMhBwBxCFmdxKEVt0rd0/N1PR0Vdmu56rn568lNBJju+z/+Zvfz+WuWjg+kypwsXqy9hfcuOV66ba/NhffOrf7/+azcO7jvtzik/+5dJuP984/7P6Pz3QKLKa7VL1X2kOxeHkIQaoiW7d47ev+cv7Xq9Q2qBemAICE6RRdShqKrg4AS3RooioASJRcw4WnAuOwJ4AyHJuUEgCSotqROnOBcQwU8hWhoDrnAERAy39Wv79auO1LgabEmvCOQo4yXk4AGaGhFtfoGsJ+J2z7mt2v9CADSKJ2Gl2jL5HHTdICDSAJupUERzM8llwJgSYHiRetRDiAJD7OTQ0cJEK7kuEAkohAt4oCSKBuFuAAksBgA0icUJbguF46bB+zuzU8D3CQAY38Vu7WLc6GpSyvxMIByVDUAGQQkJMzqUOGQ8GY+vf+Psm98/ePp75uSdcDkJ5oWVxaHQ6X7d9+XAGkR59/Vyfbkv7apfaVpVa3cgDSoU0N7tHa62ep1TEPAOSIMDXBwa4WS6zolcfFym5i3iUGCftxZXCQA11qdA9chBwk2EVqScyPCYKL3FYFB2lpUrN74CIssQZdpGb3aIvz8/l7/nBeCoIQl0LgHteIcPPwWgsAudQC97hpsLjIXg8Acc7hHrdXn7gIgFzNCtyjK0HltG/1DoJ79N4DqP4ISvWA4B5DRy3qdpGqAcE9Bne+fZJatYtUCwhwDMPBzcOKd7EAJAaQel2kSgcBjnA4aneRKgEhMU8BpE4XqQ4Q3CMejppdpDpAcI8xgNTnIlUBgnukw9HUrO0ISlWA4B7jAfEt1HSQsRpAcA8ZOHwrNblINYDgHnKA1OQiVQCCe8jCcfk9iSqOoFQBCO4hD8geEvsHGc0DgnvkgaMWFzENiOVXF+Sb9nEtW3cR04DgHnGTPaW09ePwZgEBjpTpnlbHsosASNqcoFZLAcsuYhIQ3GN6fq26iElA2NadAxCbBxnNAYJ7TA+H5ePw5gDBPeYExJ6LmAIE95gPDqvH4U0BgnvMD4i1g4xmAME9dMBh7Ti8GUBwDz2AWDrIaAIQ3EMXHJYOMpoABPfQB4gVFykeENxDJxxWXKRoQIBDLxxWbh4CiP45VnQPSz/IWCwguEc53JR8kLFYQC5WJ2db59blTJP+nm4ePdwV2Dx64Jafv7rl5y9Whlb0O0aKBMSSe/z3x2/O/zv2+enPv53/Z+FTqosUCYiFbV3vGB4M7xh9H+8mHpLSHaXUXKQ4QKy4x4/TF4NwNOB4SO48fVO8kZToIsUBYsE9+pZVXRRYWW6V9lzfogCx4h7fv71LcoO7958l1dNUqbTn+hYFiAX38LnHj9PnSXP2ztO3xecifuAluUgxgFhxj5TlVUOTFUBKcpFiALHgHn6ijwHESh5S0kHGIgCx4h4Acr2yLGXbtwhArLgHgNxMvUrY9lUPiCX3AJBDQPQ/BUU1INbgAJDbm3faXQRAkjZc0yuRpJflImoBsegeOMjxPyyaXUQtIJYS8/a0wEGOLbP05iIqAbHqHjhI99JUq4uoBMSqewBIHyA6XUQdIJbdA0D6Nzc0HkFRB4hl9wCQ4d0/bQcZVQFi3T0AZBgQbS6iChDr7gEgw4BoOw6vBpAa3ANAwgDRdJBRDSA1uAeAhAHiS2nZ9lUBSC3uASAxgOjY9p0dkIvVk/XWLc7CpSu7JHfSw+OnwUVmB6Qm98BBwuHYL7Pmd5FZAakNDgCJA0RDLgIg8TEbVYMlVpx8c7vIbIDU6B44SBwcTek5c5HZAKllW/dwSuAg8ZDM6SKzAFKre+Ag8XDM7SKzAFKrewDIGEDm2dGaHJCa3QNA0gHxNec4yDg5IDW7B4CMA8TXnvo4/KSA1O4eADIekKldZFJAancPABkPyNQ3DycDBPfYTw62ecdDMuW272SA4B4AMh6N6xamunk4CSC4x3VgcRAZTKZykeyAAMfNCQEgMoBMlYsAiFy8gloCkCCZggpN4SJZAcE9bscZQILmfnCh3LlIVkAuVidnW+fWwaOtoCCAyAY5t4tkAwT3OD4RAEQWkNy5SDZA2NYFEHkUjreY00WyAIJ7dE8NHCQPNrlykSyA4B4AkgeD/lZzHGQUBwT36A/i5tFD9+P0edL8sfSe9CQBBirlOMgoDgjukQ+QO0/fuuXnLznmlpk2pV1EFBDcI2yeff/2LqzgQam7958l1aupkrSLiAKCe4RNxZREneVVmLbS275igOAe4QH0JX+cvnCbRw+CKi0/f3V3nr4JKksh2ScyigGCe8RNTZ+seycZgsTD4d2D3CNOX6ltXxFAcI+44LVL9y23WFal6yp183A0IMCRHsR2Te8o3k28Y/gPjjFeVwkXAZDxcaAFpQpIuMgoQHAPpTODbl0pMNZFRgFCYs5M1K7AWBdJBgT30D416F+jwBgXSQYE92AClqLAGBdJAgT3KGVq0M9GgdQjKEmA4B5MvBIVSDnIGA0I7lHi1KDPXoEUF4kGBPdgspWsQKyLRAGCe5Q8Nei7VyA2YY8CBPdgkllQIGbbNxgQ3MPC1GAMsS4SBMjF6sl66xZnyCuvQHNI0f/0n+b4uz/J6z/NT/kr191iqIsEAYJ7yE+m0O+DNJAAimwMQnORQUCAQzYwvjW+ciuvaUqLIS4CICnKjqiTAkdzOb56O0L4I1VDXKQXENxDNiC+tdQnmjQ94VuGsjEZcpFeQNjWlQ3GGPdo94TnY8nFZchFOgHBPeSCsN+dSn+i4mFPWGrJxqbPRToBwT1kgyDlHr5XACIbmz4XOQoI7iEbgNSdq75e8JRF2Rh1HWQ8CgjuISu+by3mQXEhVycPCVEprsyxg4y3AME94kQNLQ0goUrNV+6Yi9wCBPfIEyBpQFhi5YnToYvcAAT3yCM6u1j5dJVu+dBFbgCCe0jLfd2e5DYvNwvzxcm33HaRK0Bwj7yiSybqLK/yxqp9X+QKENwjr+hSyyzcI3+c2vdFdoDwfY/8ojdXGHPDEDimi1PjIjtAWF5NJ7y/Ugok3D2fNkZNsn7pICdnW+fW03ah7qs13yT0sAx9cI4hheR/3yyzdoCQf8gLHNpiA0gDjK/XvCOEN0uFqpinnF9mLcg/8ohLq+UrsAOE/KP8QDKCPAr4PARA8mhLqwYU8HnI4mJFgm4glgwhgwI7QEjQMyhLk2YUABAzoWQgORQAkByq0qYZBQDETCgZSA4FACSHqrRpRgF2scyEkoFIK8A2r7SitGdKAQAxFU4GI60Ad9KlFaU9UwrsAOGwoqmYMhhBBXaA+Pa4my6oKk2ZUcA/vIEvTJkJJwORVODGF6Y4sCgpLW1ZUODgK7e8pNNCUBmDnAI3Htrgm8VF5MSlpfIVaB4ed/VcLHazyg8qI5BRoP34UQCR0ZRWDClw9NGjfnx8P91QlBlKkgK9D6/mnkiSplQypEDv6w9wEUORZijRCgS9QIcdrWhdqWBEgaBXsO0B4b6IkZgzjEAFol7iyVIrUFWKmVCgCw4/uM73pLPUMhF7BjGgQN870gcBARLml2UFhuAIBIR8xPIkqXls7VetdenQu8RqKpG01zyNbI49BI4gB2lD4tziJS/asTlhahmVX1Y5t3197/zDx5AxBzlIuyFO/YbIShmNCoTkHIf9jgaELWCNoadPQwr0beX21U0CBEiGwsHvtSgQu6QScZB2I5wA1jIV6MehAqmu0W4n2UEOOwMoTFAtCox1jSyANI0CipZpUlc/9lD4T/gOVYhCYg5yeDF/72TjluuF274M6QhlUCBWgVxQZHWQrkE2wPjfL9321x3rzq1jRaF8fQpcg+Dcxi0+Ld3mY+h9jLFqZXOQsR2jPgpoUABANESBPqhVAEDUhoaOaVAAQDREgT6oVQBA1IaGjmlQAEA0RIE+qFUAQNSGho5pUABANESBPqhVAEDUhoaOaVAAQDREgT6oVeB/CNFKt7xdpVUAAAAASUVORK5CYII=",width:12},Ed={key:1,class:"flex text-20px"},Ud={key:0,class:"bg-btn"},Rd=["href"],Od=["href"],Hd={class:"media-item bg-btn cursor-pointer"},jd={class:"py-4px [&&]:m--12px flex flex-col"},zd=["href"],Wd=["href"],qd=["href"],Gd=["href"],Yd=["src"],Qd={key:4,class:"media-item bg-btn clickable"},Kd={class:"ml-2px ellipsis block",style:{"max-width":"140px"}},Xd={class:"filter-box"},Zd={class:"flex mt-10px"},Jd={class:"mt-20px flex-center"},ec={class:"ml-2px ellipsis block",style:{"max-width":"140px"}},lc={class:"filter-box"},ac={class:"flex mt-10px"},tc={class:"mt-20px flex-center"},nc={class:"text-12px flex items-center mt-4px"},oc=["href"],sc={class:"media-item bg-btn cursor-pointer"},ic={key:1,class:"ml-5px hover:color-[--main-text] leading-12px font-400 mr-8px"},rc={key:2,class:"flex-start bg-btn"},uc={class:"media-item bg-btn cursor-pointer"},dc={width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},cc=["fill"],vc={class:"text-[--main-text] text-10px ml-2px mt-1px"},pc={class:"py-4px [&&]:m--12px flex flex-col"},mc={class:"flex items-center justify-between text-12px py-4px px-8px color-[--third-text]"},fc={class:"text-[--main-text]"},hc={class:"flex items-center justify-between text-12px py-4px px-8px color-[--third-text]"},xc={class:"text-[--main-text]"},bc={class:"flex items-center justify-between text-12px py-4px px-8px color-[--third-text]"},kc={class:"text-[--main-text]"},gc={key:0,class:"item"},_c={class:"flex items-center min-w-90px justify-between"},yc={class:"ml-5px"},wc={class:"item ml-24px items-end!"},Tc={class:"text-20px color-[--main-text]"},Cc={key:1,class:"item ml-24px"},Ac={class:"block mt-8px color-[--main-text]"},Sc={key:2,class:"item ml-24px"},Nc={class:"block mt-8px color-[--main-text]"},$c={class:"ml-24px cursor-pointer"},Ic={class:"border-dotted border-0 border-b-1 inline-block leading-none"},Fc={class:"block mt-8px color-[--main-text]"},Lc={class:"bg-[--secondary-bg]"},Vc={class:"flex p-10px justify-between pb-8px text-12px"},Bc={class:"text-12px color-[--third-text]"},Dc={class:"color-[--main-text]"},Mc={class:"max-h-300px px-10px overflow-auto v-scroller-container"},Pc=["onClick"],Ec={class:"flex justify-between"},Uc={class:"flex items-center"},Rc={class:"relative"},Oc=["href"],Hc=["src"],jc=["src"],zc={class:"mb-[-5px]"},Wc={class:"token-address text-[10px] color-[--third-text]"},qc={class:"flex items-center text-12px"},Gc={key:0,class:"color-[--secondary-text]"},Yc={key:1,class:"color-[--secondary-text]"},Qc={class:"item ml-24px"},Kc={class:"block mt-8px color-[--main-text]"},Xc={class:"item ml-24px"},Zc={class:"block mt-8px color-[--main-text]"},Jc={class:"item ml-24px"},ev={class:"flex-start"},lv={class:"color-text-1 mt-8px font-500 text-14px flex-start"},av={key:0,width:12,class:"icon-svg1",src:An},tv={key:1,width:12,class:"icon-svg1",src:Sn},nv={key:2,width:12,class:"icon-svg1",src:In},ov={key:3,class:"icon-svg1",width:12,src:Nn},sv=M(o({__name:"index",setup(e){const{token_logo_url:l}=de(),a=j(),t=O(),{collected:n}=q(j()),{evmAddress:o}=q(z()),A=G(),{t:$}=s(),F=i(),{mode:M,dialogVisible_search:P,dialogSearchText:E,showMarket:U}=q(O()),H=v(!1),Y=v(0),K=v(0),X=v(!1),le=v(!1),ae=v([]),te=v(!1),oe=v(""),se=ce("aiSummary"),ie=v(""),Ee=v(!1),Ue=R({all_tag_rate:0,rates:{rugged_rate:0}}),Re=v(!1),Oe=ve(Pe.FAV_DIALOG);Oe.on(Ke);const He=v({total_tokens:0,total_migrated:0}),je=ve(Pe.TOP_FAV_CHANGE),ze=ve(Pe.TOP_ADD_GROUP),We=ve(Pe.DEV_TOKENS_TAB);function qe(){We.emit(),ne.success($("devTokensDisplayed"))}async function Ge(){try{const e={token_id:al.value,pageNO:1,pageSize:1},l=await Gn(e);He.value=l??[]}catch(e){He.value=[]}}const Ye=e=>{const l=e.target_token===e.token0_address?e.token1_address:e.token0_address;if(l)return{tokenShow:l.slice(0,4)+"..."+l.slice(-6),token:l}},Qe=c(()=>{var e;return null==(e=a.pairs)?void 0:e.map(e=>{var l;return{...e,ammName:"unknown"===e.amm?e.amm:(null==(l=Se(e.chain,e.amm))?void 0:l.show_name)||e.amm,isUp:e.target_token===e.token0_address?new Ae(e.reserve1).gt(e.init_reserve1):new Ae(e.reserve0).gt(e.init_reserve0)}}).filter(e=>!0)});function Ke({tokenId:e,type:l,groupId:a}){"changeFavoriteGroupName"===l||"removeFavoriteGroup"===l||"delete"===l?bl():e===al.value&&ml(),a&&Number(a)===K.value&&(K.value=0)}d(()=>Ee.value,e=>{e&&Pn().getContractCheckResult(F.params.id,Ze.value)}),d(()=>F.params.id,()=>{F.params.id&&Ge()}),re(()=>{je.off(qe),Oe.off(Ke)});const Xe=W(),Ze=c(()=>o.value||Xe.address),{statistics_risk_store:Je,statistics_warning_store:el,statistics_unknown_store:ll}=q(Pn()),al=c(()=>F.params.id),tl=c(()=>a.token),nl=c(()=>a.pair),ol=c(()=>a.price),sl=c(()=>a.priceChangeV2||0),il=c(()=>a.marketCap||0),rl=c(()=>{var e,l,t,n,o,s,i,r,u;const d=null==(t=null==(e=Ne)?void 0:e.includes)?void 0:t.call(e,vl.value+"-"+((null==(l=null==a?void 0:a.token)?void 0:l.launchpad)||""));if(((null==(o=null==(n=$e)?void 0:n.includes)?void 0:o.call(n,vl.value))||d)&&"tokenAllPair"in a&&(null==a?void 0:a.tokenAllPair)&&(null==a?void 0:a.selectedToken)){const e=(null==a?void 0:a.pairs)||[];if((null==e?void 0:e.length)>0){return(null==e?void 0:e.reduce((e,l)=>e+(l.volume_u||0),0))||(null==(s=a.tokenInfoExtra)?void 0:s.volume_24)||0}return(null==(i=a.tokenInfoExtra)?void 0:i.volume_24)||0}return(null==(r=a.pair)?void 0:r.volume_u)||(null==(u=a.tokenInfoExtra)?void 0:u.volume_24)||0}),ul=c(()=>a.tokenInfoExtra),dl=c(()=>{var e;return Ie(null==(e=tl.value)?void 0:e.appendix)}),cl=c(()=>{var e,l;return 0==Y.value?$("defaultGroup"):null==(l=null==(e=ae.value)?void 0:e.find(e=>e.group_id==Y.value))?void 0:l.name}),vl=c(()=>{const{chain:e}=r(al.value,0);return e});u(()=>{Ze.value&&(ml(),bl()),F.params.id&&Ge(),"solana"==vl.value&&_l()}),d(Ze,e=>{e?(ml(),bl()):(n.value=!1,oe.value="",ie.value="",Y.value=0,K.value=0)}),d(()=>F.params.id,()=>{Ze.value&&(ml(),bl()),"solana"==vl.value&&_l()});const pl=v(!1);function ml(){pe(al.value,Ze.value).then(e=>{n.value=!!(null==e?void 0:e.address),oe.value=(null==e?void 0:e.remark)||"",ie.value=(null==e?void 0:e.remark)||"",Y.value=(null==e?void 0:e.group_id)||0,K.value=(null==e?void 0:e.group_id)||0}).catch(e=>{}).finally(()=>{})}function fl(e){Fe(e,Ze.value).then(l=>{ze.emit(),l&&(hl(Number(l)),ae.value.push({group_id:Number(l),name:e}))})}function hl(e){pl.value=!0,Le(al.value,Ze.value,e||0).then(()=>{ne.success($("collected")),ml(),je.emit()}).catch(e=>{}).finally(()=>{pl.value=!1})}async function xl(e){Ze.value?(Xe.address&&await Xe.signMessageForFavorite(),n.value?(pl.value=!0,Me(al.value,Ze.value).then(()=>{ne.success($("cancelled1")),n.value=!1,je.emit(-1)}).catch(e=>{}).finally(()=>{pl.value=!1})):hl(e)):Ve()}async function bl(){try{X.value=!0;const e=await me(Ze.value);ae.value=(e||[]).filter(e=>!!e.name&&"token"===e.type)}catch(e){}finally{X.value=!1}}function kl(e,l=al.value,a=Ze.value){a&&(Y.value!==e?(le.value=!0,Be(l,e,a).then(()=>{ne.success($("success")),H.value=!1,ml(),je.emit()}).catch(e=>{ne.error($("fail"))}).finally(()=>{le.value=!1})):(le.value=!1,H.value=!1))}function gl(){H.value&&(H.value=!1,K.value=Y.value),te.value&&(te.value=!1,ie.value=oe.value)}function _l(){Re.value=!0,qn(al.value).then(e=>{var l,a,t,n,o,s,i,r;Ue.value.dev=(null==e?void 0:e.dev)||"",Ue.value.all_tag_rate=null==(t=null==(a=null==(l=null==e?void 0:e.rates)?void 0:l.rateList)?void 0:a.find(e=>"icon_all_tag_rate"==(null==e?void 0:e.icon)))?void 0:t.rate,Ue.value.all_tag_rate=Number((null==(n=Ue.value.all_tag_rate)?void 0:n.toFixed(1))||0)||0,Ue.value.rates=null==e?void 0:e.rates,Ue.value.rateList=null==(s=null==(o=null==e?void 0:e.rates)?void 0:o.rateList)?void 0:s.filter(e=>"icon_all_tag_rate"!==e.icon),Ue.value.rateList=null==(r=null==(i=Ue.value)?void 0:i.rateList)?void 0:r.map(e=>{var l;return{...e,rate:Number((null==(l=e.rate)?void 0:l.toFixed(1))||0)}})}).catch(e=>{}).finally(()=>{Re.value=!1})}function yl(){const e=F.params.id;a.tokenWarningObj[e]=!0}async function wl(){var e;P.value=!0,await Promise.resolve(),E.value=(null==(e=tl.value)?void 0:e.symbol)||""}return(e,o)=>{var s,i,r,u,d,c,v,P,E,R,O,j,z,W,q,G,Y,X,re,de,ce,ve,pe,me,Ae,Se,Ne,$e,Ie,Fe,Le,Be,Me,Pe,Ue,Re,Oe,ze,We;const Ge=bn,Ke=he,Xe=ee,vl=y,pl=_n,ml=D,hl=Tn,bl=wn,_l=ke,Tl=_e,Cl=Cn,Al=p("tooltip"),Sl=ge,Nl=p("copy");return x(),w("div",yd,[((null==(i=null==(s=h(a))?void 0:s.token)?void 0:i.risk_level)??0)<0?(x(),m(Ge,{key:0,class:"myTxs-notice",type:"warning",title:e.$t("riskWarning")+": "+e.$t("riskWarningContent1"),"show-icon":"",style:N({backgroundColor:"light"===h(M)?"#ffa94d0d":"#36131C",color:"#f00",border:"none",fontSize:"12px"}),closable:!1},null,8,["title","style"])):h(a).warningStatus?(x(),m(Ge,{key:1,class:"myTxs-notice",type:"warning",title:h($)("alertNotice"),"show-icon":"",closable:"",style:N({backgroundColor:"light"===h(M)?"#ffa94d0d":"#3b1e0c",color:"#ED6A0C",border:"none",fontSize:"12px"}),onClose:yl},null,8,["title","style"])):f("",!0),k("div",wd,[S(jn,{iconClass:"text-16px cursor-pointer",isCollected:h(n),userFavoriteGroups:h(ae),onConfirmSwitchGroup:kl,onCollect:xl,onNewGroupAndCollect:fl},null,8,["isCollected","userFavoriteGroups"]),k("div",Td,[h(fe)(h(tl))?(x(),m(Xe,{key:0,"popper-class":"tooltip-pd-0",placement:"bottom-start","show-arrow":!1,persistent:!1},{content:b(()=>[S(Ke,{class:"token-icon h-228px w-228px items-center",src:h(fe)(h(tl)),lazy:""},{error:b(()=>{var e,l;return[k("img",{class:"token-icon h-228px w-228px",src:h(xe)(null==(e=h(tl))?void 0:e.chain,null==(l=h(tl))?void 0:l.symbol)},null,8,Cd)]}),placeholder:b(()=>{var e,l;return[k("img",{class:"token-icon h-228px w-228px",src:h(xe)(null==(e=h(tl))?void 0:e.chain,null==(l=h(tl))?void 0:l.symbol)},null,8,Ad)]}),_:1},8,["src"])]),default:b(()=>{var e,a;return[h(fe)(h(tl))?(x(),w("div",Sd,[S(Ke,{class:"token-icon rounded-100%",src:h(fe)(h(tl)),lazy:""},{error:b(()=>{var e,l;return[k("img",{class:"token-icon",src:h(xe)(null==(e=h(tl))?void 0:e.chain,null==(l=h(tl))?void 0:l.symbol)},null,8,Nd)]}),placeholder:b(()=>{var e,l;return[k("img",{class:"token-icon",src:h(xe)(null==(e=h(tl))?void 0:e.chain,null==(l=h(tl))?void 0:l.symbol)},null,8,$d)]}),_:1},8,["src"]),(null==(e=h(tl))?void 0:e.chain)?(x(),w("img",{key:0,class:"icon-symbol rounded-100%",src:`${h(l)}chain/${null==(a=h(tl))?void 0:a.chain}.png`},null,8,Id)):f("",!0)])):f("",!0)]}),_:1})):f("",!0),k("div",Fd,[k("div",Ld,[k("span",Vd,_(null==(r=h(tl))?void 0:r.symbol),1),g((x(),w("span",Bd,[I(_(null==(u=h(tl))?void 0:u.symbol),1)])),[[Al,null==(d=h(tl))?void 0:d.symbol]]),g((x(),w("span",Dd,[I(_(null==(c=h(tl))?void 0:c.name),1)])),[[Al,null==(v=h(tl))?void 0:v.name]]),k("div",Md,[((null==(P=h(tl))?void 0:P.risk_level)??0)<0?(x(),w("img",Pd)):f("",!0),(null==(E=h(dl))?void 0:E.length)>0?(x(),w("div",Ed,[(x(!0),w(T,null,C(h(dl),(e,l)=>(x(),w("div",{key:l,class:"tag-btn"},[e.url?(x(),w(T,{key:0},["QQ"===e.name?g((x(),w("span",Ud,[S(vl,{name:`custom:${e.icon}`,class:"text-[--third-text] text-12px"},null,8,["name"])])),[[Al,e.url]]):"twitter"===e.icon?(x(),m(gn,{key:1,tokenId:h(F).params.id,type:h(a).twitterType},{default:b(()=>[k("a",{href:e.url,target:"_blank",class:"bg-btn",onClick:o[0]||(o[0]=L(()=>{},["stop"]))},[[1,2,3].includes(h(a).twitterType)?(x(),m(kn,{key:0,type:h(a).twitterType,class:"text-12px"},null,8,["type"])):(x(),m(vl,{key:1,name:`custom:${e.icon}`,class:"text-[--third-text] text-12px"},null,8,["name"]))],8,Rd)]),_:2},1032,["tokenId","type"])):g((x(),w("a",{key:2,href:e.url,target:"_blank",class:"bg-btn",onClick:o[1]||(o[1]=L(()=>{},["stop"]))},[S(vl,{name:`custom:${e.icon}`,class:"text-[--third-text] text-12px"},null,8,["name"])],8,Od)),[[Al,e.url]])],64)):f("",!0)]))),128))])):f("",!0),(null==(R=h(tl))?void 0:R.is_streaming)?(x(),m(pl,{key:2,tokenId:h(F).params.id},null,8,["tokenId"])):f("",!0),S(ml,{"popper-class":"[--el-popover-bg-color:--border]",persistent:!1},{reference:b(()=>[k("span",Hd,[S(vl,{class:"text-[--third-text] h-16px w-10px",name:"custom:search"})])]),default:b(()=>{var l,a,t,n;return[k("div",jd,[k("a",{href:`https://x.com/search?q=${null==(l=h(tl))?void 0:l.token}`,target:"_blank",class:"text-12px py-4px px-8px color-[--main-text] hover:bg-[--dialog-tab-active]"},_(e.$t("tweetSearchContractAddress")),9,zd),k("a",{href:`https://x.com/search?q=$${null==(a=h(tl))?void 0:a.symbol}`,target:"_blank",class:"text-12px py-4px px-8px color-[--main-text] hover:bg-[--dialog-tab-active]"},_(e.$t("tweetSearchContractAddress2")),9,Wd),k("a",{href:`https://www.tiktok.com/search?q=${null==(t=h(tl))?void 0:t.symbol}`,target:"_blank",class:"text-12px py-4px px-8px color-[--main-text] hover:bg-[--dialog-tab-active]"},_(e.$t("TikTokSearchName")),9,qd),k("a",{href:`https://www.google.com/search?q=${null==(n=h(tl))?void 0:n.symbol}&tbm=nws`,target:"_blank",class:"text-12px py-4px px-8px color-[--main-text] hover:bg-[--dialog-tab-active]"},_(e.$t("GoogleSearchName")),9,Gd),k("span",{class:"text-12px py-4px px-8px color-[--main-text] hover:bg-[--dialog-tab-active] cursor-pointer",onClick:wl},_(e.$t("tweetSearchContractAddress4")),1)])]}),_:1}),(null==(O=h(tl))?void 0:O.launchpad)?g((x(),w("img",{key:3,class:"rounded-100% bg-btn cursor-pointer",src:h(be)(h(tl).launchpad),alt:"",width:12,style:{"border-radius":"100%"}},null,8,Yd)),[[Al,h(tl).launchpad]]):f("",!0),(null==(j=h(se))?void 0:j.headline)||(null==(z=h(se))?void 0:z.summary)?g((x(),w("a",Qd,[S(vl,{name:"custom:ai",class:"text-14px"})])),[[Al,{content:`<div class='max-w-[400px]'>${h(se).headline||h(se).summary}</div>`,props:{placement:"top-start"}},void 0,{raw:!0}]]):f("",!0)]),S(_d),h(n)?(x(),m(ml,{key:0,visible:h(H),"onUpdate:visible":o[6]||(o[6]=e=>B(H)?H.value=e:null),placement:"bottom","popper-class":"chains-table-filter",title:"",width:200,persistent:!1,trigger:"click"},{reference:b(()=>[k("a",{class:"w-zu flex-start bg-btn",href:"",onClick:o[2]||(o[2]=L(()=>{},["stop","prevent"]))},[S(vl,{class:"text-[--third-text] text-12px",name:"custom:groups"}),k("span",Kd,_(h(cl)),1)])]),default:b(()=>[k("div",Xd,[k("span",null,_(e.$t("editGroup")),1),k("div",Zd,[S(bl,{modelValue:h(K),"onUpdate:modelValue":o[3]||(o[3]=e=>B(K)?K.value=e:null),class:"select3",placeholder:e.$t("pleaseSelectGroup"),teleported:!1,persistent:!1},{default:b(()=>[S(hl,{label:e.$t("defaultGroup"),value:0},null,8,["label"]),(x(!0),w(T,null,C(h(ae),e=>(x(),m(hl,{key:e.group_id,label:e.name,value:e.group_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),k("div",Jd,[(x(),m(_l,{key:h(A).theme,class:"flex-1",size:"default",style:{height:"30px","min-width":"70px","--el-button-font-weight":"400"},color:"var(--border)",onClick:o[4]||(o[4]=L(e=>gl(),["stop"]))},{default:b(()=>[I(_(e.$t("cancel")),1)]),_:1})),g((x(),m(_l,{class:"flex-1",size:"default",style:{height:"30px","min-width":"70px","--el-button-font-weight":"400"},type:"primary",onClick:o[5]||(o[5]=L(e=>kl(h(K)),["stop"]))},{default:b(()=>[I(_(e.$t("confirm")),1)]),_:1})),[[Sl,h(le)]])])])]),_:1},8,["visible"])):f("",!0),h(n)?(x(),m(ml,{key:1,visible:h(te),"onUpdate:visible":o[11]||(o[11]=e=>B(te)?te.value=e:null),placement:"bottom","popper-class":"chains-table-filter",title:"",persistent:!1,width:200,trigger:"click"},{reference:b(()=>[k("a",{class:"w-zu flex-start bg-btn",href:"",onClick:o[7]||(o[7]=L(()=>{},["stop","prevent"]))},[S(vl,{class:"text-[--third-text] text-12px",name:"custom:remark"}),k("span",ec,_(h(oe)),1)])]),default:b(()=>[k("div",lc,[k("span",null,_(e.$t("editRemark")),1),k("div",ac,[S(Tl,{modelValue:h(ie),"onUpdate:modelValue":o[8]||(o[8]=e=>B(ie)?ie.value=e:null),modelModifiers:{trim:!0},placeholder:h(oe),clearable:""},null,8,["modelValue","placeholder"])]),k("div",tc,[(x(),m(_l,{key:h(A).theme,class:"flex-1",size:"default",style:{height:"30px","min-width":"70px","margin-left":"auto","--el-button-font-weight":"400"},color:"var(--border)",onClick:o[9]||(o[9]=L(e=>gl(),["stop"]))},{default:b(()=>[I(_(e.$t("cancel")),1)]),_:1})),S(_l,{class:"flex-1",size:"default",type:"primary",style:{height:"30px","min-width":"70px","--el-button-font-weight":"400"},onClick:o[10]||(o[10]=L(e=>function(e,l){if(Ze.value)return(null==l?void 0:l.length)>50?ne.error($("maximum10characters")):void De(e,l,Ze.value).then(()=>{ne.success($("success")),oe.value=l,te.value=!1,je.emit()}).catch(e=>{ne.error($("fail"))}).finally(()=>{});Ve()}(h(al),h(ie)),["stop"]))},{default:b(()=>[I(_(e.$t("confirm")),1)]),_:1})])])]),_:1},8,["visible"])):f("",!0)]),k("div",nc,["0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee"!==(null==(W=h(tl))?void 0:W.token)?(x(),w("a",{key:0,class:"hover:color-[--main-text] leading-12px font-500",href:h(Z)(null==(q=h(tl))?void 0:q.chain,null==(G=h(tl))?void 0:G.token),target:"_blank"},_(null==(X=null==(Y=h(tl))?void 0:Y.token)?void 0:X.replace(new RegExp("(.{4})(.+)(.{4}$)"),"$1...$3")),9,oc)):f("",!0),k("span",sc,[g(S(vl,{name:"bxs:copy",class:"ml-5px clickable"},null,512),[[Nl,null==(re=h(tl))?void 0:re.token]])]),h(nl)?g((x(),w("span",ic,[I(_(("formatTimeFromNow"in e?e.formatTimeFromNow:h(ye))(null==(de=h(nl))?void 0:de.created_at,!1,!0)),1)])),[[Al,h(J)(null==(ce=h(nl))?void 0:ce.created_at)]]):f("",!0),((null==(ve=h(ul))?void 0:ve.buy_tax)??0)>0||((null==(pe=h(ul))?void 0:pe.sell_tax)??0)>0?(x(),w("div",rc,[k("span",null,_(e.$t("tax"))+":",1),((null==(me=h(ul))?void 0:me.buy_tax)??0)>0?(x(),w("span",{key:0,class:"text-12px tax-text",style:N({color:h(we)[0]})},_(h(Q)((null==(Ae=h(ul))?void 0:Ae.buy_tax)||0,1))+"% ",5)):f("",!0),((null==(Se=h(ul))?void 0:Se.sell_tax)??0)>0?(x(),w("span",{key:1,class:"text-12px tax-text ml-4px",style:N({color:h(Te)[0]})},_(h(Q)((null==(Ne=h(ul))?void 0:Ne.sell_tax)||0,1))+"% ",5)):f("",!0)])):f("",!0),S(Eo),S(ml,{width:"120px","popper-class":"[--el-popover-bg-color:--border] !min-w-[120px]",persistent:!1},{reference:b(()=>{var e,l;return[k("span",uc,[(x(),w("svg",dc,[k("path",{fill:(null==(e=h(He))?void 0:e.total_tokens)?"#F6465D":"#5A5E64",d:"M8.04273 10H1.94948C1.80865 10 1.69463 9.87378 1.69463 9.71787V8.05005H8.29757V9.71914C8.29648 9.87378 8.18246 10 8.04273 10ZM1.69463 7.43178V6.31448C0.714308 6.05962 0 5.07978 0 3.94159C0 2.59556 0.988135 1.50067 2.20322 1.50067C2.44801 1.50067 2.69172 1.54645 2.91975 1.63308C3.22493 0.669309 4.05656 1.3726e-10 4.99999 1.3726e-10C5.94342 -1.10678e-05 6.77507 0.66932 7.08025 1.63308C7.30942 1.54645 7.55198 1.50067 7.79678 1.50067C9.01187 1.50067 10 2.59556 10 3.94159C10 5.07978 9.2857 6.05842 8.30536 6.31448V7.43178H1.69463Z"},null,8,cc)])),k("span",vc,_(null==(l=h(He))?void 0:l.total_tokens),1)])]}),default:b(()=>{var l;return[k("div",pc,[k("span",mc,[k("span",null,"Dev"+_(e.$t("migrated")),1),k("span",fc,_(h(He).total_migrated),1)]),k("span",hc,[k("span",null,"Dev"+_(e.$t("totalTokens")),1),k("span",xc,_(h(He).total_tokens),1)]),k("div",bc,[k("span",null,_(e.$t("migrationRate")),1),k("span",kc,_((null==(l=h(He))?void 0:l.total_tokens)?((h(He).total_migrated??0)/h(He).total_tokens*100).toFixed(2):0)+"% ",1)]),k("span",{class:"flex items-center justify-between clickable text-12px py-4px px-8px color-[--third-text] hover:bg-[--dialog-tab-active]",onClick:qe},[k("span",null,_(e.$t("viewDevTokens")),1)])])]}),_:1})])])]),o[16]||(o[16]=k("div",{class:"flex-1"},null,-1)),((null==($e=h(nl))?void 0:$e.progress)??0)>0&&((null==(Ie=h(nl))?void 0:Ie.progress)??0)<100?(x(),w("div",gc,[k("div",_c,[k("span",null,_(e.$t("progress")),1),k("span",yc,_(h(Q)((null==(Fe=h(nl))?void 0:Fe.progress)||0,2))+"%",1)]),S(Cl,{class:"mt-10px",percentage:null==(Le=h(nl))?void 0:Le.progress,"stroke-width":4,color:"#1CC982","show-text":!1,style:{width:"90px"}},null,8,["percentage"])])):f("",!0),k("div",wc,[k("span",Tc," $"+_(h(U)?h(Q)(h(il),2):h(Q)(h(ol)||0,{decimals:4,limit:6})),1),k("span",{class:V(["block mt-4px",h(sl)>0?`color-${h(we)[0]}`:`color-${h(Te)[0]}`])},_(h(sl)>0?"+":"")+_(h(Q)(h(sl),{decimals:2,limit:10}))+"%",3)]),h(U)?(x(),w("div",Sc,[k("span",null,_(e.$t("price")),1),k("span",Nc,"$"+_(h(Q)(h(ol)||0,{decimals:4,limit:6})),1)])):(x(),w("div",Cc,[k("span",null,_(e.$t("mcap")),1),k("span",Ac,"$"+_(h(Q)(h(il),2)),1)])),S(ml,{"popper-style":"padding: 0;border-radius: 8px;",width:"250",placement:"top",teleported:!1,trigger:"hover"},{reference:b(()=>{var l;return[k("div",$c,[k("span",Ic,_(e.$t("liquidity3")),1),k("span",Fc," $"+_(h(Q)((null==(l=h(a).token)?void 0:l.main_pair_tvl)||0,1)),1)])]}),default:b(()=>{var t;return[k("div",Lc,[k("div",Vc,[k("span",Bc,_(e.$t("availableLiquidity")),1),k("span",Dc,"$"+_(h(Q)((null==(t=h(a).token)?void 0:t.main_pair_tvl)||0,1)),1)]),k("div",Mc,[(x(!0),w(T,null,C(h(Qe),t=>{var n,o;return x(),w("div",{key:t.pair,class:"flex justify-between mb-4px cursor-pointer",onClick:L(e=>h(a).switchPair(t.pair),["stop"])},[k("div",Ec,[k("div",Uc,[k("div",Rc,["unknown"===t.amm?g((x(),m(vl,{key:0,name:"tdesign:help-circle-filled",class:"mr-5px color-#848E9C text-24px"},null,512)),[[Al,t.amm]]):g((x(),w("a",{key:1,href:t.swap_url+t.target_token,target:"_blank",class:"inline-flex"},[k("img",{class:"rounded-50% mr-5px h-30px w-30px",src:h(Ce)(t.amm),onerror:"this.src='/icon-default.png'"},null,8,Hc)],8,Oc)),[[Al,t.ammName]]),k("img",{class:"rounded-50% absolute right-6px bottom-6px h-10px w-10px",src:`${h(l)}chain/${t.chain}.png`,onerror:"this.src='/icon-default.png'"},null,8,jc)])]),k("div",null,[k("div",zc,_(t.amm),1),k("span",Wc,[I(_(e.$t("poolPair"))+": "+_(null==(n=Ye(t))?void 0:n.tokenShow)+" ",1),g(S(vl,{name:"bxs:copy",class:"text-2.5 color-[--third-text] clickable"},null,512),[[Nl,null==(o=Ye(t))?void 0:o.token]])])])]),k("div",qc,[t.target_token===t.token0_address?(x(),w("span",Gc,"$"+_(h(Q)(t.reserve1*t.token1_price_usd*2||0,2)),1)):(x(),w("span",Yc,"$"+_(h(Q)(t.reserve0*t.token0_price_usd*2||0,2)),1))])],8,Pc)}),128))])])]}),_:1}),k("div",Qc,[k("span",null,_(e.$t("24Volume")),1),k("span",Kc,"$"+_(h(Q)(h(rl),2)),1)]),k("div",Xc,[k("span",null,_(e.$t("holders")),1),k("span",Zc,_(h(Q)((null==(Be=h(tl))?void 0:Be.holders)||0,{limit:10})),1)]),k("div",Jc,[o[15]||(o[15]=k("span",null,"DEV",-1)),k("span",{class:"block mt-8px color-[--main-text]",style:N({color:100*Number((null==(Me=h(tl))?void 0:Me.dev_balance_ratio_cur)||0)<.1?"var(--third-text)":100*((null==(Pe=h(tl))?void 0:Pe.dev_balance_ratio_cur)??0)>10?"#FFA622":""})},_(((null==(Ue=h(tl))?void 0:Ue.dev_balance_ratio_cur)??0)>0&&100*((null==(Re=h(tl))?void 0:Re.dev_balance_ratio_cur)??0)<.1?"<0.1":h(Q)(100*((null==(Oe=h(tl))?void 0:Oe.dev_balance_ratio_cur)??0),2))+"%",5)]),k("div",{class:"item ml-24px cursor-pointer",onClick:o[13]||(o[13]=e=>Ee.value=!h(Ee))},[k("span",ev,[I(_(e.$t("audit1"))+" ",1),S(vl,{name:"material-symbols:arrow-forward-ios-rounded",class:"text-12px"})]),k("div",lv,[-1==(null==(ze=h(tl))?void 0:ze.risk_level)||((null==(We=h(tl))?void 0:We.risk_score)??0)>=60||h(Je)>0?(x(),w("img",av)):h(el)>0?(x(),w("img",tv)):h(Je)||h(el)||h(ll)?(x(),w("img",ov)):(x(),w("img",nv)),h(Je)||h(el)||h(ll)?(x(),w("span",{key:4,class:"ml-5px",style:N([{"font-weight":"600"},{color:($l=h(tl),-1==((null==$l?void 0:$l.risk_level)??0)||((null==$l?void 0:$l.risk_score)??0)>=60||(null==Je?void 0:Je.value)>0?"#e74e54":el?"#f8be46":Je||el||ll?"#507eef":"#81c54e")}])},_(h(Je)||h(el)||h(ll)||""),5)):f("",!0)]),S(dd,{modelValue:h(Ee),"onUpdate:modelValue":o[12]||(o[12]=e=>B(Ee)?Ee.value=e:null)},null,8,["modelValue"])])]),g(k("div",{class:"absolute bg-[--main-list-hover] w-10px h-32px z-1 cursor-pointer flex items-center justify-center top-0px right--11px hover:w-30px hover:right--31px hover:h-36px transition-all rounded-tr-4px rounded-br-4px color-[--third-text] hover:color-[--main-text]",onClick:o[14]||(o[14]=e=>h(t).$patch({showRight:!1}))},[S(vl,{name:"material-symbols:arrow-forward-ios",class:"text-12px"})],512),[[ue,h(t).showRight]])]);var $l}}}),[["__scopeId","data-v-cd48f702"]]),iv={class:"tabs pt-11px pb-10px px-15px"},rv=["onClick"],uv={class:"name"},dv=M(o({__name:"priceTabs",props:{modelValue:{},tabs:{}},emits:["update:modelValue"],setup(e,{emit:l}){const a=Ee(()=>se(()=>import("./BMI4lmYb.js"),__vite__mapDeps([6,4,5]),import.meta.url)),t=R(!0),n=l,o=j(),s=e=>{var l;const a=null==(l=o.pair)?void 0:l[`price_change_${e}`];return a?a>0?"#12B886":a<0?"#F6465D":"#999":"#999"},i=()=>{setTimeout(()=>{t.value=!0},16.7)};return(l,r)=>h(t)?(x(),w("div",{key:1,onMouseenter:r[0]||(r[0]=e=>{t.value=!1}),class:"bg-[--secondary-bg] py-8px px-15px h-64px"},[(x(!0),w(T,null,C(e.tabs,l=>(x(),w(T,{key:l.id},[e.modelValue===l.id?(x(),m(h(a),{key:0,tabActive:l.id,tabActiveName:l.name},null,8,["tabActive","tabActiveName"])):f("",!0)],64))),128))],32)):(x(),w("div",{key:0,class:"bg-[--secondary-bg] h-64px",onMouseleave:i},[k("div",iv,[(x(!0),w(T,null,C(e.tabs,l=>{var a;return x(),w("button",{key:l.id,class:V(["tab-button clickable-btn bg-[--secondary-bg]",{active:e.modelValue===l.id}]),onClick:L(e=>n("update:modelValue",l.id),["stop"])},[k("div",uv,_(l.name),1),k("div",{class:"value",style:N({color:s(l.id)})},_(h(o).pair?h(Q)(null==(a=h(o).pair)?void 0:a[`price_change_${null==l?void 0:l.id}`],2):"--")+"% ",5)],10,rv)}),128))])],32))}}),[["__scopeId","data-v-df2ce88e"]]),cv={class:"min-h-400px"},vv={class:"card-list-item"},pv=["href"],mv={key:0,style:{height:"15px"},src:Yo,alt:"",srcset:""},fv={class:"color-[--third-text]"},hv={key:0,class:"table-lock"},xv=M(o({__name:"lpHolders",props:{type:{type:String,default:"token"},onlyList:{type:Boolean,default:!0}},setup(e){const l=j(),a=i(),t=v(null),n=c(()=>{var e;const t=r(a.params.id);return(null==t?void 0:t.chain)||(null==(e=l.token)?void 0:e.chain)||""}),o=c(()=>{var e;return(null==(e=l.tokenInfoExtra)?void 0:e.pair_holders)||0});function s(e){return(null==e?void 0:e.lock)||/lock|null|(black hole)/gi.test((null==e?void 0:e.mark)||"")}function p(){const e=a.params.id;On(e).then(e=>{t.value=e})}return d(()=>a.params.id,()=>{p()}),u(()=>{p()}),(e,l)=>{const a=yn,i=y;return x(),w("ul",cv,[k("li",vv,[k("span",null,_(e.$t("holders2"))+_(h(o)?`(${h(o)})`:""),1),k("span",null,_(e.$t("details")),1)]),(x(!0),w(T,null,C(h(t)||[],(t,o)=>{var r,u,d;return x(),w(T,{key:o},[k("li",{class:V(["card-list-item",{"bg-warning":1===Number(null==t?void 0:t.analysis_show_warning)}])},[k("a",{href:("formatExplorerUrl"in e?e.formatExplorerUrl:h(Z))(h(n)||"",t.address||"","address"),target:"_blank",class:"flex items-center"},[k("span",null,_(o+1)+".",1),1===Number(null==t?void 0:t.analysis_show_creator)?(x(),m(a,{key:0,type:"primary",round:"",size:"small",class:"mr-3px"},{default:b(()=>[I(_(e.$t("contractCreator")),1)]),_:1})):f("",!0),s(t)?(x(),w(T,{key:1},[(null==t?void 0:t.lock)&&(null==(r=null==t?void 0:t.lock)?void 0:r.length)>0&&(null==(d=null==(u=null==t?void 0:t.lock)?void 0:u.every)?void 0:d.call(u,e=>1e3*e.unlockDate<=Date.now()))?(x(),w("img",mv)):(x(),m(i,{key:1,class:"text-14px",color:"#B3920E",name:"material-symbols-light:lock"}))],64)):f("",!0),1===(null==t?void 0:t.is_contract)?(x(),m(i,{key:2,name:"custom:contract",class:"mr-2px text-12px"})):f("",!0),t.mark?(x(),w(T,{key:4},[I(_(t.mark),1)],64)):(x(),w(T,{key:3},[I(_((t.address||"").slice(0,2)+"..."+(t.address||"").slice(-4)),1)],64)),t.lock&&t.lock.length>0&&t.lock.every(e=>1e3*e.unlockDate<=Date.now())?(x(),w(T,{key:5},[l[0]||(l[0]=k("br",null,null,-1)),I(" "+_(e.$t("unlocked")),1)],64)):f("",!0)],8,pv),k("div",null,[I(_(h(Q)(t.quantity||0,2))+" ",1),k("span",fv,"("+_(h(Q)(t.percent||0,2))+"%)",1)])],2),t.lock&&t.lock.length>0?(x(),w("table",hv,[k("thead",null,[k("tr",null,[k("th",null,_(e.$t("amount")),1),k("th",null,_(e.$t("lockDate")),1),k("th",null,_(e.$t("unlockDateStart")),1),k("th",null,_(e.$t("unlockDateEnd")),1)])]),k("tbody",null,[(x(!0),w(T,null,C(t.lock,(l,a)=>(x(),w("tr",{key:a,style:N({color:1e3*l.unlockDate<=Date.now()?"#FF9F00":""})},[k("td",null,_(h(Q)(l.amount||0,2)),1),k("td",null,_(("formatDate"in e?e.formatDate:h(J))(l.lockDate,"YYYY-MM-DD")),1),k("td",null,_(("formatDate"in e?e.formatDate:h(J))(l.unlockDate,"YYYY-MM-DD")),1),k("td",null,_(("formatDate"in e?e.formatDate:h(J))(l.vesting_end||l.unlockDate,"YYYY-MM-DD")),1)],4))),128))])])):f("",!0)],64)}),128))])}}}),[["__scopeId","data-v-ec8e3059"]]),bv={class:"pairs-table"},kv=["onClick"],gv={class:"main flex justify-start items-center"},_v={class:"main"},yv={class:"minor"},wv={class:"minor"},Tv={class:"text-right"},Cv={class:"flex items-center justify-end"},Av=["href"],Sv=["src"],Nv={key:1,class:"inline-flex"},$v=["src"],Iv={class:"font-400 text-12px lh-16px flex flex-col gap-4px text-center"},Fv={class:"flex items-center justify-center px-10px py-4px"},Lv={key:1,class:"inline-flex"},Vv=["src"],Bv={class:"text-[--secondary-text]"},Dv=["href"],Mv=["onClick"],Pv=["innerHTML"],Ev=["innerHTML"],Uv={class:"flex items-center justify-end"},Rv={key:0,class:"main"},Ov={key:1,class:"main"},Hv={key:0,class:"collapse-button"},jv=M(o({__name:"pairs",props:{isInModal:{type:Boolean,default:!1},search:{type:String,default:""}},emits:["openFilterModal"],setup(e,{emit:l}){const a=l,t=e,n=j(),o=v(!1),s=c(()=>{var e;return 100*((null==(e=null==n?void 0:n.tokenInfoExtra)?void 0:e.pair_lock_percent)||0)||0}),i=v(!1),r=c(()=>{var e;return null==(e=n.pairs)?void 0:e.map(e=>{var l;return{...e,ammName:"unknown"===e.amm?e.amm:(null==(l=Se(e.chain,e.amm))?void 0:l.show_name)||e.amm,isUp:e.target_token===e.token0_address?new Ae(e.reserve1).gt(e.init_reserve1):new Ae(e.reserve0).gt(e.init_reserve0)}}).filter(e=>!t.isInModal||("unknown"===t.search?"unknown"===e.amm:e.ammName===t.search))}),u=c(()=>n.tokenAllPair);return(l,t)=>{var d,c,v;const N=y,$=Cn,F=A,M=D,P=Ue,E=p("tooltip");return x(),w(T,null,[k("table",bv,[k("thead",null,[k("tr",null,[k("th",null,_(l.$t("liquidityPair")),1),k("th",null,_(l.$t("amount"))+"/"+_(l.$t("initial")),1),k("th",null,_(l.$t("price"))+"/"+_(l.$t("poolCirculatingSupply")),1)])]),k("tbody",null,[(x(!0),w(T,null,C((h(o)?h(r):null==(c=null==(d=h(r))?void 0:d.slice)?void 0:c.call(d,0,e.isInModal?void 0:1))||[],(o,r)=>(x(),w("tr",{key:o.pair,class:V({active:!(h(n).pairAddress!==o.pair||h(n).selectedToken&&h(u))}),onClick:L(e=>function(e){if(n.pairAddress===e.pair&&!n.selectedToken&&u.value)n.switchPair(!0);else{if(n.pairAddress===e.pair&&!u.value)return;n.switchPair(e.pair)}}(o),["stop"])},[k("td",null,[k("div",gv,[k("span",null,_(o.target_token===o.token0_address?o.token0_symbol:o.token1_symbol),1),0===r&&h(s)>0?(x(),m($,{key:0,class:"progress clickable",type:"circle",percentage:h(s),color:"#12B886",width:16,"stroke-width":1.5,indeterminate:"",onClick:t[0]||(t[0]=L(e=>i.value=!0,["stop","prevent"]))},{default:b(()=>[S(N,{class:"text-10px color-[--third-text]",name:"material-symbols:lock"})]),_:1},8,["percentage"])):f("",!0)]),S(F,{class:"main",to:"/token/"+(o.target_token===o.token0_address?o.token1_address:o.token0_address)+"-"+o.chain},{default:b(()=>[I(_(o.target_token===o.token0_address?o.token1_symbol:o.token0_symbol),1)]),_:2},1032,["to"]),o.is_fake?g((x(),m(N,{key:0,name:"ri:error-warning-line",class:"ml-3px color-#ffbb19 relative top-2px"},null,512)),[[E,l.$t("phoneyPool")]]):f("",!0)]),k("td",null,[k("span",_v,_(h(Q)((o.target_token===o.token0_address?o.reserve0:o.reserve1)||0,2)),1),k("span",yv,[t[3]||(t[3]=I("/",-1)),o.init_reserve0||o.init_reserve1?(x(),w(T,{key:0},[I(_(h(Q)((o.target_token===o.token0_address?o.init_reserve0:o.init_reserve1)||0,2)),1)],64)):(x(),w(T,{key:1},[I("--")],64))]),t[5]||(t[5]=k("br",null,null,-1)),o.target_token===o.token0_address?(x(),w("span",{key:0,class:V(["main",o.isUp?"green":"red"])},_(h(Q)(o.reserve1||0,2)),3)):(x(),w("span",{key:1,class:V(["main",["main",o.isUp?"green":"red"]])},_(h(Q)(o.reserve0||0,2)),3)),k("span",wv,[t[4]||(t[4]=I("/",-1)),o.init_reserve0||o.init_reserve1?(x(),w(T,{key:0},[I(_(h(Q)((o.target_token===o.token0_address?o.init_reserve1:o.init_reserve0)||0,2)),1)],64)):(x(),w(T,{key:1},[I("--")],64))])]),k("td",null,[k("div",Tv,[k("div",Cv,[e.isInModal?(x(),w(T,{key:0},["unknown"===o.amm?g((x(),m(N,{key:0,name:"tdesign:help-circle-filled",class:"mr-5px color-#848E9C text-20px"},null,512)),[[E,o.amm]]):g((x(),w("a",{key:1,href:o.swap_url+o.target_token,target:"_blank",class:"inline-flex"},[k("img",{class:"rounded-50% mr-5px h-16px w-16px",src:h(Ce)(o.amm),onerror:"this.src='/icon-default.png'",height:"16"},null,8,Sv)],8,Av)),[[E,o.ammName]])],64)):(x(),m(M,{key:1,persistent:!1,"popper-class":"[--el-popover-bg-color:--border] [--el-popover-padding:4px_0!important]","popper-style":"width: auto;min-width: 104px;",placement:"bottom",trigger:"hover"},{reference:b(()=>["unknown"===o.amm?(x(),m(N,{key:0,name:"tdesign:help-circle-filled",class:"mr-5px color-#848E9C text-20px"})):(x(),w("div",Nv,[k("img",{class:"rounded-50% mr-5px h-16px w-16px",src:h(Ce)(o.amm),onerror:"this.src='/icon-default.png'",height:"16"},null,8,$v)]))]),default:b(()=>[k("div",Iv,[k("div",Fv,["unknown"===o.amm?(x(),m(N,{key:0,name:"tdesign:help-circle-filled",class:"mr-5px color-#848E9C text-20px"})):(x(),w("div",Lv,[k("img",{class:"rounded-50% mr-5px h-16px w-16px",src:h(Ce)(o.amm),onerror:"this.src='/icon-default.png'",height:"16"},null,8,Vv)])),k("span",Bv,_("unknown"===o.amm?"unknown":o.ammName),1)]),"unknown"!==o.amm&&o.ammName?(x(),w("a",{key:0,href:o.swap_url+o.target_token,target:"_blank",class:"hover:bg-[--dialog-tab-active-bg] px-10px py-4px"},_(l.$t("pairsLink")),9,Dv)):f("",!0),k("div",{class:"cursor-pointer hover:bg-[--dialog-tab-active-bg] px-10px py-4px",onClick:L(e=>a("openFilterModal","unknown"===o.amm?"unknown":o.ammName),["stop","prevent"])},_(l.$t("searchSameAmm")),9,Mv)])]),_:2},1024)),o.target_token===o.token0_address?(x(),w("span",{key:2,class:"main",innerHTML:"$"+h(Q)(o.token0_price_usd||0,2)},null,8,Pv)):(x(),w("span",{key:3,class:"main",innerHTML:"$"+h(Q)(o.token1_price_usd||0,2)},null,8,Ev))]),k("div",Uv,[o.target_token===o.token0_address?(x(),w("span",Rv,"$"+_(h(Q)(o.reserve1*o.token1_price_usd*2||0,2)),1)):(x(),w("span",Ov,"$"+_(h(Q)(o.reserve0*o.token0_price_usd*2||0,2)),1))])])])],10,kv))),128))])]),e.isInModal?f("",!0):(x(),w(T,{key:0},[((null==(v=h(r))?void 0:v.length)||0)>1?(x(),w("div",Hv,[k("button",{onClick:t[1]||(t[1]=L(e=>o.value=!h(o),["stop","prevent"]))},[S(N,{name:"solar:alt-arrow-down-line-duotone",class:V([h(o)?"collapse":"expand","text-20px font-bold color-[--third-text]"])},null,8,["class"])])])):f("",!0)],64)),h(i)?(x(),m(P,{key:1,modelValue:h(i),"onUpdate:modelValue":t[2]||(t[2]=e=>B(i)?i.value=e:null),width:"600px",title:"LP "+l.$t("holdersDetail"),"append-to-body":"","destroy-on-close":""},{default:b(()=>[S(xv)]),_:1},8,["modelValue","title"])):f("",!0)],64)}}}),[["__scopeId","data-v-025db196"]]),zv={key:0,class:"flex-between mr-15px"},Wv={class:"tabHeader text-14px py-12px flex flex-row gap-2 color-[--third-text]"},qv=["onClick"],Gv={key:0},Yv={key:0,class:"tabs"},Qv=["onClick"],Kv={key:1,class:"mr-15px overflow-x-hidden"},Xv={class:"flex justify-between mb-12px"},Zv={class:"color-[--third-text]"},Jv={key:0,class:"flex justify-between mb-12px"},ep={class:"color-[--third-text]"},lp={class:"flex items-center justify-end color-[--secondary-text]"},ap=["href"],tp={key:1,class:"flex justify-between mb-12px"},np={class:"color-[--third-text]"},op={class:"flex items-center justify-end color-[--secondary-text]"},sp=["href"],ip={key:2,class:"flex justify-between mb-12px"},rp={class:"color-[--third-text]"},up={class:"color-[--secondary-text]"},dp={key:3,class:"flex justify-between mb-12px"},cp={class:"color-[--third-text]"},vp={class:"flex items-center justify-end color-[--secondary-text]"},pp=["href"],mp={key:4,class:"flex justify-between mb-12px"},fp={class:"color-[--third-text]"},hp={class:"flex items-center justify-end color-[--secondary-text]"},xp=["href"],bp={class:"flex justify-between mb-12px"},kp={class:"color-[--third-text]"},gp={class:"color-[--secondary-text]"},_p={class:"flex justify-between mb-12px"},yp={class:"color-[--third-text]"},wp={class:"color-[--secondary-text]"},Tp={class:"flex justify-between mb-12px"},Cp={class:"color-[--third-text]"},Ap={class:"color-[--secondary-text]"},Sp={key:5,class:"flex justify-between mb-12px"},Np={class:"color-[--third-text]"},$p={class:"color-[--secondary-text]"},Ip={key:6,class:"flex justify-between mb-12px"},Fp={class:"color-[--third-text]"},Lp={class:"color-[--secondary-text]"},Vp={key:0,class:"text-14px mb-12px color-[--third-text]"},Bp={class:"text-12px color-[--secondary-text] token-description"},Dp=["innerHTML"],Mp={key:1,class:"flex-between color-[--secondary-text] text-center"},Pp={class:"text-14px color-[--third-text] flex items-center justify-start mb-12px"},Ep={class:"text-12px color-[--secondary-text] token-description"},Up=["src"],Rp=["src"],Op=M(o({__name:"overview",props:{isRank:{type:Boolean}},setup(e){const l=ce("aiSummary"),a=e,{height:t}=Re(),n=a.isRank?Hn():j(),o=Pn(),u=c(()=>n.pair),d=c(()=>n.token),A=c(()=>n.circulation),$=c(()=>n.tokenInfoExtra),F=Oe(),{t:D}=s(),M=R(!1),P=R(0),E=v(a.isRank?"grid":"col"),U=v("info"),H=c(()=>[{id:"info",name:D("tokenInfo")}]),z=[{id:"col",icon:"col",name:"col"},{id:"grid",icon:"grid",name:"grid"}],W=O(),{mode:G}=q(W),Y={eth:"ETH",bsc:"BSC",base:"BASE",solana:"SOL",optimism:"OP"},K=ve(Pe.DEV_TOKENS_TAB).on(()=>{U.value="devBit"});re(()=>{K&&K()});const X=c(()=>{var e,l,a,t;if(!(null==(e=d.value)?void 0:e.chain))return!1;let n=0;return n+=1,(null==(l=d.value)?void 0:l.token)&&(n+=1),u.value&&(n+=1),(null==(a=d.value)?void 0:a.total)&&(n+=1),(null==(t=o.checkResult)?void 0:t.creator_address)&&(n+=1),se.value&&(n+=1),n+=1,n+=1,n+=1,u.value&&(n+=1),n<10}),ee=i(),le=v(!1),ae=v(!1),te=c(()=>{var e,l;const a=ee.params.id;return a?r(a):{address:(null==(e=d.value)?void 0:e.token)||"",chain:(null==(l=d.value)?void 0:l.chain)||""}}),ne=c(()=>{var e;return null==(e=te.value)?void 0:e.address}),oe=c(()=>{var e;return null==(e=te.value)?void 0:e.chain}),se=c(()=>{var e,l;return(null==(e=null==o?void 0:o.checkResult)?void 0:e.owner)||(null==(l=d.value)?void 0:l.owner)||""}),ie=c(()=>{var e,l,a;return(null==(e=d.value)?void 0:e.appendix)&&He(null==(l=d.value)?void 0:l.appendix)?JSON.parse(null==(a=d.value)?void 0:a.appendix):{}}),ue=c(()=>{var e,l,a,t;const n=F.locale;return"zh-cn"==n||"zh-tw"==n?(null==(e=d.value)?void 0:e.intro_cn)||(null==(l=null==ie?void 0:ie.value)?void 0:l.description)||"":(null==(a=d.value)?void 0:a.intro_en)||(null==(t=null==ie?void 0:ie.value)?void 0:t.description)||""}),de=c(()=>{var e,l;return new Ae((null==(e=d.value)?void 0:e.total)||0).minus((null==(l=d.value)?void 0:l.burn_amount_dec)||0).toFixed()}),pe=c(()=>{var e;return new Ae((null==(e=$.value)?void 0:e.amount_24)||0).div(A.value||0).multipliedBy(100)||0});function me(e){return e.slice(0,4)+"..."+e.slice(-4)}const fe=c(()=>{var e,a;return((null==(e=null==l?void 0:l.value)?void 0:e.summary)||(null==(a=null==l?void 0:l.value)?void 0:a.headline)||"").match(/(\d\..*)/g)});return(a,s)=>{var i,r,c,v,$,F,D,R,O,j,W,q,K,ee,te,ie,re,ce,ve,he,xe,be,ke,ge,_e,ye,we,Te,Ce,Ae,Se,Ne,$e;const Ie=y,Fe=Ue,Le=p("copy");return x(),w("div",null,[e.isRank?f("",!0):(x(),w("div",zv,[k("div",Wv,[(x(!0),w(T,null,C(h(H),e=>(x(),w("div",{key:e.id,class:V({on:h(U)==e.id}),onClick:L(l=>U.value=e.id,["stop"])},[I(_(e.name)+" ",1),"devBit"===e.id?(x(),w("span",Gv,"("+_(h(P))+")",1)):f("",!0)],10,qv))),128))]),"info"==h(U)?(x(),w("div",Yv,[(x(),w(T,null,C(z,e=>k("span",{key:e.id,class:V(["item",{active:e.id==h(E)}]),onClick:L(l=>E.value=e.id,["stop"])},[S(Ie,{name:`custom:${e.icon}`},null,8,["name"])],10,Qv)),64))])):f("",!0)])),"info"==h(U)?(x(),w("div",Kv,[k("ul",{class:V(["text-12px",{active:"grid"==h(E)}])},[k("li",Xv,[k("span",Zv,_(a.$t("name")),1),k("span",{class:V(["color-[--secondary-text] ellipsis","grid"==h(E)?"max-w-75px":"max-w-200px"])},_((null==(i=h(d))?void 0:i.name)||(null==(r=h(d))?void 0:r.symbol)||"-"),3)]),(null==(c=h(d))?void 0:c.token)?(x(),w("li",Jv,[k("span",ep,_(a.$t("token")),1),k("div",lp,[k("a",{class:"clickable color-[--secondary-text] hover:color-[--main-text]",style:{"text-decoration":"none"},href:h(Z)(null==(v=h(d))?void 0:v.chain,null==($=h(d))?void 0:$.token,"token"),target:"_blank"},_((null==(F=h(d))?void 0:F.token)?me(null==(D=h(d))?void 0:D.token):"-"),9,ap),g(S(Ie,{name:"bxs:copy",class:"ml-5px clickable color-[--third-text]"},null,512),[[Le,null==(R=h(d))?void 0:R.token]])])])):f("",!0),h(u)?(x(),w("li",tp,[k("span",np,_(a.$t("pair")),1),k("div",op,[k("a",{class:"clickable color-[--secondary-text] hover:color-[--main-text] text-decoration-none",href:h(Z)(null==(O=h(d))?void 0:O.chain,(null==(j=h(n))?void 0:j.pairAddress)||"","address"),target:"_blank"},_(me((null==(W=h(n))?void 0:W.pairAddress)||"")),9,sp),g(S(Ie,{name:"bxs:copy",class:"ml-5px clickable color-[--third-text]"},null,512),[[Le,null==(q=h(n))?void 0:q.pairAddress]])])])):f("",!0),(null==(K=h(d))?void 0:K.total)?(x(),w("li",ip,[k("span",rp,_(a.$t("mcap")),1),k("span",up,"$"+_(("formatNumber"in a?a.formatNumber:h(Q))((null==(ee=h(n))?void 0:ee.marketCap)||0,2)),1)])):f("",!0),(null==(te=h(o).checkResult)?void 0:te.creator_address)?(x(),w("li",dp,[k("span",cp,_(a.$t("contractCreator")),1),k("div",vp,[k("a",{class:"clickable color-[--secondary-text] hover:color-[--main-text] text-decoration-none",href:h(Z)(null==(ie=h(d))?void 0:ie.chain,h(o).checkResult.creator_address,"address"),target:"_blank"},_(me((null==(re=h(o).checkResult)?void 0:re.creator_address)||"")),9,pp),g(S(Ie,{name:"bxs:copy",class:"ml-5px clickable color-[--third-text]"},null,512),[[Le,h(o).checkResult.creator_address||""]])])])):f("",!0),h(se)?(x(),w("li",mp,[k("span",fp,_(a.$t("contractOwner")),1),k("div",hp,[k("a",{class:"clickable color-[--secondary-text] hover:color-[--main-text] text-decoration-none",href:h(Z)(null==(ce=h(d))?void 0:ce.chain,h(se),"address"),target:"_blank"},_(me(h(se))),9,xp),g(S(Ie,{name:"bxs:copy",class:"ml-5px clickable color-[--third-text]"},null,512),[[Le,(null==(he=null==(ve=h(o))?void 0:ve.checkResult)?void 0:he.owner)||(null==(xe=h(d))?void 0:xe.owner)||""]])])])):f("",!0),k("li",bp,[k("span",kp,_(a.$t("24Exchange")),1),k("span",gp,[(null==(be=h(A))?void 0:be.gt(0))?(x(),w(T,{key:0},[I(_(("formatNumber"in a?a.formatNumber:h(Q))(h(pe).toString()||0,2))+"% ",1)],64)):(x(),w(T,{key:1},[I("-")],64))])]),k("li",_p,[k("span",yp,_(a.$t("totalSupply")),1),k("span",wp,_(("formatNumber"in a?a.formatNumber:h(Q))(h(de)||0,2)),1)]),k("li",Tp,[k("span",Cp,_(a.$t("FDV")),1),k("span",Ap,"$"+_(("formatNumber"in a?a.formatNumber:h(Q))(Number((null==(ke=h(d))?void 0:ke.total)||0)*((null==(ge=h(n))?void 0:ge.price)||0))),1)]),h(X)||"col"==h(E)?(x(),w("li",Sp,[k("span",Np,_(a.$t("theChain")),1),k("span",$p,_((null==(_e=h(d))?void 0:_e.chain)||"-"),1)])):f("",!0),h(u)?(x(),w("li",Ip,[k("span",Fp,_(a.$t("createdTime")),1),k("span",Lp,_((null==(ye=h(u))?void 0:ye.created_at)?h(J)(null==(we=h(u))?void 0:we.created_at):"-"),1)])):f("",!0)],2),!e.isRank&&h(ue)?(x(),w("div",{key:0,class:V({bg:"grid"==h(E)})},[h(ue)?(x(),w("div",Vp,_(a.$t("currencyOverview")),1)):f("",!0),k("div",Bp,[k("span",{innerHTML:h(M)?h(ue):null==(Te=h(ue))?void 0:Te.slice(0,250)},null,8,Dp),(null==(Ce=h(ue))?void 0:Ce.length)>250?(x(),w("button",{key:0,class:"text-12px color-#3F80F7 bg-transparent outline-none border-none clickable",onClick:s[0]||(s[0]=L(e=>M.value=!h(M),["stop"]))},_(h(M)?a.$t("expand"):a.$t("more")),1)):f("",!0)])],2)):f("",!0),Y[h(oe)]?(x(),w("div",Mp,[k("a",{href:"",class:"bg flex-1 color-[--secondary-text] text-14px",onClick:s[1]||(s[1]=L(e=>ae.value=!0,["stop","prevent"]))},_(a.$t("generateTokenAnalysis")),1),k("a",{href:"",class:"bg flex-1 color-[--secondary-text] text-14px ml-12px",onClick:s[2]||(s[2]=L(e=>le.value=!0,["stop","prevent"]))},_(a.$t("generateScore")),1)])):f("",!0),e.isRank?f("",!0):(x(),w("div",{key:2,class:V([{bg:"grid"==h(E)},"mt-12px"])},[k("div",Pp,[S(Ie,{name:"custom:ai",class:"text-12px mr-5px"}),s[5]||(s[5]=I()),k("span",null,_(a.$t("aiSummary")),1)]),k("div",Ep,[h(fe)?(x(!0),w(T,{key:1},C(h(fe),e=>(x(),w("div",{key:e},_(e),1))),128)):(x(),w(T,{key:0},[I(_((null==(Ae=h(l))?void 0:Ae.summary)||(null==(Se=h(l))?void 0:Se.headline)?(null==(Ne=h(l))?void 0:Ne.summary)||(null==($e=h(l))?void 0:$e.headline):a.$t("aiIsAnalyzing")),1)],64))])],2)),h(le)?(x(),m(Fe,{key:3,modelValue:h(le),"onUpdate:modelValue":s[3]||(s[3]=e=>B(le)?le.value=e:null),width:"50vw","align-center":"",height:h(t)-350,class:"search-dialog","header-class":"p-0! pl-20px! p-0!",title:a.$t("tokenScore"),"append-to-body":"","lock-scroll":"","destroy-on-close":""},{default:b(()=>[k("iframe",{class:"mt-20px",style:N([{width:"50vw",border:"none"},{height:h(t)-350+"px"}]),src:`https://app.creditlink.info/tokenScore?chain=${Y[h(oe)]}&address=${h(ne)}&model=${h(G)}&platform=ave.ai`,allow:"clipboard-write"},null,12,Up)]),_:1},8,["modelValue","height","title"])):f("",!0),h(ae)?(x(),m(Fe,{key:4,modelValue:h(ae),"onUpdate:modelValue":s[4]||(s[4]=e=>B(ae)?ae.value=e:null),width:"80vw","align-center":"",height:h(t)-350,class:"search-dialog","header-class":"p-0! pl-20px! p-0!",title:a.$t("tokenAnalysis"),"append-to-body":"","destroy-on-close":"","lock-scroll":""},{default:b(()=>[k("iframe",{class:"mt-20px",style:N([{width:"80vw",border:"none"},{height:h(t)-350+"px"}]),src:`https://app.creditlink.info/tokenAnalyse?chain=${Y[h(oe)]}&address=${h(ne)}&model=${h(G)}&platform=ave.ai`,allow:"clipboard-write"},null,12,Rp)]),_:1},8,["modelValue","height","title"])):f("",!0)])):f("",!0)])}}}),[["__scopeId","data-v-8e049f2d"]]),Hp={solana:"sol",ton:"TON"};function jp(e=0,l=!1){const a=i(),n=R(!1),o=j(),u=c(()=>o.token),v=z(),p=je(),{t:m}=s(),f=()=>{var e;const l=null==(e=a.params)?void 0:e.id;return"string"==typeof l?r(l):{address:"",chain:""}},h=e=>{var l,a,t;return null==(t=null==(a=null==(l=v.userInfo)?void 0:l.addresses)?void 0:a.find(l=>(null==l?void 0:l.chain)===e))?void 0:t.address};function x(e=!1){var l,a;const{token:t,native:n}=o.swap,s=(null==t?void 0:t.address)+"-"+(null==t?void 0:t.chain),i=(null==n?void 0:n.address)+"-"+(null==n?void 0:n.chain),r=(null==(l=o.swap.payToken)?void 0:l.address)+"-"+(null==(a=o.swap.payToken)?void 0:a.chain);return el([s,i,r]).then(async l=>{var a,t,n,s,i,r;if(l){const u=(null==(a=null==l?void 0:l[0])?void 0:a.current_price_usd)||0,d=(null==(t=null==l?void 0:l[1])?void 0:t.current_price_usd)||0,c=(null==(n=null==l?void 0:l[2])?void 0:n.current_price_usd)||0;return o.swap.native.price=d,o.swap.token.price=u,o.swap.payToken.price=c,e&&(null==(i=null==(s=v.userInfo)?void 0:s.addresses)?void 0:i.length)>0&&(v.userInfo.addresses=((null==(r=v.userInfo)?void 0:r.addresses)||[]).map(e=>{var l,a;return(null==e?void 0:e.chain)===(null==(l=o.swap.native)?void 0:l.chain)&&(e.price=d,e.balance=null==(a=o.swap.native)?void 0:a.balance),e})),l}})}const b=ze(async()=>{var e,a;const t=f(),s=(null==t?void 0:t.chain)||(null==(e=u.value)?void 0:e.chain),i=(null==t?void 0:t.address)||(null==(a=u.value)?void 0:a.token);if(!i||!s)return;const r=h(s);if(r){if(n.value=!0,l)return v.getUserAllChainBalance(o.swap.token),await We(1e3),void(n.value=!1);qe({chain:s,tokens:[i],walletAddress:r}).then(e=>{const l=e[0];o.swap.token={...o.token,...l,address:l.token||l.address,chain:s}}).finally(()=>{n.value=!1})}},500,{leading:!0,trailing:!0}),k=ze(async()=>{var e,a;const t=f(),s=(null==t?void 0:t.chain)||(null==(e=u.value)?void 0:e.chain);if(!((null==t?void 0:t.address)||(null==(a=u.value)?void 0:a.token))||!s)return;const i=h(s);if(i){if(n.value=!0,l)return v.getUserAllChainBalance(o.swap.native),await We(1e3),void(n.value=!1);qe({chain:s,tokens:[Hp[s]||Ge],walletAddress:i}).then(e=>{var l;const a=e[0];o.swap.native={...a,symbol:null==(l=Ye(s))?void 0:l.main_name,chain:s,address:a.token||a.address,decimals:(null==a?void 0:a.decimals)||(null==a?void 0:a.decimal)}}).finally(()=>{n.value=!1})}},500,{leading:!0,trailing:!0}),g=ze(async()=>{var e,a;const t=f(),s=(null==t?void 0:t.chain)||(null==(e=u.value)?void 0:e.chain);if(!((null==t?void 0:t.address)||(null==(a=u.value)?void 0:a.token))||!s)return;const i=h(s);if(!i)return;let r=o.swap.payToken;if(r&&(null==r?void 0:r.address)&&(null==r?void 0:r.chain)===s){if(n.value=!0,l)return v.getUserAllChainBalance(o.swap.payToken),await We(1e3),void(n.value=!1);qe({chain:s,tokens:[null==r?void 0:r.address],walletAddress:i}).then(e=>{const l=e[0];o.swap.payToken={...r,...l,address:l.token||l.address}}).finally(()=>{n.value=!1})}},500,{leading:!0,trailing:!0});const _=R(!1),y=R(0);async function w(e,l,t=function(){var e;const l=r(a.params.id);return(null==l?void 0:l.chain)||(null==(e=u.value)?void 0:e.chain)||""}()){var n,o,s,i,d;if("evm"!==(null==(n=Ye(t))?void 0:n.vm_type)||e===Ge)return y.value=Ke,Ke;if(!v.accessToken)return y.value="0","0";const c=null==(d=null==(i=null==(s=null==(o=v.userInfo)?void 0:o.addresses)?void 0:s.find)?void 0:i.call(s,e=>(null==e?void 0:e.chain)===t))?void 0:d.address;return _.value=!0,Je({inToken:e,outToken:l,chain:t,owner:c||""}).then(async e=>(y.value=1===e?Ke:e,e)).finally(()=>{_.value=!1})}function T(e){var l;const a={...e,tgUid:null==(l=null==v?void 0:v.userInfo)?void 0:l.tgUid};return Ze(a).then(e=>({result:e,wait:()=>{let e=!1,l=23;const t=(n,o)=>{l-=3,l>0?setTimeout(()=>{e||w(a.inTokenAddress,a.outTokenAddress,a.chain).then(e=>{"0"===e?t(n,o):n(e)})},3e3):o("timeout")};return new Promise((l,n)=>{const o=d(()=>{var e;return null==(e=p.wsResult)?void 0:e.tgbot},t=>{var s,i,r,u;t.batchId===a.batchId&&(o(),e=!0,(null==(i=null==(s=null==t?void 0:t.txList)?void 0:s[0])?void 0:i.success)?l(t):n((null==(u=null==(r=null==t?void 0:t.txList)?void 0:r[0])?void 0:u.failMessage)||"approve error"))});t(l,n)})}}))}return{loading:n,refreshTokenBalance:(l=!1)=>{1===e?b():l?g():k()},getTokenBalance:function(){var e,l,t,n,s,i,u,d,c,p,m;const f=r((null==(e=a.params)?void 0:e.id)||""),h=(null==f?void 0:f.chain)||(null==(t=null==(l=o.tokenInfo)?void 0:l.token)?void 0:t.chain)||"",b=(null==f?void 0:f.address)||(null==(s=null==(n=o.tokenInfo)?void 0:n.token)?void 0:s.token)||"",k=null==(c=null==(d=null==(u=null==(i=v.userInfo)?void 0:i.addresses)?void 0:u.find)?void 0:d.call(u,e=>(null==e?void 0:e.chain)===h))?void 0:c.address;if(!k)return void(o.swap.native={chain:h,symbol:null==(p=Ye(h))?void 0:p.main_name,address:Hp[h]||Ge,decimals:null==(m=Ye(h))?void 0:m.decimals});let g=o.swap.payToken,_=Hp[h]||Ge,y=(null==g?void 0:g.chain)!==h?_:(null==g?void 0:g.address)||Ge;qe({chain:h,tokens:[b,_,y],walletAddress:k}).then(e=>{var l;const a=e[0],t=e[1],n=e[2];o.swap.token={...o.token,...a,address:a.token||a.address,chain:h},o.swap.native={...t,symbol:null==(l=Ye(h))?void 0:l.main_name,chain:h,address:t.token||t.address,decimals:(null==t?void 0:t.decimals)||(null==t?void 0:t.decimal)},o.swap.payToken={...o.swap.payToken,...n,address:n.token||n.address},x(!0),null==v||v.getUserAllChainBalance(o.swap.payToken),null==v||v.getUserAllChainBalance(o.swap.token)})},getTokensPrice:x,getAllowance:w,loadingAllowance:_,allowance:y,bot_approve:T,checkApproveAndApprove:function(e={}){const l=null==e?void 0:e.chain;return l&&Qe(l)?w(e.inToken||"",e.outToken||"",l).then(l=>{var a;if(0===Number(l)){const l=e.owner||(null==(a=null==v?void 0:v.userInfo)?void 0:a.evmAddress)||"",n={batchId:Date.now().toString(),chain:e.chain||"",inTokenAddress:e.inToken||"",outTokenAddress:e.outToken||"",creatorAddress:[l]};let o=null;return T(n).then(e=>(o=t({icon:Xe("div",{class:"el-loading-spinner",style:"--el-loading-spinner-size: 24px"},[Xe("svg",{viewBox:"0 0 50 50",class:"circular"},[Xe("circle",{class:"path",style:"stroke-width: 3",cx:"25",cy:"25",r:"20",fill:"none"})])]),message:m("approving")+"...",duration:0}),e.wait())).then(async e=>{var l;return null==(l=null==o?void 0:o.close)||l.call(o),t({type:"success",message:m("approveSuccess")}),e}).catch(e=>{var l;return null==(l=null==o?void 0:o.close)||l.call(o),t({type:"error",message:e}),Promise.reject(e)})}return Promise.resolve(l)}):Promise.resolve(Ke)},getParsedRoute:f,updateBalanceFromWs:function(e){if(!Qe(e.chain))return;const l=e.chain===o.swap.token.chain,a=e.chain===o.swap.payToken.chain,t=e.chain===o.swap.native.chain;if(l&&e.inTokenAddress===o.swap.token.address&&e.fromAmount){const l=Ae(o.swap.token.balance||0).minus(Ae(e.fromAmount||0).shiftedBy(-1*(o.swap.token.decimals||0))).toString();o.swap.token.balance=l}if(a&&e.inTokenAddress===o.swap.payToken.address&&e.fromAmount){const l=Ae(o.swap.payToken.balance||0).minus(Ae(e.fromAmount||0).shiftedBy(-1*(o.swap.payToken.decimals||0))).toString();o.swap.payToken.balance=l}if(t&&e.inTokenAddress===o.swap.native.address&&e.fromAmount){const l=Ae(o.swap.native.balance||0).minus(Ae(e.fromAmount||0).shiftedBy(-1*(o.swap.native.decimals||0))).toString();o.swap.native.balance=l}if(l&&e.outTokenAddress===o.swap.token.address&&e.outputAmount){const l=Ae(o.swap.token.balance||0).plus(Ae(e.outputAmount||0).shiftedBy(-1*(o.swap.token.decimals||0))).toString();o.swap.token.balance=l}if(a&&e.outTokenAddress===o.swap.payToken.address&&e.outputAmount){const l=Ae(o.swap.payToken.balance||0).plus(Ae(e.outputAmount||0).shiftedBy(-1*(o.swap.payToken.decimals||0))).toString();o.swap.payToken.balance=l}if(t&&e.outTokenAddress===o.swap.native.address&&e.outputAmount){const l=Ae(o.swap.native.balance||0).plus(Ae(e.outputAmount||0).shiftedBy(-1*(o.swap.native.decimals||0))).toString();o.swap.native.balance=l}v.walletList.forEach(l=>{l.evmAddress===v.evmAddress&&l.addresses.forEach(l=>{var a;l.chain===e.chain&&(e.inTokenAddress===Ge?l.balance=Ae(l.balance||0).minus(Ae(e.fromAmount||0).shiftedBy(-18)).toString():null==(a=null==l?void 0:l.tokenBalances)||a[e.inTokenAddress],e.outTokenAddress===Ge&&(l.balance=Ae(l.balance||0).plus(Ae(e.outputAmount||0).shiftedBy(-18)).toString()))})})}}}const zp=o({__name:"refreshBalance",props:{type:{type:Number,default:0},isPayToken:{type:Boolean,default:!1},isBatch:{type:Boolean,default:!1}},setup(e){const l=e,{loading:a,refreshTokenBalance:t}=jp(l.type,l.isBatch);return(e,n)=>{const o=ao,s=y;return h(a)?(x(),m(o,{key:0,class:"ml-5px text-14px"})):(x(),m(s,{key:1,name:"custom:refresh-left",class:"ml-5px clickable text-14px",onClick:n[0]||(n[0]=L(e=>h(t)(l.isPayToken),["stop"]))}))}}}),Wp={class:"flex-between h-24px my--2px"},qp={class:"flex items-center"},Gp={class:"font-400 text-12px"},Yp={key:0,class:"flex items-center gap-10px mt-8px"},Qp={class:"el-select-dropdown__item text-[--third-text]!"},Kp={class:"flex items-center"},Xp={class:"text-12px color-[--third-text]"},Zp={class:"text-12px color-[--third-text]"},Jp={class:"flex gap-8px items-center text-12px mt-8px"},em=["disabled"],lm=["disabled"],am=o({__name:"autoSellSet",setup(e){const l=z(),a=ll(),t=i(),n=j(),{t:o}=s(),{loadAutoSellConfigs:u,saveAutoSellConfigs:d}=Dn(),v=c({get(){var e;return null==(e=null==a?void 0:a.autoSellConfigs)?void 0:e["isAutoSellConfig"+a.autoSellConfigs.autoSellConfigName]},set(e){var l;const t=nl(a.autoSellConfigs);t&&(t["isAutoSellConfig"+a.autoSellConfigs.autoSellConfigName]=e,!(null==(l=t["autoSellConfig"+a.autoSellConfigs.autoSellConfigName])?void 0:l.length)&&e&&(t.autoSellConfig=[{open:!0,priceChange:1e4,sellRatio:5e3,type:"default"}]),a.autoSellConfigs={...t},e&&(u(),d()))}}),A=c({get(){var e;const l=a.autoSellConfigs,t=null==l?void 0:l["autoSellConfig"+a.autoSellConfigs.autoSellConfigName];return Number(null==t?void 0:t.length)>0&&(null==(e=null==t?void 0:t.map)?void 0:e.call(t,e=>({open:e.open,priceChange:Math.floor(Math.abs(e.priceChange||0)/100)||void 0,sellRatio:Math.floor((e.sellRatio||0)/100)||void 0,type:e.type,isUp:e.priceChange?e.priceChange>0:e.isUp||!1})))||[]},set(e){var l;const t=nl(a.autoSellConfigs);t&&(t["autoSellConfig"+a.autoSellConfigs.autoSellConfigName]=(null==(l=null==e?void 0:e.map)?void 0:l.call(e,e=>({open:e.open,priceChange:e.isUp?100*Number((null==e?void 0:e.priceChange)||0):-100*Number((null==e?void 0:e.priceChange)||0),sellRatio:100*Number(e.sellRatio||0),type:e.type,isUp:e.isUp})))||[],a.autoSellConfigs={...t})}}),N=c(()=>{var e;return null==(e={0:o("takeProfitAndStopLoss0"),1:o("takeProfitAndStopLoss1"),2:o("takeProfitAndStopLoss2"),3:o("takeProfitAndStopLoss3"),4:o("takeProfitAndStopLoss4"),5:o("takeProfitAndStopLoss5"),6:o("takeProfitAndStopLoss6")})?void 0:e[$.value]}),$=c({get:()=>a.autoSellConfigs.autoSellConfigName||"0",set(e){a.autoSellConfigs.autoSellConfigName="0"===e?"":e}}),I=e=>{["0","1","2","3","4","5","6"].forEach(l=>{var t;l!==e?void 0!==(null==(t=a.autoSellConfigs)?void 0:t["isAutoSellConfig"+("0"===l?"":l)])&&(a.autoSellConfigs["isAutoSellConfig"+("0"===l?"":l)]=!1):a.autoSellConfigs["isAutoSellConfig"+("0"===l?"":l)]=!0}),u(),d()},F=c(()=>[{value:"0",label:o("takeProfitAndStopLoss0")},{value:"1",label:o("takeProfitAndStopLoss1")},{value:"2",label:o("takeProfitAndStopLoss2")},{value:"3",label:o("takeProfitAndStopLoss3")},{value:"4",label:o("takeProfitAndStopLoss4")},{value:"5",label:o("takeProfitAndStopLoss5")},{value:"6",label:o("takeProfitAndStopLoss6")}]),V=c(()=>{var e,l,a;return(null==(l=r(null==(e=t.params)?void 0:e.id))?void 0:l.chain)||(null==(a=n.token)?void 0:a.chain)});function D(){A.value.push({open:!0,priceChange:void 0,sellRatio:void 0,type:"default",isUp:!0}),P()}function M(){A.value.push({open:!0,priceChange:void 0,sellRatio:void 0,type:"default",isUp:!1}),P()}function P(){A.value=[...A.value],u(),d()}return(e,t)=>{var s,i,r,u,d,c;const E=tl,U=y,R=Tn,O=wn,H=lo,j=p("tooltip");return g((x(),w("div",null,[k("div",Wp,[al(e.$slots,"default",{},void 0,!0),k("div",qp,[S(E,{modelValue:h(v),"onUpdate:modelValue":t[0]||(t[0]=e=>B(v)?v.value=e:null),class:"auto-sell-checkbox"},{default:b(()=>[k("span",Gp,_(e.$t("advancedTrading")),1)]),_:1},8,["modelValue"]),g(S(U,{name:"material-symbols:help-rounded",class:"text-14px color-[--icon-color] cursor-pointer ml-3px"},null,512),[[j,{content:e.$t("advancedTradingTips"),props:{"popper-class":"max-w-500px"}},void 0,{raw:!0}]])])]),h(v)?(x(),w("div",Yp,[g((x(),m(O,{"popper-class":"w-selectAutoSell",modelValue:h($),"onUpdate:modelValue":t[1]||(t[1]=e=>B($)?$.value=e:null),placeholder:h(o)("defaultPolicy"),onChange:I,placement:"bottom-end",persistent:!1,size:"small",disabled:!h(v)},{default:b(()=>[k("li",Qp,_(h(o)("defaultPolicy")),1),(x(!0),w(T,null,C(h(F),e=>(x(),m(R,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder","disabled"])),[[j,h(N)]]),S(Mn,{canSetAuto:!0,isAutoSell:!0,showAutoSell:!0,chain:null==(i=null==(s=h(n).tokenInfo)?void 0:s.token)?void 0:i.chain,setting:null==(r=h(a))?void 0:r.botSettings[h(V)]},null,8,["chain","setting"])])):f("",!0),g(k("ul",null,[(x(!0),w(T,null,C(h(A),(l,a)=>(x(),w("li",{key:a,class:"mt-8px flex items-center gap-4px"},[S(H,{modelValue:l.priceChange,"onUpdate:modelValue":[e=>l.priceChange=e,P],class:"input-number-limit",min:1,controls:!1,placeholder:"--"},{prefix:b(()=>[k("div",Kp,[l.isUp?(x(),m(U,{key:0,name:"ri:arrow-up-long-fill",class:"color-#12B886"})):(x(),m(U,{key:1,name:"ri:arrow-down-long-fill",class:"color-#F6465D"})),k("span",Xp,_(l.isUp?e.$t("rise"):e.$t("fall")),1)])]),suffix:b(()=>[...t[2]||(t[2]=[k("span",{class:"color-[--third-text]"},"%",-1)])]),_:2},1032,["modelValue","onUpdate:modelValue"]),S(H,{modelValue:l.sellRatio,"onUpdate:modelValue":[e=>l.sellRatio=e,P],class:"input-number-limit",min:1,max:100,controls:!1,placeholder:"--"},{prefix:b(()=>[k("span",Zp,_(e.$t("sell")),1)]),suffix:b(()=>[...t[3]||(t[3]=[k("span",{class:"color-[--third-text]"},"%",-1)])]),_:1},8,["modelValue","onUpdate:modelValue"]),S(U,{class:"text-16px ml-5px clickable color-[--third-text]",name:"bx:bxs-trash-alt",onClick:L(e=>function(e){A.value=A.value.filter((l,a)=>a!==e)}(a),["stop"])},null,8,["onClick"])]))),128)),k("li",Jp,[k("button",{class:"flex-1 h-24px flex items-center justify-center clickable bg-#12B8861A color-#12B886 border-none rd-4px disabled:op-50 disabled:cursor-not-allowed",disabled:(null==(u=h(A))?void 0:u.length)>=5,onClick:L(D,["stop"])},_(e.$t("addTakeProfit")),9,em),k("button",{class:"flex-1 h-24px flex items-center justify-center clickable bg-#F6465D1A color-#F6465D border-none rd-4px disabled:op-50 disabled:cursor-not-allowed",disabled:(null==(d=h(A))?void 0:d.length)>=5,onClick:L(M,["stop"])},_(e.$t("addStopLoss")),9,lm)])],512),[[ue,h(a).autoSellConfigs.isAutoSellConfig]])],512)),[[ue,null==(c=h(l).userInfo)?void 0:c.evmAddress]])}}}),tm=M(am,[["__scopeId","data-v-8b865645"]]),nm={class:"mt-10px flex items-center text-11px color-[--secondary-text]"},om={class:"color-[--third-text] mr-4px cursor-pointer"},sm={key:1},im={key:2},rm={class:"mr-4px ml-auto color-[--third-text]"},um=o({__name:"bottomSetting",props:{gasPrice:{type:Number,default:0},activeTab:{type:String,default:"buy"},swapType:{type:String,default:"market"}},setup(e){const l=e,a=ll(),{botSettings:t}=q(a),n=ol(),o=z(),{t:u}=s(),d=i(),v=j(),b=c(()=>v.token),C=c(()=>{var e;const l=r(d.params.id);return(null==l?void 0:l.chain)||(null==(e=b.value)?void 0:e.chain)});function A(){var e;const l=r(d.params.id);return(null==l?void 0:l.chain)||(null==(e=b.value)?void 0:e.chain)||""}const N=c(()=>{const e=A(),{gasTip1List:l}=sl(null==n?void 0:n.gasTip,e);return(null==l?void 0:l.length)>1});function $(){var e,t,n,s,i,r,d,c;const v=(null==(n=null==(t=null==(e=a.botSettings)?void 0:e.solana)?void 0:t[l.activeTab])?void 0:n.selected)||(null==(i=null==(s=a.botSettings)?void 0:s.solana)?void 0:i.selected)||"s1",p=null==(c=null==(d=null==(r=a.botSettings)?void 0:r.solana)?void 0:d[l.activeTab])?void 0:c[v];return(null==p?void 0:p.mev)||o.bundleAvailable?Promise.resolve(!0):(ne({type:"warning",message:u("mevPending")}),Promise.resolve(!1))}function I(){var e,t,s,i,r,u,d,c,p,m,f,h,x,b,k,g,_;const y=A();if(Qe(y)&&(null==(e=null==o?void 0:o.isSupportChains)?void 0:e.includes(y))){const e=(null==(i=null==(s=null==(t=a.botSettings)?void 0:t[y])?void 0:s[l.activeTab])?void 0:i.selected)||(null==(u=null==(r=a.botSettings)?void 0:r[y])?void 0:u.selected)||"s1",o=null==(p=null==(c=null==(d=a.botSettings)?void 0:d[y])?void 0:c[l.activeTab])?void 0:p[e],w=null==o?void 0:o.mev,T=(null==(f=null==(m=n.mainTokensPrice)?void 0:m.find(e=>{var l;return e.chain===y&&e.token===(null==(l=Ye(y))?void 0:l.wmain_wrapper)}))?void 0:f.current_price_usd)||0,C=(null==(x=il)?void 0:x.includes((null==(h=v.swap.payToken)?void 0:h.address)||""))?T:(null==(b=v.swap.payToken)?void 0:b.price)||0,{gasTip1List:A,gasTip2List:S}=sl(n.gasTip,y),N=w?A:S,$=w?null==o?void 0:o.gas[0]:null==o?void 0:o.gas[1],I=(null==$?void 0:$.customFee)||(null==N?void 0:N[null==$?void 0:$.level])||"3",F=(null==(_=null==(g=null==(k=n.gasTip)?void 0:k.find)?void 0:g.call(k,e=>e.chain===y&&e.mev===!!w))?void 0:_.gasLimit)||2e5;return Q(new Ae(l.gasPrice).plus(new Ae(I).times(String(10**9))).times(F).times(C).div(String(10**18)).toFixed(),2)}return 0}const F=c(()=>{var e,t,s,i,r,u,d,c;const v=A();if(!o.isSupportChains.includes(v))return"";const p=(null==(s=null==(t=null==(e=a.botSettings)?void 0:e[v])?void 0:t[l.activeTab])?void 0:s.selected)||(null==(r=null==(i=a.botSettings)?void 0:i[v])?void 0:r.selected)||"s1",m=null==(c=null==(d=null==(u=a.botSettings)?void 0:u[v])?void 0:d[l.activeTab])?void 0:c[p],f=null==m?void 0:m.mev,{gasTip1List:h,gasTip2List:x}=sl(n.gasTip,v),b=f?h:x,k=f?0:1,g=null==m?void 0:m.gas[k];return(null==g?void 0:g.customFee)||(null==b?void 0:b[null==g?void 0:g.level])}),L=c(()=>{var e,t,n,s,i;const r=A();return o.isSupportChains.includes(r)?(null==(n=null==(t=null==(e=a.botSettings)?void 0:e[r])?void 0:t[l.activeTab])?void 0:n.selected)||(null==(i=null==(s=a.botSettings)?void 0:s[r])?void 0:i.selected)||"s1":""});return(l,n)=>{var o,s,i,r,u,d,c,v,b,A,V;const B=io,D=y,M=p("tooltip");return x(),w("div",nm,[h(t)[h(C)||""]&&h(N)?(x(),w(T,{key:0},[k("span",om,_(l.$t("mev")),1),"solana"===h(C)?(x(),m(B,{key:0,modelValue:h(t).solana[e.activeTab][h(L)].mev,"onUpdate:modelValue":n[0]||(n[0]=l=>h(t).solana[e.activeTab][h(L)].mev=l),class:"mr-auto",style:{"--el-switch-on-color":"#3c6cf6",zoom:"0.9",height:"14px"},size:"small","before-change":$},null,8,["modelValue"])):("isEvmChain"in l?l.isEvmChain:h(Qe))(h(C)||"")?(x(),m(B,{key:1,modelValue:h(t)[h(C)][e.activeTab][h(L)].mev,"onUpdate:modelValue":n[1]||(n[1]=l=>h(t)[h(C)][e.activeTab][h(L)].mev=l),class:"mr-auto",style:{"--el-switch-on-color":"#3c6cf6",zoom:"0.9",height:"14px"},size:"small"},null,8,["modelValue"])):f("",!0)],64)):f("",!0),g(S(D,{name:"custom:slippage",class:"text-12px color-[--third-text] mr-4px cursor-pointer"},null,512),[[M,l.$t("slippage")]]),"auto"!==(null==(r=null==(i=null==(s=null==(o=h(t))?void 0:o[h(C)||""])?void 0:s[e.activeTab])?void 0:i[h(L)])?void 0:r.slippage)?(x(),w("span",sm,_(null==(v=null==(c=null==(d=null==(u=h(t))?void 0:u[h(C)||""])?void 0:d[e.activeTab])?void 0:c[h(L)])?void 0:v.slippage)+"%",1)):(x(),w("span",im,_(l.$t("auto")),1)),("isEvmChain"in l?l.isEvmChain:h(Qe))(h(C)||"")&&e.gasPrice?(x(),w(T,{key:3},[g(S(D,{name:"custom:gas",class:"text-12px color-[--third-text] ml-auto mr-4px cursor-pointer"},null,512),[[M,l.$t("estimatedGas")]]),k("span",null,"$"+_(I()),1)],64)):f("",!0),"solana"===h(C)?(x(),w(T,{key:4},[g(S(D,{name:"custom:gas",class:"text-12px color-[--third-text] ml-auto mr-4px cursor-pointer"},null,512),[[M,l.$t("priorityFee")]]),k("span",null,_(h(F))+" SOL",1)],64)):f("",!0),"ton"!==h(C)&&"buy"===e.activeTab&&"market"===e.swapType&&((null==(b=h(t))?void 0:b[h(C)||""])||(null==(V=null==(A=h(t))?void 0:A[h(C)||""])?void 0:V[e.activeTab]))?(x(),w(T,{key:5},[k("span",rm,_(l.$t("autoSellHalf")),1),S(B,{modelValue:h(a).autoSellConfigs.autoSell,"onUpdate:modelValue":n[2]||(n[2]=e=>h(a).autoSellConfigs.autoSell=e),size:"small",style:{"--el-switch-on-color":"#3c6cf6",zoom:"0.9",height:"14px"}},null,8,["modelValue"])],64)):f("",!0),al(l.$slots,"default")])}}}),dm={class:"text-12px color-[--secondary-text]"},cm={class:"inline-flex items-center clickable"},vm=["src"],pm=["src"],mm={class:"text-12px font-400"},fm={class:"tabs mt-1px"},hm=["onClick"],xm={key:0},bm={class:"flex items-center mt-10px text-12px"},km={class:"color-[--third-text]"},gm={class:"text-12px color-[--secondary-text]"},_m={class:"text-12px color-[--secondary-text]"},ym={class:"text-12px color-[--main-text]"},wm={class:"tabs mt-1px"},Tm=["onClick"],Cm={class:"flex items-center mt-10px text-12px"},Am={class:"color-[--main-text] flex items-center"},Sm={class:"inline-flex items-center clickable text-12px ml-4px"},Nm=["src"],$m={class:"text-12px font-400"},Im={class:"text-12px color-[--secondary-text]"},Fm={class:"slider-swap_left"},Lm={class:"slider-swap_left-mark"},Vm=["onClick"],Bm={key:2,class:"flex items-center gap-4px"},Dm=["src"],Mm={key:4,class:"connect-wallet-btn"},Pm={key:5,class:"text-14px color-[--secondary-text] text-center mt-16px bg-[--icon-color] lh-40px rounded-6px"},Em=o({__name:"swap",props:{activeTab:{},swapType:{},tabs1:{},tabs2:{}},emits:["getTokenBalance","update:botSettings"],setup(e,{emit:l}){const a=e=>{return l={...e,duration:2500},go.push({options:l,enqueueTime:Date.now()}),void(_o||wo());var l},t=e,n=R(t.tabs1),o=R(t.tabs2),v=l,{t:p}=s(),{executing:g}=cl(),A=R(!1),N=R(""),$=R(""),F=R(""),B=R(""),D=R(""),M=R(!1),P=R(!1),E=R(!1),O=ul({routerPath:[],fromAmount:"",toAmount:"",fromToken:{},toToken:{},from_price:0,to_price:0}),H=R(!0),W=R(""),G=R(void 0),Y=c(()=>Number(G.value)>100?100:Number(G.value)||void 0);d(G,e=>{"limit"===t.swapType&&(Number.isNaN(Number(e))||(W.value=rl(new Ae(ae.price||0).times(H.value?1:ae.circulation).times(1+(Number(e)||0)/100).toFixed(),4)))});let K=!1,X=!1;const Z=ve("priceLimit_move").on(e=>{"limit"!==t.swapType||X||Number.isNaN(Number(e))||(K=!0,G.value=Number(new Ae(e||0).minus(ae.price||0).div(ae.price||0).times(100).toFixed(0)),U(()=>{K=!1}))});d(W,()=>{"limit"===t.swapType&&(Me(t.activeTab),ee())}),d(()=>t.swapType,e=>{"limit"!==e?ve("priceLimit").emit(0):(nl(),ee())}),d(H,e=>{"limit"===t.swapType&&(Number.isNaN(Number(W.value))||(W.value=rl(e?new Ae(W.value||0).div(ae.circulation||1).toFixed():new Ae(W.value||0).times(ae.circulation).toFixed(),4)))}),d(()=>t.tabs1,e=>{n.value=e}),d(()=>t.tabs2,e=>{o.value=e});const J=ve("klineDataReady").on(()=>{"limit"===t.swapType&&ee()});function ee(){K||(X=!0,H.value?ve("priceLimit").emit(Number(W.value)):ve("priceLimit").emit(Number(rl(new Ae(W.value).div(ae.circulation||1).toFixed(),4))),U(()=>{X=!1}))}re(()=>{Z&&Z(),J&&J()});const le=i(),ae=j(),te=z(),ne=ol(),oe=ll(),se=je(),ie=de(),{gasPrice:ue}=q(ae),{getTokensPrice:ce,getAllowance:pe,loadingAllowance:me,bot_approve:fe,updateBalanceFromWs:he}=jp(),xe=c(()=>ae.token),be=c(()=>{var e;const l=r(le.params.id);return(null==l?void 0:l.chain)||(null==(e=xe.value)?void 0:e.chain)}),ge=c(()=>{var e,l,a,t,n;const o=r(le.params.id),s=(null==o?void 0:o.chain)||(null==(e=xe.value)?void 0:e.chain);return null==(n=null==(t=null==(a=null==(l=null==te?void 0:te.userInfo)?void 0:l.addresses)?void 0:a.find)?void 0:t.call(a,e=>(null==e?void 0:e.chain)===s))?void 0:n.address}),ye=c(()=>"buy"===t.activeTab?ae.swap.payToken:ae.swap.token),we=c(()=>"buy"===t.activeTab?$.value:N.value),Te=c(()=>"buy"===t.activeTab?B.value:F.value);function Ce(e,l){var a;return null==(a=null==l?void 0:l.find)?void 0:a.call(l,l=>(null==l?void 0:l.chain)===e)}function Se(e,l,a){var t,n,o,s,i;return(null==(t=il)?void 0:t.includes(a||""))||!a?(null==(n=Ce(e,l))?void 0:n.balance)||0:(null==(i=null==(s=null==(o=Ce(e,l))?void 0:o.tokenBalances)?void 0:s[a])?void 0:i.balance)||0}const Ne=c(()=>{var e,l;return null==(l=(null==(e=null==ne?void 0:ne.botSwapBaseTokens)?void 0:e[be.value||""])||[])?void 0:l.filter(e=>{var l;return(null==e?void 0:e.address)!==(null==(l=ae.swap.payToken)?void 0:l.address)})}),$e=c(()=>{var e,l;const a=Re(),t=[...ne.botSwapSelectedWallets,te.evmAddress||""],n=Array.from(new Set(null==t?void 0:t.filter(Boolean)));let o="0";const s=null==(e=ae.swap)?void 0:e.token;return null==(l=te.walletList)||l.forEach(e=>{n.includes(e.evmAddress)&&(o=new Ae(o).plus(Se(a,null==e?void 0:e.addresses,null==s?void 0:s.address)||0).toFixed())}),o}),Ie=c(()=>We.value?"buy"===t.activeTab?"#12B886":"sell"===t.activeTab?"#F6465D":"#3F80F7":"#999"),Fe=c(()=>!0),Le=c(()=>Q($.value,{limit:20})),Ve=c(()=>{var e;if(!$.value)return"0";const l=new Ae($.value).times((null==(e=ae.swap.payToken)?void 0:e.price)||"0");return Q(l.toString())}),Be=c(()=>{var e,l,a,t,n,o;return"USDC"===(null==(a=null==(l=null==(e=ae.swap.payToken)?void 0:e.symbol)?void 0:l.toUpperCase)?void 0:a.call(l))||"USDT"===(null==(o=null==(n=null==(t=ae.swap.payToken)?void 0:t.symbol)?void 0:n.toUpperCase)?void 0:o.call(n))});function De(e,l){var a,t,n,o;if(!Tl.value){if("buy"===l)$.value=e.value;else if("sell"===l){const l=e.value;let s=(null==(a=ae.swap.token)?void 0:a.balance)||0;if((null==(t=ne.botSwapSelectedWallets)?void 0:t.length)>1&&(D.value=new Ae(l).times(100).toFixed(0),s=$e.value),l){const e=(null==(n=ae.swap.payToken)?void 0:n.decimals)||0;s=(null==(o=new Ae(s).times(l).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${e}})?`)))?void 0:o[0])||0,0===Number(s)&&(s="")}else s="";N.value=String(Number(s)<0?0:s)}Pe(l)}}const Me=ze(e=>{Pe(e)},10);function Pe(e,l=!0){var a,t,n;(null==(a=ne.botSwapSelectedWallets)?void 0:a.length)>1&&"sell"===e&&function(){var e,l,a,t;const n=D.value;let o=(null==(e=ae.swap.token)?void 0:e.balance)||0;if((null==(l=ne.botSwapSelectedWallets)?void 0:l.length)>1&&(o=$e.value),n){const e=(null==(a=ae.swap.payToken)?void 0:a.decimals)||0;o=(null==(t=new Ae(o).times(n).div(100).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${e}})?`)))?void 0:t[0])||0,0===Number(o)&&(o="")}else o="";N.value=String(Number(o)<0?0:o)}();let o=N.value;"buy"===e&&(o=$.value);const s=Number(o);"buy"===e?""===o||"."===o?(M.value=!1,B.value=""):0===s&&0!==Number(B.value)?(B.value="0",M.value=!1):s&&(B.value="",Ee((null==(t=xe.value)?void 0:t.chain)||"","buy",l)):"sell"===e&&(""===o||"."===o?(M.value=!1,F.value=""):0===s&&0!==Number(F.value)?(F.value="0",M.value=!1):s&&(F.value="",Ee((null==(n=xe.value)?void 0:n.chain)||"","sell",l)))}async function Ee(e,l=t.activeTab,a=!0){var n,o,s,i,r;const u="buy"===l,d=u?$.value:N.value;M.value=!0,a&&await new Promise((e,l)=>{ae.swap.payToken.price&&ae.swap.token.price&&e([{current_price_usd:ae.swap.token.price},{current_price_usd:ae.swap.payToken.price}]),Ue(e,l)});const c=(null==(o=null==(n=ne.mainTokensPrice)?void 0:n.find(l=>{var a;return l.chain===e&&l.token===(null==(a=Ye(e))?void 0:a.wmain_wrapper)}))?void 0:o.current_price_usd)||ae.swap.payToken.price||ae.swap.native.price||0,v=ae.swap.payToken,p=((null==(s=il)?void 0:s.includes((null==v?void 0:v.address)||""))?c:ae.swap.payToken.price)||0;let m=ae.price||(null==(i=ae.swap.token)?void 0:i.price)||0;if("limit"===t.swapType){const e=H.value?W.value:new Ae(W.value).div(ae.circulation||1).toFixed();m=Number(rl(e||ae.price||(null==(r=ae.swap.token)?void 0:r.price)||0,4))}const f=u?p:m,h=u?m:p,x=Number(d)*(f||0)/(h||1);if(x){"buy"===l?B.value=String(x)||"0":F.value=String(x)||"0";const e="buy"===l?ae.swap.payToken:ae.swap.token,a="buy"===l?ae.swap.token:ae.swap.payToken,t="buy"===l?$.value:N.value,n="buy"===l?B.value:F.value;return O.fromAmount=t,O.toAmount=n,O.fromToken={...e,amount:t||""},O.toToken={...a,amount:n||""},O.from_price=f||0,O.to_price=h||0,void(M.value=!1)}}const Ue=ze(function(e,l){ce().then(e,l)},500);function Re(){var e;const l=r(le.params.id);return(null==l?void 0:l.chain)||(null==(e=xe.value)?void 0:e.chain)||""}function Oe(){var e;return te.evmAddress||(null==(e=ne.botSwapSelectedWallets)?void 0:e[0])||""}function He(e,l,a){return!(!e||!l)&&(a&&Qe(a)?e.toLowerCase()===l.toLowerCase():e===l)}const We=c(()=>{var e,l;const a=Re();return te.accessToken&&(null==(l=null==(e=null==te?void 0:te.isSupportChains)?void 0:e.includes)?void 0:l.call(e,a))}),qe=c(()=>"buy"===t.activeTab),Ke=async()=>{var e;E.value=!0,fe({batchId:Date.now().toString(),chain:be.value||"",inTokenAddress:(null==(e=ye.value)?void 0:e.address)||"",outTokenAddress:(qe.value?ae.swap.token.address:ae.swap.payToken.address)||"",creatorAddress:[ge.value||""]}).then(e=>{if(e){let l=setTimeout(()=>{a({type:"success",message:p("approveSubmitted")})},500);e.wait().then(()=>{l&&(clearTimeout(l),l=null),a({type:"success",message:p("approveSuccess")}),setTimeout(()=>{(()=>{var e;const l=qe.value?ae.swap.token:ae.swap.payToken;pe((null==(e=ye.value)?void 0:e.address)||"",(null==l?void 0:l.address)||"")})()},1e3),E.value=!1})}}).catch(e=>{dl(e||"approve error",a),E.value=!1})};function Xe(){var e,l,a;const n=(null==(e=ye.value)?void 0:e.balance)||0,o=ne.botSwapSelectedWallets.length>1&&"sell"===t.activeTab;return!(Number(n)<Number(we.value)&&!o||o&&Number(D.value||0)>100||"0"===String(we.value)||(null==(l=ae.swap.token)?void 0:l.address)===(null==(a=ae.swap.payToken)?void 0:a.address)||new Ae(we.value||0).lte(0)||new Ae(W.value||0).lte(0)&&"limit"===t.swapType)}function Ze(){var e;if(!Fe.value||me.value)return p("checkingAllowance");if(M.value)return p("quoting");if(E.value)return p("approve");const l=(null==(e=ye.value)?void 0:e.balance)||0;if(ne.botSwapSelectedWallets.length>1&&"sell"===t.activeTab){if(Number(D.value||0)>100)return p("insufficientBalance")}else{if(Number(l)<Number(we.value))return p("insufficientBalance");if("0"===String(we.value))return p("AmountCannotBeZero")}}async function Je(){var e,l,n,o,s,i,r,u,c,v,m,f,h,x,b,k,_,y,w,T,C,A,S;if(new Ae(we.value||0).lte(0))return void a({title:"Error",type:"error",message:p("amountMustG0")});const I=null==(l=new Ae(we.value||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${(null==(e=ye.value)?void 0:e.decimals)||18}})?`)))?void 0:l[0];if((Number(I)||0)<=0)return void a({title:"Error",type:"error",message:p("amountTooSmall")});if("limit"===t.swapType)return void function(){var e,l,n,o,s,i,r,u,c,v,m,f,h,x,b,k,g,_,y,w,T,C,A,S,I,L,V,M,E,U,R,O,j,z,q;if(new Ae(we.value||0).lte(0))return void a({title:"Error",type:"error",message:p("amountMustG0")});const G=null==(l=new Ae(we.value||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${(null==(e=ye.value)?void 0:e.decimals)||18}})?`)))?void 0:l[0];if((Number(G)||0)<=0)return void a({title:"Error",type:"error",message:p("amountTooSmall")});P.value=!0;const Y="buy"===t.activeTab,Q=Re(),K={solana:"sol",ton:"TON"},X=(null==(n=ae.swap.payToken)?void 0:n.address)||(null==K?void 0:K[Q])||Ge,Z=(null==(r=null==(i=null==(s=null==(o=te.userInfo)?void 0:o.addresses)?void 0:s.find)?void 0:i.call(s,e=>(null==e?void 0:e.chain)===Q))?void 0:r.address)||"",J=ne.botSwapSelectedWallets.length>1&&"sell"===t.activeTab;if("solana"===Q||"ton"===Q){const e=(null==(v=null==(c=null==(u=null==oe?void 0:oe.botSettings)?void 0:u[Q])?void 0:c[t.activeTab])?void 0:v.selected)||(null==(f=null==(m=oe.botSettings)?void 0:m[Q])?void 0:f.selected)||"s1",l=null==(x=null==(h=oe.botSettings)?void 0:h[Q])?void 0:x[e],n=null==l?void 0:l.mev,{gasTip1List:o,gasTip2List:s}=sl(ne.gasTip,Q),i=n?o:s,r=n?null==l?void 0:l.gas[0]:null==l?void 0:l.gas[1];let I=(null==r?void 0:r.customFee)||(null==i?void 0:i[null==r?void 0:r.level])||"0.002";n&&new Ae(I).lt("0.002")&&(I="0.002");const L=new Ae(I).times(10**9).toFixed(0),V=H.value?W.value:rl(new Ae(W.value||0).div(ae.circulation||1).toFixed(),4),M=Y?ae.swap.payToken:ae.swap.token,E=(null==(y=null==(_=null==(b=oe.botSettings)?void 0:b[Q])?void 0:_[null==(g=null==(k=oe.botSettings)?void 0:k[Q])?void 0:g.selected])?void 0:y.slippage)||9,U=Date.now().toString(),R={swapList:(null==(C=null==(T=null==(w=(null==ne?void 0:ne.botSwapSelectedWallets)||[])?void 0:w.map((e,l)=>{var a,t,n,o,s,i,r,u,d;const c=null==(i=null==(s=null==(o=null==(n=null==(t=null==(a=te.walletList)?void 0:a.find)?void 0:t.call(a,l=>l.evmAddress===e))?void 0:n.addresses)?void 0:o.find)?void 0:s.call(o,e=>(null==e?void 0:e.chain)===Q))?void 0:i.address,v=(null==(d=null==(u=null==(r=te.walletList)?void 0:r.find)?void 0:u.call(r,l=>l.evmAddress===e))?void 0:d.addresses)||[],p=Se(Q,v,Y?X:(null==M?void 0:M.address)||"")||0,m=J?new Ae(p||0).times(D.value||0).div(100).times(10**((null==M?void 0:M.decimals)||0)).toFixed(0):new Ae(G||0).times(10**((null==M?void 0:M.decimals)||0)).toFixed(0);return{batchId:U+String(l),creatorAddress:c||"",inAmount:m}}))?void 0:T.filter)?void 0:C.call(T,e=>Number(null==e?void 0:e.inAmount)>0&&(null==e?void 0:e.creatorAddress)))||[],tokenAddress:(null==(A=ae.swap.token)?void 0:A.address)||(null==(S=ae.token)?void 0:S.token)||"",baseTokenAddress:X,swapType:Y?5:6,isPrivate:n||!1,priceLimit:V,autoGas:(null==r?void 0:r.customFee)?0:((null==r?void 0:r.level)||0)+1,priorityFee:L,slippage:"auto"!==E?Number(new Ae(E).times(100).toFixed(0)):900,autoSlippage:"auto"===E};({solana:gl,ton:kl})[Q](R).then(e=>{var l,t;if(e){const n=null==(l=null==e?void 0:e.every)?void 0:l.call(e,e=>null==e?void 0:e.errorLog);null==(t=null==e?void 0:e.forEach)||t.call(e,e=>{var l,t,o;const s=(null==(o=null==(t=null==(l=te.walletList)?void 0:l.find)?void 0:t.call(l,l=>{var a,t,n;return(null==(n=null==(t=null==(a=null==l?void 0:l.addresses)?void 0:a.find)?void 0:t.call(a,e=>(null==e?void 0:e.chain)===Q))?void 0:n.address)===(null==e?void 0:e.creatorAddress)}))?void 0:o.name)||"";let i=setTimeout(()=>{var l;ae.placeOrderUpdate++,(null==(l=null==e?void 0:e.creatorAddress)?void 0:l.toLowerCase())===Z&&(W.value=""),a({type:"success",message:s+" "+p("limitSubmitted")}),P.value=!1,N.value="",D.value="",$.value="",F.value="",B.value=""},500);if((null==e?void 0:e.errorLog)&&(i&&(clearTimeout(i),i=null),dl(s+" "+(null==e?void 0:e.errorLog),a),n))return void(P.value=!1);const r={solana:"/botapi/swap/createSolLimitTx",ton:"/botapi/swap/createTonLimitSwap"};to({txInfo:e,chain:Q,destination:(null==r?void 0:r[Q])||"/botapi/swap/createEvmLimitTx",type:20});const u=d(()=>null==se?void 0:se.wsResult.tgbot,l=>{var t;const n=l.batchId,o=null==(t=null==l?void 0:l.txList)?void 0:t[0];if((null==n?void 0:n.includes(U))&&e.creatorAddress===(null==o?void 0:o.walletAddress)){if(i&&(clearTimeout(i),i=null),ae.placeOrderSuccess++,null==o?void 0:o.success)a({type:"success",message:(null==o?void 0:o.walletName)+" "+p("tradeSuccess")}),no({...o,chain:null==l?void 0:l.chain},(null==e?void 0:e.id)||""),isPromptTx&&finishPromptSuccess(o);else{const e=fl(null==o?void 0:o.failMessage)||"swap error";dl((null==o?void 0:o.walletName)+" "+e,a),isPromptTx&&finishPromptFail()}u(),P.value=!1}})})}}).catch(e=>{dl(e||"swap error",a),finishPromptFail(),P.value=!1})}else if(Qe(Q)){const e=(null==(V=null==(L=null==(I=null==oe?void 0:oe.botSettings)?void 0:I[Q])?void 0:L[t.activeTab])?void 0:V.selected)||(null==(E=null==(M=oe.botSettings)?void 0:M[Q])?void 0:E.selected)||"s1",l=null==(O=null==(R=null==(U=oe.botSettings)?void 0:U[Q])?void 0:R[t.activeTab])?void 0:O[e],n=null==l?void 0:l.mev,o=(null==l?void 0:l.slippage)||9,{gasTip1List:s,gasTip2List:i}=sl(ne.gasTip,Q),r=n?s:i,u=n?null==l?void 0:l.gas[0]:null==l?void 0:l.gas[1],c=(null==u?void 0:u.customFee)||(null==r?void 0:r[null==u?void 0:u.level])||"3",v=Number(new Ae(c).times(10**9).toFixed(0)),m=Y?ae.swap.payToken:ae.swap.token,f=Y?ae.swap.token:ae.swap.payToken,h=H.value?W.value:rl(new Ae(W.value||0).div(ae.circulation||1).toFixed(),4),x=Date.now().toString(),b=(null==(q=null==(z=null==(j=(null==ne?void 0:ne.botSwapSelectedWallets)||[])?void 0:j.map((e,l)=>{var a,t,n,o,s,i,r,u,d;const c=null==(i=null==(s=null==(o=null==(n=null==(t=null==(a=te.walletList)?void 0:a.find)?void 0:t.call(a,l=>l.evmAddress===e))?void 0:n.addresses)?void 0:o.find)?void 0:s.call(o,e=>(null==e?void 0:e.chain)===Q))?void 0:i.address,v=(null==(d=null==(u=null==(r=te.walletList)?void 0:r.find)?void 0:u.call(r,l=>l.evmAddress===e))?void 0:d.addresses)||[],p=Se(Q,v,Y?X:(null==m?void 0:m.address)||"")||0,f=J?new Ae(p||0).times(D.value||0).div(100).times(10**((null==m?void 0:m.decimals)||0)).toFixed(0):new Ae(G||0).times(10**((null==m?void 0:m.decimals)||0)).toFixed(0);return{batchId:x+String(l),creatorAddress:c||"",inAmount:f}}))?void 0:z.filter)?void 0:q.call(z,e=>Number(null==e?void 0:e.inAmount)>0&&(null==e?void 0:e.creatorAddress)))||[],k={chain:Q,swapList:b,inTokenAddress:Y?X:(null==m?void 0:m.address)||"",outTokenAddress:Y?(null==f?void 0:f.address)||"":X,swapType:Y?5:6,swapPrice:h,contractType:0,isPrivate:n||!1,gasTip:v,slippage:"auto"!==o?Number(new Ae(o).times(100).toFixed(0)):900,autoSlippage:"auto"===o};_l(k).then(e=>{var l,t;if(e){const n=null==(l=null==e?void 0:e.every)?void 0:l.call(e,e=>xl(e));null==(t=null==e?void 0:e.forEach)||t.call(e,e=>{var l,t,o;const s=(null==(o=null==(t=null==(l=te.walletList)?void 0:l.find)?void 0:t.call(l,l=>{var a,t,n,o,s;return(null==(n=null==(t=null==(a=null==l?void 0:l.addresses)?void 0:a.find)?void 0:t.call(a,e=>(null==e?void 0:e.chain)===Q))?void 0:n.address)===(null==(s=null==(o=null==e?void 0:e.creatorAddress)?void 0:o.toLowerCase)?void 0:s.call(o))}))?void 0:o.name)||"";let i=setTimeout(()=>{var l;ae.placeOrderUpdate++,(null==(l=null==e?void 0:e.creatorAddress)?void 0:l.toLowerCase())===Z&&(W.value=""),a({type:"success",message:s+" "+p("limitSubmitted")}),P.value=!1,N.value="",D.value="",$.value="",F.value="",B.value=""},500);if(xl(e)&&(i&&(clearTimeout(i),i=null),dl(s+" "+bl(e),a),n))return void(P.value=!1);to({txInfo:e,chain:Q,destination:"/botapi/swap/createEvmLimitTx",type:20});const r=d(()=>null==se?void 0:se.wsResult.tgbot,l=>{var t;const n=l.batchId,o=null==(t=null==l?void 0:l.txList)?void 0:t[0];if((null==n?void 0:n.includes(x))&&e.creatorAddress===(null==o?void 0:o.walletAddress)){if(i&&(clearTimeout(i),i=null),ae.placeOrderSuccess++,null==o?void 0:o.success)a({type:"success",message:(null==o?void 0:o.walletName)+" "+p("tradeSuccess")}),no({...o,chain:null==l?void 0:l.chain},(null==e?void 0:e.id)||"");else{const e=fl(null==o?void 0:o.failMessage)||"swap error";dl((null==o?void 0:o.walletName)+" "+e,a)}r(),P.value=!1}})})}}).catch(e=>{dl(e||"swap error",a),P.value=!1})}}();P.value=!0;const L="buy"===t.activeTab,V=Re(),M=function(e){var l,a,t,n,o,s,i,r,u;const d=Oe(),c=null==(a=null==(l=te.walletList)?void 0:l.find)?void 0:a.call(l,e=>e.evmAddress===d);return(null==(o=null==(n=null==(t=null==c?void 0:c.addresses)?void 0:t.find)?void 0:n.call(t,l=>(null==l?void 0:l.chain)===e))?void 0:o.address)||(null==(u=null==(r=null==(i=null==(s=te.userInfo)?void 0:s.addresses)?void 0:i.find)?void 0:r.call(i,l=>(null==l?void 0:l.chain)===e))?void 0:u.address)||""}(V),E=M||Oe(),U=L?ae.swap.payToken:ae.swap.token,R=L?ae.swap.token:ae.swap.payToken;let O=0,j=null,z=null,q=!1;const G=()=>{j&&(clearInterval(j),j=null)},Y=()=>{z&&(clearTimeout(z),z=null)};O=Date.now();const Q=g({avatarAddress:E,avatarChain:V}),K=()=>{q||(q=!0,G(),Y(),Q.close())},X=e=>{if(q)return;q=!0,G(),Y();const l=(Date.now()-O)/1e3,a=(null==e?void 0:e.fromAmount)?wl(e.fromAmount,(null==U?void 0:U.decimals)||0):we.value,t=(null==e?void 0:e.outputAmount)?wl(e.outputAmount,(null==R?void 0:R.decimals)||0):Te.value;Q.success({chain:V,txHash:(null==e?void 0:e.txHash)||(null==e?void 0:e.hash)||"",elapsedSec:l,isBuy:L,fromSymbol:(null==U?void 0:U.symbol)||"",fromAmount:a,toSymbol:(null==R?void 0:R.symbol)||"",toAmount:t,avatarAddress:E,avatarChain:V})};j=vl(()=>{Q.update(Date.now()-O)},100),z=setTimeout(()=>{q||(G(),Q.close(),z=null)},12e4);const Z={solana:"sol",ton:"TON"},J=(null==(n=ae.swap.payToken)?void 0:n.address)||(null==Z?void 0:Z[V])||Ge,ee=ne.botSwapSelectedWallets.length>1&&"sell"===t.activeTab;if("solana"===V||"ton"===V){const e=(null==(i=null==(s=null==(o=null==oe?void 0:oe.botSettings)?void 0:o[V])?void 0:s[t.activeTab])?void 0:i.selected)||(null==(u=null==(r=null==oe?void 0:oe.botSettings)?void 0:r[V])?void 0:u.selected)||"s1",l=null==(m=null==(v=null==(c=oe.botSettings)?void 0:c[V])?void 0:v[t.activeTab])?void 0:m[e],n=null==l?void 0:l.mev,{gasTip1List:p,gasTip2List:b}=sl(ne.gasTip,V),k=n?p:b,g=n?null==l?void 0:l.gas[0]:null==l?void 0:l.gas[1];let _=(null==g?void 0:g.customFee)||(null==k?void 0:k[null==g?void 0:g.level])||"0.002";n&&new Ae(_).lt("0.002")&&(_="0.002");const y=new Ae(_).times(10**9).toFixed(0),w=L?ae.swap.payToken:ae.swap.token,T=L?ae.swap.token:ae.swap.payToken,C=(null==l?void 0:l.slippage)||9,A=Date.now().toString(),S={swapList:(null==(x=null==(h=null==(f=(null==ne?void 0:ne.botSwapSelectedWallets)||[])?void 0:f.map((e,l)=>{var a,t,n,o,s,i,r,u,d;const c=null==(i=null==(s=null==(o=null==(n=null==(t=null==(a=te.walletList)?void 0:a.find)?void 0:t.call(a,l=>l.evmAddress===e))?void 0:n.addresses)?void 0:o.find)?void 0:s.call(o,e=>(null==e?void 0:e.chain)===V))?void 0:i.address,v=(null==(d=null==(u=null==(r=te.walletList)?void 0:r.find)?void 0:u.call(r,l=>l.evmAddress===e))?void 0:d.addresses)||[],p=Se(V,v,L?J:(null==w?void 0:w.address)||"")||0,m=ee?new Ae(p||0).times(D.value||0).div(100).times(10**((null==w?void 0:w.decimals)||0)).toFixed(0):new Ae(I||0).times(10**((null==w?void 0:w.decimals)||0)).toFixed(0);return{batchId:A+String(l),creatorAddress:c||"",inAmount:m}}))?void 0:h.filter)?void 0:x.call(h,e=>Number(null==e?void 0:e.inAmount)>0&&(null==e?void 0:e.creatorAddress)))||[],inTokenAddress:L?J:(null==w?void 0:w.address)||"",outTokenAddress:L?(null==T?void 0:T.address)||"":J,swapType:L?1:2,isPrivate:n||!1,priorityFee:y,autoSell:L&&oe.autoSellConfig_autoSell||!1,slippage:"auto"!==C?Number(new Ae(C).times(100).toFixed(0)):900,autoSlippage:"auto"===C,autoSellConfig:L?null==oe?void 0:oe.selectedAutoSellConfig:[],autoGas:(null==g?void 0:g.customFee)?0:((null==g?void 0:g.level)||0)+1,autoSellGas:(null==g?void 0:g.customFee)?0:((null==g?void 0:g.level)||0)+1,autoSellPriorityFee:y};({solana:ml,ton:pl})[V](S).then(e=>{var l,t;if(e){const n=null==(l=null==e?void 0:e.every)?void 0:l.call(e,e=>null==e?void 0:e.errorLog);null==(t=null==e?void 0:e.forEach)||t.call(e,e=>{var l,t,o;const s=!M||He(null==e?void 0:e.creatorAddress,M,V),i=(null==(o=null==(t=null==(l=te.walletList)?void 0:l.find)?void 0:t.call(l,l=>{var a,t,n,o,s;return(null==(n=null==(t=null==(a=null==l?void 0:l.addresses)?void 0:a.find)?void 0:t.call(a,e=>(null==e?void 0:e.chain)===V))?void 0:n.address)===(null==(s=null==(o=null==e?void 0:e.creatorAddress)?void 0:o.toLowerCase)?void 0:s.call(o))}))?void 0:o.name)||"";let r=setTimeout(()=>{P.value=!1,N.value="",D.value="",$.value="",F.value="",B.value=""},500);if((null==e?void 0:e.errorLog)&&(r&&(clearTimeout(r),r=null),dl(i+" "+(null==e?void 0:e.errorLog),a),s&&K(),n))return void(P.value=!1);const u={solana:"/botapi/swap/createSolTx",ton:"/botapi/swap/createSwapTonTx"};to({txInfo:e,chain:V,destination:(null==u?void 0:u[V])||"/botapi/swap/createSwapEvmTx",type:10});const c=d(()=>null==se?void 0:se.wsResult.tgbot,l=>{var t;const n=l.batchId,o=null==(t=null==l?void 0:l.txList)?void 0:t[0];if((null==n?void 0:n.includes(A))&&He(e.creatorAddress,null==o?void 0:o.walletAddress,V)){if(r&&(clearTimeout(r),r=null),ae.placeOrderSuccess++,null==o?void 0:o.success)no({...o,chain:null==l?void 0:l.chain},(null==e?void 0:e.id)||""),s&&X(o);else{const e=fl(null==o?void 0:o.failMessage)||"swap error";dl((null==o?void 0:o.walletName)+" "+e,a),s&&K()}c(),P.value=!1}})})}else K(),P.value=!1}).catch(e=>{dl(e||"swap error",a),K(),P.value=!1})}else if(Qe(V)){const e=(null==(_=null==(k=null==(b=oe.botSettings)?void 0:b[V])?void 0:k[t.activeTab])?void 0:_.selected)||"s1",l=null==(T=null==(w=null==(y=oe.botSettings)?void 0:y[V])?void 0:w[t.activeTab])?void 0:T[e],n=null==l?void 0:l.mev,o=(null==l?void 0:l.slippage)||9,{gasTip1List:s,gasTip2List:i}=sl(ne.gasTip,V),r=n?s:i,u=n?null==l?void 0:l.gas[0]:null==l?void 0:l.gas[1],c=(null==u?void 0:u.customFee)?(null==u?void 0:u.customFee)||(null==r?void 0:r[null==u?void 0:u.level])||"3":"0",v=Number(new Ae(c).times(10**9).toFixed(0)),p=L?ae.swap.payToken:ae.swap.token,m=L?ae.swap.token:ae.swap.payToken,f=Date.now().toString(),h=(null==(S=null==(A=null==(C=(null==ne?void 0:ne.botSwapSelectedWallets)||[])?void 0:C.map((e,l)=>{var a,t,n,o,s,i,r,u,d;const c=null==(i=null==(s=null==(o=null==(n=null==(t=null==(a=te.walletList)?void 0:a.find)?void 0:t.call(a,l=>l.evmAddress===e))?void 0:n.addresses)?void 0:o.find)?void 0:s.call(o,e=>(null==e?void 0:e.chain)===V))?void 0:i.address,v=(null==(d=null==(u=null==(r=te.walletList)?void 0:r.find)?void 0:u.call(r,l=>l.evmAddress===e))?void 0:d.addresses)||[],m=Se(V,v,L?J:(null==p?void 0:p.address)||"")||0,h=ee?new Ae(m||0).times(D.value||0).div(100).times(10**((null==p?void 0:p.decimals)||0)).toFixed(0):new Ae(I||0).times(10**((null==p?void 0:p.decimals)||0)).toFixed(0);return{batchId:f+String(l),creatorAddress:c||"",inAmount:h}}))?void 0:A.filter)?void 0:S.call(A,e=>Number(null==e?void 0:e.inAmount)>0&&(null==e?void 0:e.creatorAddress)))||[],x={chain:V,swapList:h,inTokenAddress:L?J:(null==p?void 0:p.address)||"",outTokenAddress:L?(null==m?void 0:m.address)||"":J,swapType:L?1:2,contractType:0,isPrivate:n||!1,gasTip:v,autoSell:L&&oe.autoSellConfig_autoSell||!1,slippage:"auto"!==o?Number(new Ae(o).times(100).toFixed(0)):900,autoSlippage:"auto"===o,autoSellConfig:L?null==oe?void 0:oe.selectedAutoSellConfig:[],autoGas:(null==u?void 0:u.customFee)?0:((null==u?void 0:u.level)||0)+1,autoSellGas:(null==u?void 0:u.customFee)?0:((null==u?void 0:u.level)||0)+1,autoSellPriorityFee:v};hl(x).then(e=>{var l,t;if(e){const n=null==(l=null==e?void 0:e.every)?void 0:l.call(e,e=>xl(e));null==(t=null==e?void 0:e.forEach)||t.call(e,e=>{var l,t,o;const s=!M||He(null==e?void 0:e.creatorAddress,M,V),i=(null==(o=null==(t=null==(l=te.walletList)?void 0:l.find)?void 0:t.call(l,l=>{var a,t,n,o;return(null==(t=null==(a=null==l?void 0:l.evmAddress)?void 0:a.toLowerCase)?void 0:t.call(a))===(null==(o=null==(n=null==e?void 0:e.creatorAddress)?void 0:n.toLowerCase)?void 0:o.call(n))}))?void 0:o.name)||"";let r=setTimeout(()=>{P.value=!1,$.value="",B.value="",N.value="",D.value="",F.value=""},500);if(xl(e)&&(r&&(clearTimeout(r),r=null),dl(i+" "+bl(e),a),s&&K(),n))return void(P.value=!1);to({txInfo:e,chain:V,destination:"/botapi/swap/createSwapEvmTx",type:10});const u=d(()=>null==se?void 0:se.wsResult.tgbot,l=>{var t,n;const o=l.batchId,i=null==(t=null==l?void 0:l.txList)?void 0:t[0];if((null==(n=null==o?void 0:o.includes)?void 0:n.call(o,f))&&He(e.creatorAddress,null==i?void 0:i.walletAddress,V)){if(r&&(clearTimeout(r),r=null),ae.placeOrderSuccess++,null==i?void 0:i.success)no({...i,chain:null==l?void 0:l.chain},(null==e?void 0:e.id)||""),he({chain:x.chain,inTokenAddress:x.inTokenAddress,outTokenAddress:x.outTokenAddress,...i}),s&&X(i);else{const e=fl(null==i?void 0:i.failMessage)||"swap error";dl((null==i?void 0:i.walletName)+" "+e,a),s&&K()}u(),P.value=!1}})})}}).catch(e=>{dl(e||"swap error",a),K(),P.value=!1})}}function el(){var e;const l=Re();Qe(l)&&(null==(e=yl(l))||e.getFeeData().then(e=>{e&&(ue.value=new Ae(e.gasPrice||0).toNumber())}))}d(()=>{var e;return(null==(e=ae.token)?void 0:e.token)||""},e=>{e&&(el(),N.value="",D.value="",$.value="",F.value="",B.value="",Pe(t.activeTab))}),d(()=>t.activeTab,e=>{N.value="",D.value="",$.value="",F.value="",B.value=""}),d(()=>ae.price,e=>{e&&Pe(t.activeTab,!1)});const al=Date.now();let tl=null;function nl(){var e;if("market"===t.swapType){if(Date.now()-al>5e3)return;if(!ae.price)return tl&&(clearTimeout(tl),tl=null),void(tl=setTimeout(nl,1e3))}else if(!ae.price)return tl&&(clearTimeout(tl),tl=null),void(tl=setTimeout(nl,1e3));G.value=void 0,W.value=rl(new Ae((null==(e=ae.token)?void 0:e.current_price_usd)||0).times(H.value?1:ae.circulation).toFixed(),4)}d(()=>{var e;return null==(e=ae.token)?void 0:e.token},()=>{nl()}),d(()=>ae.placeOrderSuccess,()=>{setTimeout(()=>{v("getTokenBalance")},1e3)});const Tl=R(!1);return u(()=>{nl(),el()}),(l,a)=>{var t,o,s,i,r;const u=y,d=Jn,c=Zn,v=Xn,p=_e,g=eo,U=ke;return x(),w("div",null,["buy"===e.activeTab?(x(),w(T,{key:0},[S(p,{modelValue:$.value,"onUpdate:modelValue":[a[1]||(a[1]=e=>$.value=e),a[2]||(a[2]=e=>{var l;$.value=null==(l=null==e?void 0:e.replace)?void 0:l.call(e,/\-|[^\d.]/g,""),h(Me)("buy")})],placeholder:"0.0",size:"large",clearable:"",class:"input-number mt-10px","input-style":"text-align:right"},{prepend:b(()=>[k("span",dm,_(l.$t("amount")),1)]),append:b(()=>[S(v,{persistent:!1,placement:"bottom",trigger:"click",onVisibleChange:a[0]||(a[0]=e=>A.value=e)},{dropdown:b(()=>[S(c,null,{default:b(()=>{var e,a,t;return[(x(!0),w(T,null,C(null==(t=(null==(a=null==(e=h(ne))?void 0:e.botSwapBaseTokens)?void 0:a[be.value||""])||[])?void 0:t.filter(e=>{var l;return(null==e?void 0:e.address)!==(null==(l=h(ae).swap.payToken)?void 0:l.address)}),e=>(x(),m(d,{key:e.address,onClick:L(a=>{h(ae).swap.payToken=e,l.$emit("getTokenBalance"),$.value="",B.value=""},["stop"])},{default:b(()=>[k("img",{src:`${h(ie).token_logo_url}${e.logo_url}`,class:"rd-50% mr-8px",height:"16",alt:"",srcset:""},null,8,pm),k("span",mm,_(null==e?void 0:e.symbol),1)]),_:2},1032,["onClick"]))),128))]}),_:1})]),default:b(()=>{var e,l;return[k("div",cm,[k("img",{src:`${h(ie).token_logo_url}${null==(e=h(ae).swap.payToken)?void 0:e.logo_url}`,class:"rd-50%",height:"20",alt:"",srcset:""},null,8,vm),(null==(l=Ne.value)?void 0:l.length)>1?(x(),m(u,{key:0,class:V(["arrow-up",{active:!0===A.value}]),name:"solar:alt-arrow-down-bold"},null,8,["class"])):f("",!0)])]}),_:1})]),_:1},8,["modelValue"]),k("div",fm,[(x(!0),w(T,null,C(e.tabs1,(e,l)=>(x(),w("button",{key:l,class:"tab-item",type:"button",onClick:L(l=>De(e,"buy"),["stop"])},[Tl.value?n.value[l]?(x(),m(p,{key:1,modelValue:n.value[l].value,"onUpdate:modelValue":e=>n.value[l].value=e,style:{"--el-input-inner-height":"24px","--el-input-bg-color":"transparent","--el-input-border-color":"transparent","--el-input-hover-border-color":"transparent","--el-input-focus-border-color":"transparent"},class:"text-center w-full h-full",size:"small",onBlur:e=>{var a,t;return n.value[l].value=null==(t=null==(a=n.value[l].value)?void 0:a.replace)?void 0:t.call(a,/\-|[^\d.]/g,"")}},null,8,["modelValue","onUpdate:modelValue","onBlur"])):f("",!0):(x(),w("span",xm,_(e.name),1))],8,hm))),128)),k("button",{class:"tab-item h-30px basis-[26px]! grow-0! shrink-0!",type:"button",onClick:a[3]||(a[3]=e=>function(e,l){var a,t;Tl.value=!Tl.value;const n=(null==(t=null==(a=null==oe?void 0:oe.botSettings)?void 0:a[be.value])?void 0:t.buy)||{};oe.botSettings[be.value][l][(null==n?void 0:n.selected)||"s1"].buyValueList=e.map(e=>e.value)}(n.value,"buy"))},[S(u,{name:Tl.value?"custom:select":"custom:remark"},null,8,["name"])])]),k("div",bm,["buy"===e.activeTab&&"market"===e.swapType&&"ton"!==be.value?(x(),m(tm,{key:0,class:"w-full"},{default:b(()=>{var e;return[k("span",km,"≈"+_(h(Q)(B.value||0))+" "+_(null==(e=xe.value)?void 0:e.symbol),1)]}),_:1})):f("",!0)])],64)):"sell"===e.activeTab?(x(),w(T,{key:1},[(null==(t=h(ne).botSwapSelectedWallets)?void 0:t.length)>1?(x(),m(p,{key:0,modelValue:D.value,"onUpdate:modelValue":[a[4]||(a[4]=e=>D.value=e),a[5]||(a[5]=e=>{var l;D.value=null==(l=null==e?void 0:e.replace)?void 0:l.call(e,/\-|[^\d.]/g,""),h(Me)("sell")})],clearable:"",class:"input-number mt-10px",size:"large","input-style":"text-align:right",placeholder:"0"},{prepend:b(()=>{var e;return[k("span",gm,_(null==(e=xe.value)?void 0:e.symbol),1)]}),append:b(()=>[...a[17]||(a[17]=[k("span",{class:"text-12px color-[--main-text]"},"%",-1)])]),_:1},8,["modelValue"])):(x(),m(p,{key:1,modelValue:N.value,"onUpdate:modelValue":[a[6]||(a[6]=e=>N.value=e),a[7]||(a[7]=e=>{var l;N.value=null==(l=null==e?void 0:e.replace)?void 0:l.call(e,/\-|[^\d.]/g,""),h(Me)("sell")})],clearable:"",class:"input-number mt-10px",size:"large","input-style":"text-align:right",placeholder:"0.0"},{prepend:b(()=>[k("span",_m,_(l.$t("amount")),1)]),append:b(()=>{var e;return[k("span",ym,_(null==(e=xe.value)?void 0:e.symbol),1)]}),_:1},8,["modelValue"])),k("div",wm,[(x(!0),w(T,null,C(e.tabs2,(e,l)=>(x(),w("button",{key:l,class:"tab-item",type:"button",onClick:L(l=>De(e,"sell"),["stop"])},[k("span",null,_(e.name),1)],8,Tm))),128))]),k("div",Cm,[k("div",Am,[k("span",null,"≈"+_(h(Q)(F.value||0)),1),S(v,{placement:"bottom",trigger:"click",onVisibleChange:a[8]||(a[8]=e=>A.value=e)},{dropdown:b(()=>[S(c,null,{default:b(()=>{var e,a,t;return[(x(!0),w(T,null,C(null==(t=(null==(a=null==(e=h(ne))?void 0:e.botSwapBaseTokens)?void 0:a[be.value||""])||[])?void 0:t.filter(e=>{var l;return(null==e?void 0:e.address)!==(null==(l=h(ae).swap.payToken)?void 0:l.address)}),e=>(x(),m(d,{key:null==e?void 0:e.address,onClick:L(a=>{h(ae).swap.payToken=e,l.$emit("getTokenBalance"),N.value="",F.value="",D.value=""},["stop"])},{default:b(()=>[k("img",{src:`${h(ie).token_logo_url}${e.logo_url}`,class:"rd-50% mr-8px",height:"16",alt:"",srcset:""},null,8,Nm),k("span",$m,_(null==e?void 0:e.symbol),1)]),_:2},1032,["onClick"]))),128))]}),_:1})]),default:b(()=>{var e,a,t;return[k("div",Sm,[k("span",null,_((null==(e=h(ae).swap.payToken)?void 0:e.symbol)||(null==(a=("getChainInfo"in l?l.getChainInfo:h(Ye))(be.value||""))?void 0:a.main_name)),1),(null==(t=Ne.value)?void 0:t.length)>1?(x(),m(u,{key:0,class:V(["arrow-up",{active:!0===A.value}]),name:"solar:alt-arrow-down-bold"},null,8,["class"])):f("",!0)])]}),_:1})])])],64)):f("",!0),"limit"===e.swapType?(x(),w(T,{key:2},[S(p,{modelValue:W.value,"onUpdate:modelValue":[a[10]||(a[10]=e=>W.value=e),a[11]||(a[11]=e=>{var l;return W.value=null==(l=null==e?void 0:e.replace)?void 0:l.call(e,/\-|[^\d.]/g,"")})],placeholder:"0.0",size:"large",clearable:"",class:"input-number mt-10px","input-style":"text-align:right"},{prepend:b(()=>[k("span",Im,_(H.value?l.$t("price"):"MC"),1),S(u,{name:"iconamoon:synchronize-fill",class:"clickable ml-5px text-12px color-[--main-text]",onClick:a[9]||(a[9]=L(e=>H.value=!H.value,["stop"]))})]),append:b(()=>[...a[18]||(a[18]=[k("span",{class:"text-12px color-[--main-text]"},"$",-1)])]),_:1},8,["modelValue"]),k("div",{class:V(["slider-swap",e.activeTab])},[k("div",Fm,[S(g,{"model-value":Y.value,"show-tooltip":!1,"show-input-controls":!1,min:-100,max:100,onInput:a[12]||(a[12]=e=>function(e){G.value=e}(e))},null,8,["model-value"]),k("div",Lm,[(x(),w(T,null,C([-100,-50,0,50,100],(e,l)=>k("span",{key:l,class:"clickable",onClick:L(l=>G.value=e,["stop"])},_(e)+"%",9,Vm)),64))])]),S(p,{modelValue:G.value,"onUpdate:modelValue":[a[13]||(a[13]=e=>G.value=e),a[14]||(a[14]=e=>{var l;return G.value=null==(l=null==e?void 0:e.replace)?void 0:l.call(e,/\-|[^\d.]/g,"")})],placeholder:"0",class:"input-number max-w-70px ml-15px text-14px!"},{prefix:b(()=>[...a[19]||(a[19]=[k("div",{class:"w-10px"},null,-1)])]),suffix:b(()=>[...a[20]||(a[20]=[k("div",{class:"text-14px color-[--third-text] pr-5px"},"%",-1)])]),_:1},8,["modelValue"])],2)],64)):f("",!0),We.value?(x(),w(T,{key:3},[Fe.value?"buy"===e.activeTab&&(0===Number(null==(o=ye.value)?void 0:o.balance)||Number(null==(s=ye.value)?void 0:s.balance)<Number(we.value))?(x(),m(U,{key:1,class:"submit-btn",color:Ie.value,"native-type":"button",onClick:a[15]||(a[15]=L(e=>{return l=be.value,void ve("botTopUp").emit(l);var l},["stop"]))},{default:b(()=>[I(_(l.$t("lowBalanceToUP")),1)]),_:1},8,["color"])):(x(),m(U,{key:2,class:"submit-btn",block:"",loading:P.value||M.value||h(me),"loading-text":P.value?"buy"===e.activeTab?l.$t("buying"):l.$t("selling"):l.$t("quoting"),color:Ie.value,disabled:!Xe()||!we.value||!Te.value,"native-type":"button",onClick:L(Je,["stop"])},{default:b(()=>{var e,t,n;return[Ze()?(x(),w(T,{key:0},[I(_(Ze()),1)],64)):qe.value?(x(),w("div",Bm,[I(_(l.$t("buy"))+" ",1),a[21]||(a[21]=k("span",null,"|",-1)),k("img",{src:`${h(ie).token_logo_url}${null==(n=h(ae).swap.payToken)?void 0:n.logo_url}`,class:"rd-50%",height:"12",alt:"",srcset:""},null,8,Dm),k("span",null,[I(_(Le.value)+" ",1),Be.value?f("",!0):(x(),w(T,{key:0},[I(" ($"+_(Ve.value)+") ",1)],64))]),a[22]||(a[22]=k("span",null,"|",-1)),k("span",null,_(h(Q)(B.value||0)),1)])):(x(),w(T,{key:1},[I(_(Ze()||(qe.value?l.$t("buy"):l.$t("sell")+(Number(F.value||0)>0?`≈ ${h(Q)(F.value||0)} ${(null==(e=h(ae).swap.payToken)?void 0:e.symbol)||(null==(t=("getChainInfo"in l?l.getChainInfo:h(Ye))(be.value||""))?void 0:t.main_name)}`:""))),1)],64))]}),_:1},8,["loading","loading-text","color","disabled"])):(x(),m(U,{key:0,color:Ie.value,class:"submit-btn","native-type":"button",loading:E.value||P.value||h(me),disabled:Number(ye.value.balance)<Number(we.value),onClick:L(Ke,["stop"])},{default:b(()=>[I(_((0===Number(ye.value.balance)||Number(ye.value.balance)<Number(we.value))&&Ze()||l.$t("approve")),1)]),_:1},8,["color","loading","disabled"])),S(um,{activeTab:e.activeTab,swapType:e.swapType,gasPrice:h(ue)},null,8,["activeTab","swapType","gasPrice"])],64)):(null==(r=null==(i=h(te))?void 0:i.userInfo)?void 0:r.evmAddress)?(x(),w("div",Pm,_(l.$t("useChainWallet")),1)):(x(),w("div",Mm,[S(U,{class:"btn-login",color:"buy"===e.activeTab?"#12B886":"#F6465D","native-type":"button",onClick:a[16]||(a[16]=L(e=>h(te).changeConnectVisible(!0),["stop"]))},{default:b(()=>[I(_(l.$t("login")),1)]),_:1},8,["color"])]))])}}}),Um=M(Em,[["__scopeId","data-v-057edd75"]]),Rm=e=>{const l=je(),a=i(),t=O(),n=j();d(()=>l.wsResult[Cl.PRICEV2],l=>{l.prices.find(l=>{if(l.token+"-"+l.chain===a.params.id&&e.value){const a=Number(e.value.balance_amount||0);if(!a)return;const n=l.uprice*a,o=(l.uprice-Number(e.value.average_purchase_price_usd||0))*a,s=o+Number(e.value.realized_profit||0),i=l.uprice/Number(e.value.average_purchase_price_usd||0)-1;e.value.balance_usd=String(n),e.value.unrealized_profit=String(o),e.value.unrealized_ratio=String(i),e.value.total_profit=String(s),e.value._price=String(l.uprice||0);const r=t.mySwapList.filter(e=>[Tl.BUY,Tl.LIMIT_BUY].includes(e.swapType)).reduce((e,l)=>e+(Number(l.inValue)||Number(l.outValue)),0);r&&(e.value.total_profit_ratio=String(s/r))}})}),d(()=>n.price,l=>{var o,s;const i=l||0;if((null==(o=n.token)?void 0:o.token)+"-"+(null==(s=n.token)?void 0:s.chain)===a.params.id&&e.value){const l=Number(e.value.balance_amount||0);if(!l)return;const a=i*l,n=(i-Number(e.value.average_purchase_price_usd||0))*l,o=n+Number(e.value.realized_profit||0),s=i/Number(e.value.average_purchase_price_usd||0)-1;e.value.balance_usd=String(a),e.value.unrealized_profit=String(n),e.value.unrealized_ratio=String(s),e.value.total_profit=String(o),e.value._price=String(i);const r=t.mySwapList.filter(e=>[Tl.BUY,Tl.LIMIT_BUY].includes(e.swapType)).reduce((e,l)=>e+(Number(l.inValue)||Number(l.outValue)),0);r&&(e.value.total_profit_ratio=String(o/r))}})},Om={key:0,class:"max-h-54px flex items-start justify-between color-[--main-text] text-center border-[--main-list-hover] border-1px border-solid mb-12px py-10px rd-4px"},Hm={class:"flex-1 border-r-[--main-divider] border-r-1px border-r-solid"},jm={class:"text-11px color-[--third-text]"},zm={class:"text-12px mt-5px color-#12B886"},Wm={class:"flex-1 border-r-[--main-divider] border-r-1px border-r-solid"},qm={class:"text-11px color-[--third-text]"},Gm={class:"flex-1 border-r-[--main-divider] border-r-1px border-r-solid"},Ym={class:"text-11px color-[--third-text]"},Qm={class:"text-12px mt-5px"},Km={class:"flex-1"},Xm={class:"text-11px color-[--third-text] flex items-center justify-center"},Zm=o({__name:"holding",props:{isForceShow:{type:Boolean,default:!1},walletTokenInfo:{type:Object,default:null}},emits:["update:walletTokenInfo"],setup(e,{emit:l}){const a=e,t=l,n=i(),o=z(),s=j(),v=R(!1),p=c(()=>{var e,l;return(null==(l=r(null==(e=n.params)?void 0:e.id))?void 0:l.address)||""}),m=c(()=>{var e,l,a,t,s;const[i,u]=r(null==(e=n.params)?void 0:e.id,1);return i&&u?null==(s=null==(t=null==(a=null==(l=o.userInfo)?void 0:l.addresses)?void 0:a.find)?void 0:t.call(a,e=>(null==e?void 0:e.chain)===u))?void 0:s.address:""});d([m,p],e=>{v.value=!1,e&&(N.value=0,A(),$())});const b=c({get:()=>a.walletTokenInfo,set(e){t("update:walletTokenInfo",e)}});function g(){var e,l;switch(!0){case Number((null==(e=null==b?void 0:b.value)?void 0:e.total_profit)||0)>0:return"+";case Number((null==(l=null==b?void 0:b.value)?void 0:l.total_profit)||0)<0:return"-";default:return""}}function C(){var e,l;switch(!0){case Number((null==(e=null==b?void 0:b.value)?void 0:e.total_profit)||0)>0:return"color-#12B886";case Number((null==(l=null==b?void 0:b.value)?void 0:l.total_profit)||0)<0:return"color-#F6465D";default:return"color-[--third-text]"}}async function A(){var e,l,a,t,s;const[i,u]=r(null==(e=n.params)?void 0:e.id,1);if(!i||!u)return;if(!o.isSupportChains.includes(u))return void(b.value=null);const d=null==(s=null==(t=null==(a=null==(l=o.userInfo)?void 0:l.addresses)?void 0:a.find)?void 0:t.call(a,e=>(null==e?void 0:e.chain)===u))?void 0:s.address;if(!d||!i)return;return Al({user_address:d,chain:u,user_token:i}).then(async e=>{var l;return b.value=(null==e?void 0:e[0])||null,Number((null==(l=b.value)?void 0:l.balance_usd)||0)>0&&(v.value=!1),e}).catch(async()=>(b.value=null,null))}Rm(b);const N=R(0);async function $(){var e,l,a,t;const[s,i]=r(null==(e=n.params)?void 0:e.id,1);if(!s||!i)return;if(!(null==(a=null==(l=o.isSupportChains)?void 0:l.includes)?void 0:a.call(l,i)))return;const u={evmAddress:o.evmAddress,chains:i,pinToken:null==(t=n.params)?void 0:t.id};return Sl(u).then(async e=>{var l,a,t,n,o;return!(null==(l=null==e?void 0:e[0])?void 0:l.value)||(null==(a=null==e?void 0:e[0])?void 0:a.value)>0&&(null==(t=null==e?void 0:e[0])?void 0:t.token)!==s?(N.value=0,void ve("updateAvgPrice").emit(0)):(N.value=Number((null==(n=null==e?void 0:e[0])?void 0:n.avgPrice)||0),(null==(o=null==e?void 0:e[0])?void 0:o.value)>0&&ve("updateAvgPrice").emit(N.value),e)}).catch(async()=>null)}d(()=>n.params.id,()=>{v.value=!1,N.value=0,A(),$()}),d(()=>s.placeOrderSuccess,async()=>{v.value=!0,$(),B&&(clearTimeout(B),B=null),await We(5e3),M()});let F=0,B=null,D=!1;function M(){D||(F>10?F=0:(A(),$(),F++,B=setTimeout(M,5e3)))}const P=R(!1),E=ve("klineDataReady").on(()=>{N.value>0&&ve("updateAvgPrice").emit(N.value)});return re(()=>{D=!0,B&&(clearTimeout(B),B=null),E&&E()}),u(()=>{A(),$()}),(l,a)=>{var t,n,o,i,r,u,d,c,p,m,A,N;const $=y;return Number((null==(t=h(b))?void 0:t.balance_usd)||0)>0&&Number((null==(o=null==(n=h(s).swap)?void 0:n.token)?void 0:o.balance)||0)>0||h(v)||e.isForceShow?(x(),w("div",Om,[k("div",Hm,[k("div",jm,_(l.$t("bought")),1),k("div",zm,"$"+_(h(Q)((null==(i=h(b))?void 0:i.total_purchase_usd)||0,2)),1)]),k("div",Wm,[k("div",qm,_(l.$t("sold")),1),k("div",{class:V(["text-12px mt-5px",[Number((null==(r=h(b))?void 0:r.total_sold_usd)||0)>0?"color-#F6465D":"color-[--third-text]"]])},"$"+_(h(Q)((null==(u=h(b))?void 0:u.total_sold_usd)||0,2)),3)]),k("div",Gm,[k("div",Ym,_(l.$t("holding")),1),k("div",Qm,"$"+_(h(Q)((null==(d=h(b))?void 0:d.balance_usd)||0,2)),1)]),k("div",Km,[k("div",Xm,[k("span",null,_(l.$t("profit2")),1),S($,{name:"custom:price",class:V(["text-11px clickable ml-5px",[h(P)?"color-[--third-text]":"color-[--secondary-text]"]]),onClick:a[0]||(a[0]=L(e=>P.value=!h(P),["stop"])),onMousedown:a[1]||(a[1]=L(()=>{},["stop"])),onMouseup:a[2]||(a[2]=L(()=>{},["stop"]))},null,8,["class"])]),k("div",{class:V(["text-12px mt-5px",C()])},[h(P)?(x(),w(T,{key:1},[I(_(h(Q)(Number((null==(p=h(b))?void 0:p.total_profit)||0)/Number((null==(m=h(b))?void 0:m.main_token_price)||1),2))+" "+_((null==(A=h(b))?void 0:A.main_token_symbol)||""),1)],64)):(x(),w(T,{key:0},[I(_(g())+"$"+_(h(Q)(Math.abs(Number(null==(c=h(b))?void 0:c.total_profit)||0),2)),1)],64))],2),k("div",{class:V(["text-8px",C()])},"("+_(h(Q)(100*Number((null==(N=h(b))?void 0:N.total_profit_ratio)||0),2))+"%)",3)])])):f("",!0)}}}),Jm={class:"bg-[--main-input-button-bg] flex items-center ml-auto p-[5px_2px] rounded-4px"},ef={class:"flex item-center clickable"},lf={class:"text-12px color-[--main-text] mx-3px"},af={class:"color-[--third-text] text-12px max-h-500px overflow-y-auto"},tf={class:"flex items-center justify-between px-12px b-b-solid b-b-1px b-b-[--border]"},nf={class:"flex-1 text-right"},of={class:"flex-1 text-right"},sf={class:"flex items-center",style:{flex:"1.5"}},rf=["title"],uf={class:"color-[--third-text] flex items-center"},df={class:"ml-auto lh-14px flex items-center color-[--main-text] text-12px flex-1 justify-end"},cf=["src"],vf={class:"ml-auto lh-14px flex items-center color-[--main-text] text-12px flex-1 justify-end"},pf=["src"],mf=["src"],ff={class:"text-12px color-[--main-text]"},hf=o({__name:"batchWallet",props:{chain:{type:String,default:""},boundary:{type:HTMLElement,default:null}},setup(e){const l=e,a=de(),t=j(),n=z(),o=ol(),s=R(!1),i=R(!1),r=c(()=>{var e,l;return(null==(l=null==(e=n.walletList)?void 0:e.map)?void 0:l.call(e,e=>e.evmAddress))||[]}),u=c(()=>{var e,l,a;const t=null==(l=null==(e=n.walletList)?void 0:e.slice)?void 0:l.call(e,0);return(null==(a=null==t?void 0:t.sort)?void 0:a.call(t,e=>e.evmAddress===n.evmAddress?-1:1))||[]}),d=c(()=>{var e;const a=[...o.botSwapSelectedWallets,n.evmAddress||""],s=Array.from(new Set(null==a?void 0:a.filter(Boolean)));let i="0";const r=t.swap.payToken;return null==(e=n.walletList)||e.forEach(e=>{s.includes(e.evmAddress)&&(i=new Ae(i).plus($(l.chain,e.addresses,null==r?void 0:r.address)||0).toFixed())}),i}),v=e=>{o.botSwapSelectedWallets=e?r.value:[n.evmAddress||""],i.value=!1},f=e=>{const l=e.length;i.value=l>0&&l<n.walletList.length},A=c(()=>o.botSwapSelectedWallets.length===n.walletList.length);function N(e,l){var a;return null==(a=null==l?void 0:l.find)?void 0:a.call(l,l=>(null==l?void 0:l.chain)===e)}function $(e,l,a){var t,n,o,s,i;return(null==(t=il)?void 0:t.includes(a||""))||!a?(null==(n=N(e,l))?void 0:n.balance)||0:(null==(i=null==(s=null==(o=N(e,l))?void 0:o.tokenBalances)?void 0:s[a])?void 0:i.balance)||0}return(l,r)=>{var c;const F=y,M=tl,P=Nl,E=D,U=p("copy");return x(),w("div",Jm,[S(E,{visible:h(s),"onUpdate:visible":r[3]||(r[3]=e=>B(s)?s.value=e:null),persistent:!1,placement:"bottom",width:"305",trigger:"click","popper-class":"[&&]:[--el-popover-padding:0]","popper-options":{modifiers:[{name:"preventOverflow",options:{boundary:e.boundary,padding:0}}]}},{reference:b(()=>{var e;return[k("div",ef,[S(F,{name:"ri:wallet-fill",class:"color-[--secondary-text] text-14px"}),k("span",lf,_(null==(e=h(o).botSwapSelectedWallets)?void 0:e.length),1),S(F,{name:"prime:sort-down-fill",class:V(["color-[--main-text] text-14px transition-all-300",{"rotate-180":h(s)}])},null,8,["class"])])]}),default:b(()=>{var s,d;return[k("div",af,[k("div",tf,[S(M,{modelValue:h(A),"onUpdate:modelValue":r[0]||(r[0]=e=>B(A)?A.value=e:null),indeterminate:h(i),style:{"--el-checkbox-font-size":"12px",flex:"1.5"},onChange:v},{default:b(()=>[I(_(l.$t("all1")),1)]),_:1},8,["modelValue","indeterminate"]),k("span",nf,_(l.$t("balance1"))+"("+_(null==(s=h(t).swap.payToken)?void 0:s.symbol)+")",1),k("span",of,_(l.$t("balance1"))+"("+_(null==(d=h(t).swap.token)?void 0:d.symbol)+")",1)]),(x(),w("div",{key:h(n).evmAddress,class:"px-12px"},[S(P,{modelValue:h(o).botSwapSelectedWallets,"onUpdate:modelValue":r[2]||(r[2]=e=>h(o).botSwapSelectedWallets=e),onChange:f},{default:b(()=>[(x(!0),w(T,null,C(h(u),(o,s)=>{var i,u,d,c,v,p,f,b;return x(),w("div",{key:o.evmAddress,class:V(["flex items-center h-50px",{"b-b-solid b-b-1px b-b-[--border]":s!==(null==(i=h(n))?void 0:i.walletList.length)-1}])},[k("div",sf,[(x(),m(M,{key:o.evmAddress,class:"[&&]:[--el-checkbox-disabled-checked-icon-color:#FFF] [&&]:[--el-checkbox-disabled-checked-input-fill:#3F80F7] [&&]:[--el-checkbox-disabled-checked-input-border-color:#3F80F7] batch-checkbox",value:o.evmAddress,disabled:o.evmAddress===h(n).evmAddress,checked:o.evmAddress===h(n).evmAddress},null,8,["value","disabled","checked"])),k("div",{class:"text-12px lh-14px",onClick:r[1]||(r[1]=L(()=>{},["stop"]))},[k("div",{class:"color-[--main-text] overflow-hidden text-ellipsis whitespace-nowrap max-w-100px",title:o.name},_(o.name),9,rf),k("div",uf,[k("span",null,_(null==(d=null==(u=N(e.chain,o.addresses))?void 0:u.address)?void 0:d.replace(new RegExp("(.{6})(.+)(.{4})"),"$1...$3")),1),g(S(F,{name:"bxs:copy",class:"clickable ml-5px text-12px"},null,512),[[U,null==(c=N(e.chain,o.addresses))?void 0:c.address]])])])]),k("div",df,[k("img",{src:`${h(a).token_logo_url}${null==(v=h(t).swap.payToken)?void 0:v.logo_url}`,class:"rd-50% mr-2px",height:"12",alt:"",srcset:""},null,8,cf),k("span",null,_(("formatNumber"in l?l.formatNumber:h(Q))($(e.chain,o.addresses,null==(p=h(t).swap.payToken)?void 0:p.address)||0)),1)]),k("div",vf,[k("img",{src:`${h(a).token_logo_url}${null==(f=h(t).swap.token)?void 0:f.logo_url}`,class:"rd-50% mr-2px",height:"12",alt:"",srcset:""},null,8,pf),k("span",null,_(("formatNumber"in l?l.formatNumber:h(Q))($(e.chain,o.addresses,null==(b=h(t).swap.token)?void 0:b.address)||0)),1)])],2)}),128))]),_:1},8,["modelValue"])]))])]}),_:1},8,["visible","popper-options"]),r[4]||(r[4]=k("div",{class:"border-l-solid border-l-1px border-l-[--icon-color] h-8px mx-8px"},null,-1)),k("img",{src:`${h(a).token_logo_url}${null==(c=h(t).swap.payToken)?void 0:c.logo_url}`,class:"rd-50% mr-2px",height:"12",alt:"",srcset:""},null,8,mf),k("span",ff,_(("formatNumber"in l?l.formatNumber:h(Q))(h(d)||0)),1)])}}}),xf=M(hf,[["__scopeId","data-v-0687b952"]]),bf={key:0,class:"flex items-center py-11px px-8px text-12px justify-between bg-[--dialog-bg] rounded-4px mb-12px"},kf={class:"font-500 color-[--main-text] mr-2px max-w-60px truncate"},gf={class:"color-[--main-text] ml-2px mr-2px"},_f={__name:"bestToken",setup(e){const l=i(),a=j(),t=R(null),n=c(()=>r(l.params.id||"").chain),o=()=>{const{token:e}=t.value;Fl(`/token/${e}-${n.value}`)},s=async()=>{var e;try{const n=await Il(l.params.id||""),o=(null==n?void 0:n.symbol)?n:n.data;a.bestToken=o,(null==o?void 0:o.token)!==(null==(e=a.token)?void 0:e.token)?t.value=o:t.value=null}catch(n){t.value=null}};return s(),d(()=>{var e;return null==(e=a.token)?void 0:e.token},()=>{s()}),(e,l)=>{const a=$l,s=p("tooltip");return h(t)?(x(),w("div",bf,[I(_(e.$t("devBestToken"))+" ",1),k("div",{class:"flex items-center color-[--secondary-text] cursor-pointer",onClick:o},[S(a,{class:"mr-4px","token-class":"w-16px",chainClass:"w-8px",row:{logo_url:h(t).logo_url||"",symbol:h(t).symbol||"",chain:h(n)||""}},null,8,["row"]),g((x(),w("span",kf,[I(_(h(t).symbol),1)])),[[s,h(t).symbol]]),l[0]||(l[0]=I(" (ATH MC ",-1)),k("span",gf,"$"+_(("formatNumber"in e?e.formatNumber:h(Q))(h(t).all_time_high,0)),1),l[1]||(l[1]=I(") ",-1))])])):f("",!0)}}},yf={ref:"bot-swap-container",class:"bot-swap-container"},wf={class:"tabs"},Tf=["onClick"],Cf={key:0,class:"flex items-center h-40px"},Af={class:"tabs-1 mr-5px"},Sf=["onClick","onMouseenter","id"],Nf={class:"select-box"},$f={class:"text-12px"},If={class:"mb-4px flex-start"},Ff={class:"mr-4px color-[--third-text]"},Lf={key:0},Vf={key:1},Bf={key:0,class:"mt-4px mb-4px flex-start"},Df={class:"mr-5px color-[--third-text]"},Mf={key:1,class:"mt-4px mb-4px flex-start"},Pf={class:"mr-5px color-[--third-text] whitespace-nowrap block"},Ef={class:"whitespace-nowrap"},Uf={class:"mt-4px mb-4px flex-start"},Rf={class:"mr-5px color-[--third-text] whitespace-nowrap"},Of={class:"mt-4px flex-start"},Hf={class:"mr-5px color-[--third-text]"},jf=o({__name:"index",setup(e){const{t:l}=s(),a=i(),t=ll(),n=v("buy"),o=v("market"),A=z(),N=j(),$=je(),I=ol(),F=Ll("bot-swap-container"),M=O(),P=R(!1),E=R("s1"),U=R({}),H=R(null),W=R(null),{getTokenBalance:q}=jp(),G=c(()=>{var e,l,t;return(null==(l=r(null==(e=a.params)?void 0:e.id))?void 0:l.chain)||(null==(t=N.token)?void 0:t.chain)}),Y=c(()=>(null==se?void 0:se[G.value])||0),K=c(()=>[{value:"buy",name:l("buy")},{value:"sell",name:l("sell")}]),X=c(()=>{var e,l,a,n;const o=(null==(l=null==(e=null==t?void 0:t.botSettings)?void 0:e[G.value])?void 0:l.buy)||{};return((null==(n=null==(a=null==o?void 0:o[o.selected])?void 0:a.buyValueList)?void 0:n.slice(0,4))||["0.01","0.02","0.5","1"]).map(e=>({name:e,value:e}))}),Z=c(()=>{var e,l,a,n;const o=(null==(l=null==(e=null==t?void 0:t.botSettings)?void 0:e[G.value])?void 0:l.sell)||{};return((null==(n=null==(a=null==o?void 0:o[o.selected])?void 0:a.sellPerList)?void 0:n.slice(0,4))||["25","50","75","100"]).map(e=>({name:e+"%",value:new Ae(e).div(100).toString()}))}),J=c(()=>[{value:"market",name:l("swapT")},{value:"limit",name:l("limitT")}]);d(J,e=>{e.every(e=>e.value!==o.value)&&(o.value=e[0].value)});const ee=c(()=>{var e,l,t,n,o,s,i;const u=(null==(l=r(null==(e=a.params)?void 0:e.id))?void 0:l.chain)||(null==(t=N.token)?void 0:t.chain);return null==(i=null==(s=null==(o=null==(n=A.userInfo)?void 0:n.addresses)?void 0:o.find)?void 0:s.call(o,e=>(null==e?void 0:e.chain)===u))?void 0:i.address});d([ee,()=>{var e;return null==(e=a.params)?void 0:e.id},()=>{var e;return null==(e=$.wsResult)?void 0:e.tgbot}],()=>{ee.value&&q()});const le={solana:"sol",ton:"TON"};function ae(){var e,l,t,n,o,s;if(!(null==(e=a.params)?void 0:e.id))return;const{address:i,chain:u}=r(null==(l=a.params)?void 0:l.id);N.swap.token={address:i,chain:u},u!==N.swap.native.chain&&(N.swap.native={symbol:null==(t=Ye(u))?void 0:t.main_name,chain:u,address:le[u]||Ge,decimals:null==(n=Ye(u))?void 0:n.decimals}),u!==(null==(o=N.swap.payToken)?void 0:o.chain)&&(N.swap.payToken=((null==(s=null==I?void 0:I.botSwapBaseTokens)?void 0:s[u||""])||[])[0])}d(()=>{var e;return null==(e=a.params)?void 0:e.id},e=>{e&&ae()}),u(()=>{q(),ae()});const te=c(()=>{var e,l,a;if(!A.isSupportChains.includes(G.value))return"";const n=null==(a=null==(l=null==(e=t.botSettings)?void 0:e[G.value])?void 0:l.buy)?void 0:a[E.value],o=null==n?void 0:n.mev,{gasTip1List:s,gasTip2List:i}=sl(I.gasTip,G.value),r=o?s:i,u=o?0:1,d=null==n?void 0:n.gas[u];return(null==d?void 0:d.customFee)||(null==r?void 0:r[null==d?void 0:d.level])});function ne(e){e&&(null==e?void 0:e.id)&&(U.value[null==e?void 0:e.id]=e)}function oe(e){E.value=e,H.value=U.value[e]||null,P.value=!0,function(){var e;if(!Qe(G.value)||se[G.value])return;null==(e=yl(G.value))||e.getFeeData().then(e=>{e&&(se[G.value]=new Ae(e.gasPrice||0).toNumber())})}()}const se=ul({});function ie(){var e,l,a,n,o,s,i,r,u;if(Qe(G.value)&&(null==(e=null==A?void 0:A.isSupportChains)?void 0:e.includes(G.value))){const e=null==(n=null==(a=null==(l=t.botSettings)?void 0:l[G.value])?void 0:a.buy)?void 0:n[E.value],d=null==e?void 0:e.mev,c=(null==(s=null==(o=I.mainTokensPrice)?void 0:o.find(e=>{var l;return e.chain===G.value&&e.token===(null==(l=Ye(G.value))?void 0:l.wmain_wrapper)}))?void 0:s.current_price_usd)||N.swap.native.price||0,{gasTip1List:v,gasTip2List:p}=sl(I.gasTip,G.value),m=d?v:p,f=d?null==e?void 0:e.gas[0]:null==e?void 0:e.gas[1],h=(null==f?void 0:f.customFee)||(null==m?void 0:m[null==f?void 0:f.level])||"3",x=(null==(u=null==(r=null==(i=I.gasTip)?void 0:i.find)?void 0:r.call(i,e=>e.chain===G.value&&e.mev===!!d))?void 0:u.gasLimit)||2e5;return Q(new Ae(Y.value).plus(new Ae(h).times(String(10**9))).times(x).times(c).div(String(10**18)).toFixed(),2)}return 0}return(e,l)=>{var a,s,i,r,u,d,c;const v=Qn,$=Kn,I=y,U=D,R=p("tooltip");return x(),w("div",yf,[S(Zm,{isForceShow:!0,walletTokenInfo:h(W),"onUpdate:walletTokenInfo":l[0]||(l[0]=e=>B(W)?W.value=e:null)},null,8,["walletTokenInfo"]),S(_f),k("div",wf,[(x(!0),w(T,null,C(h(K),(e,l)=>(x(),w("button",{key:l,class:V(["tab-item",{active:e.value===h(n),[`tab-${e.value}`]:!0}]),type:"button",onClick:l=>n.value=e.value},[k("span",null,_(e.name),1)],10,Tf))),128))]),(null==(s=null==(a=h(A))?void 0:a.userInfo)?void 0:s.evmAddress)&&(null==(r=null==(i=h(A))?void 0:i.isSupportChains)?void 0:r.includes(h(G)))?(x(),w("div",Cf,[k("div",Af,[(x(!0),w(T,null,C("BotSettingsArr"in e?e.BotSettingsArr:h(Vl),e=>{var a,o,s,i;return x(),w("button",{key:e.value,class:V(["hover:bg-[--tab-active-bg]! hover:text-[--main-text]!",{active:e.value===(null==(i=null==(s=null==(o=null==(a=h(t))?void 0:a.botSettings)?void 0:o[h(G)])?void 0:s[h(n)])?void 0:i.selected)}]),type:"button",onClick:L(l=>function(e){var l;(null==(l=null==t?void 0:t.botSettings)?void 0:l[G.value])&&(t.botSettings[G.value][n.value].selected=e)}(e.value),["stop"]),onMouseenter:l=>oe(e.value),onMouseleave:l[1]||(l[1]=e=>P.value=!1),ref_for:!0,ref:ne,id:e.value},_(e.label),43,Sf)}),128))]),S(Mn,{canSetAuto:!0,isAutoSell:"market"===h(o),chain:null==(d=null==(u=h(N).tokenInfo)?void 0:u.token)?void 0:d.chain,setting:null==(c=h(t))?void 0:c.botSettings[h(G)]},null,8,["isAutoSell","chain","setting"]),S(xf,{chain:h(G),boundary:h(F)},null,8,["chain","boundary"])])):f("",!0),k("div",Nf,[S($,{modelValue:h(o),"onUpdate:modelValue":l[2]||(l[2]=e=>B(o)?o.value=e:null),class:"select-tabs"},{default:b(()=>[(x(!0),w(T,null,C(h(J),(e,l)=>(x(),m(v,{key:l,label:e.name,name:e.value},null,8,["label","name"]))),128))]),_:1},8,["modelValue"])]),S(Um,{activeTab:h(n),swapType:h(o),tabs1:h(X),tabs2:h(Z),onGetTokenBalance:h(q)},null,8,["activeTab","swapType","tabs1","tabs2","onGetTokenBalance"]),S(U,{visible:h(P),"onUpdate:visible":l[3]||(l[3]=e=>B(P)?P.value=e:null),"popper-class":"new-popover","virtual-ref":h(H),"virtual-triggering":"",trigger:"contextmenu",placement:"bottom","popper-style":"min-width: auto; width: auto;",persistent:!1},{default:b(()=>{var l,a,n,o,s,i,r,u,d,c,v,p,m;return[k("ul",$f,[k("li",If,[S(I,{name:"custom:slippage",class:"color-[--third-text] ml-0 mr-6px cursor-pointer min-w-16px"}),k("span",Ff,_(e.$t("slippage")),1),"auto"!==(null==(o=null==(n=null==(a=null==(l=h(t).botSettings)?void 0:l[h(G)])?void 0:a.buy)?void 0:n[h(E)])?void 0:o.slippage)?(x(),w("span",Lf,_(null==(u=null==(r=null==(i=null==(s=h(t).botSettings)?void 0:s[h(G)||""])?void 0:i.buy)?void 0:r[h(E)])?void 0:u.slippage)+"%",1)):(x(),w("span",Vf,_(e.$t("auto")),1))]),h(Qe)(h(G)||"")?(x(),w("li",Bf,[g(S(I,{name:"custom:gas",class:"color-[--third-text] ml-0 mr-3px cursor-pointer min-w-18px"},null,512),[[R,e.$t("estimatedGas")]]),k("span",Df,_(e.$t("estimatedGas")),1),k("span",null,"$"+_(ie()),1)])):f("",!0),"solana"===h(G)?(x(),w("li",Mf,[S(I,{name:"custom:gas",class:"color-[--third-text] mr-3px cursor-pointer ml-0 min-w-18px"}),k("span",Pf,_(e.$t("priorityFee")),1),k("span",Ef,_(h(te))+" SOL",1)])):f("",!0),k("li",Uf,[S(I,{name:`custom:half-${h(M).mode}`,class:"text-18px color-[--third-text] ml-0 mr-3px cursor-pointer min-w-18px"},null,8,["name"]),k("span",Rf,_(e.$t("autoSellHalf")),1),k("span",null,_((null==(d=h(t).autoSellConfigs)?void 0:d.autoSell)?e.$t("on"):e.$t("off")),1)]),k("li",Of,[S(I,{name:"custom:mev",class:"text-14px color-[--third-text] ml-0 mt--2px mr-3px cursor-pointer min-w-18px"}),k("span",Hf,_(e.$t("mev")),1),k("span",null,_((null==(m=null==(p=null==(v=null==(c=h(t).botSettings)?void 0:c[h(G)])?void 0:v.buy)?void 0:p[h(E)])?void 0:m.mev)?e.$t("on"):e.$t("off")),1)])])]}),_:1},8,["visible","virtual-ref"])],512)}}}),zf=M(jf,[["__scopeId","data-v-c64ca383"]]),Wf={class:"tabs"},qf=["disabled","onClick"],Gf=o({__name:"tabs",props:{activeTab:{type:Number,default:0}},emits:["update:activeTab"],setup(e,{emit:l}){const a=W(),{t:t}=s(),n=l,o=["sui","solana","tron","ton"],i=c(()=>[{name:t("buy"),value:0},{name:t("sell"),value:1}]);return(l,t)=>(x(),w("div",Wf,[(x(!0),w(T,null,C(h(i),(t,s)=>{var i,r,u;return x(),w("button",{key:s,class:V(["tab-item",{active:t.value===e.activeTab,[`tab-${t.value}`]:!0}]),type:"button",disabled:"evm"!==(null==(r=("getChainInfo"in l?l.getChainInfo:h(Ye))((null==(i=h(a))?void 0:i.chain)||""))?void 0:r.vm_type)&&!o.includes((null==(u=h(a))?void 0:u.chain)||""),onClick:e=>{return l=t.value,void n("update:activeTab",l);var l}},[k("span",null,_(t.name),1)],10,qf)}),128))]))}}),Yf=M(Gf,[["__scopeId","data-v-5206989c"]]),Qf=o({__name:"typeTabs",props:{isOnlyMarket:{type:Boolean,default:!1},tab:{type:Number,default:0}},emits:["update:tab"],setup(e,{emit:l}){const a=e,t=l,n=W(),{t:o}=s(),i=c(()=>{if(a.isOnlyMarket)return[{name:o("swapT"),value:2}];return"solana"===(n.chain||"")?[{name:o("swapT"),value:2},{name:o("limitT"),value:0}]:[{name:o("swapT"),value:2},{name:o("limitT"),value:0},{name:o("stopLimit"),value:1}]});return(l,a)=>{const n=Qn,o=Kn;return x(),m(o,{"model-value":e.tab,class:"select-tabs","onUpdate:modelValue":a[0]||(a[0]=e=>t("update:tab",e))},{default:b(()=>[(x(!0),w(T,null,C(h(i),(e,l)=>(x(),m(n,{key:l,label:e.name,name:e.value},null,8,["label","name"]))),128))]),_:1},8,["model-value"])}}}),Kf=M(Qf,[["__scopeId","data-v-816d704f"]]),Xf="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='11px'%20height='3px'%20viewBox='0%200%2011%203'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3ctitle%3e编组%3c/title%3e%3cg%20id='交易+挂单'%20stroke='none'%20stroke-width='1'%20fill='none'%20fill-rule='evenodd'%3e%3cg%20id='交易-市价交易-买备份'%20transform='translate(-268.000000,%20-584.000000)'%20fill='%23999999'%20fill-rule='nonzero'%3e%3cg%20id='提示文案'%20transform='translate(14.000000,%20508.000000)'%3e%3cg%20id='编组-9备份-3'%20transform='translate(0.000000,%2063.000000)'%3e%3cg%20id='编组'%20transform='translate(254.000000,%2013.000000)'%3e%3cpolygon%20id='路径'%20points='9.53333333%200%2011%200%209.77777778%201.13999999%207.88333333%203%207.15%202.28%208.31111112%201.13999999%200%201.13999999%200%200'%3e%3c/polygon%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",Zf={class:"history"},Jf={key:0,class:"flex gap-5px mb-32px"},eh=["onClick"],lh={class:"flex-column mt-6px"},ah={class:"flex-start"},th={class:"token-symbol font-14"},nh={key:0,class:"risk-status high"},oh={class:"flex-start color-[--secondary-text] text-16px font-500 mb-10px"},sh={class:"ml-5px"},ih={class:"content color-[--main-text]"},rh=["onClick"],uh={class:"token-info"},dh={class:"flex-column"},ch={class:"flex-start"},vh={class:"token-symbol font-14"},ph={key:0,class:"risk-status high"},mh={key:0,class:"px-5px py-0 color-[--third-text]"},fh={key:0,class:"flex flex-col text-right"},hh=["innerHTML"],xh=["innerHTML"],bh={key:2,class:"empty"},kh=M(o({__name:"searchTable",props:{searchTokens:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},disabledToken:{type:String,default:""}},emits:["onSelect"],setup(e,{emit:l}){const t=e,n=l;de().chainConfig;const o={bsc:{BNB:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",WBNB:"0xbb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c",USDT:"0x55d398326f99059ff775485246999027b3197955",USDC:"0x8ac76a51cc950d9822d68b83fe1ad97b32cd580d",USD1:"0x8d0d000ee44948fc98c9b98a4fa4921476f08b0d"},eth:{base:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",WETH:"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",USDT:"0xdac17f958d2ee523a2206206994597c13d831ec7",USDC:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",USD1:"0x8d0d000ee44948fc98c9b98a4fa4921476f08b0d"},base:{ETH:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",WETH:"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",USDT:"0xfde4c96c8593536e31f229ea8f37b2ada2699bb2",USDC:"0x833589fcd6edb6e08f4c7c32d4f71b54bda02913"},xlayer:{OKB:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",WOKB:"0xe538905cf8410324e03a5a23c1c177a474d59b2b",USDT:"0x5b827940327c99e255ff498206703bffaa625a43",USDC:"0x74b7f16337b8972027f6196a17a631ac6de26d22"},solana:{SOL:"So11111111111111111111111111111111111111112",USDT:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"}},s=c(()=>{var e;const l=[...new Set(Object.values(o).flatMap(e=>Object.values(e)))];return null==(e=t.searchTokens)?void 0:e.filter(e=>null==l?void 0:l.includes(e.address||""))});function i(e){((null==e?void 0:e.address)||(null==e?void 0:e.token))&&t.disabledToken!==e.address&&n("onSelect",e)}return(l,t)=>{var n,o;const r=$l,u=y,d=a,c=ge;return x(),w("div",Zf,[(null==(n=h(s))?void 0:n.length)>0?(x(),w("div",Jf,[(x(!0),w(T,null,C(h(s),(e,a)=>(x(),w("div",{class:"item bg-[--border] rounded-12px px-12px py-12px flex flex-col items-center justify-center flex-1 max-w-20%",key:a,onClick:l=>i(e)},[S(r,{row:e,tokenClass:"w-32px h-32px"},null,8,["row"]),k("div",lh,[k("div",ah,[k("span",th,_(e.symbol),1),(((null==e?void 0:e.risk_score)||0)>55||((null==e?void 0:e.risk_level)||0)<0)&&1!==e.risk_level?(x(),w("span",nh,_(l.$t("highRisk")),1)):f("",!0)])])],8,eh))),128))])):f("",!0),k("div",oh,[S(u,{class:"text-24px",name:"custom:my-token"}),k("span",sh,_(l.$t("myToken")),1)]),(null==(o=e.searchTokens)?void 0:o.length)>0?g((x(),m(d,{key:1,height:"calc(45vh)",class:"hidden-scrollbar"},{default:b(()=>[k("ul",ih,[(x(!0),w(T,null,C(e.searchTokens,(a,t)=>{var n,o;return x(),w("li",{key:t,class:V([{disabled:e.disabledToken===a.address},"flex justify-between px-16px py-16px clickable hover:bg-[--dialog-list-hover]"]),onClick:L(e=>i(a),["stop","prevent"])},[k("div",uh,[S(r,{class:"mr-5px",row:a,tokenClass:"w-40px h-40px"},null,8,["row"]),k("div",dh,[k("div",ch,[k("span",vh,_(a.symbol),1),(((null==a?void 0:a.risk_score)||0)>55||((null==a?void 0:a.risk_level)||0)<0)&&1!==a.risk_level?(x(),w("span",ph,_(l.$t("highRisk")),1)):f("",!0)]),(null==a?void 0:a.tags)||a.address===h(Ge)?f("",!0):(x(),w("span",mh,_(null==(n=a.token)?void 0:n.slice(0,4))+"**"+_(null==(o=a.token)?void 0:o.slice(-4)),1))])]),(a.amount||0)>0||(a.value||0)>0||(a.balance||0)>0?(x(),w("div",fh,[k("span",{class:"color-[--main-text]",innerHTML:`$ ${h(Q)((a.current_price_usd||a.price||0)*((null==a?void 0:a.amount)||(null==a?void 0:a.value)||a.balance||0))}`},null,8,hh),k("span",{class:"color-[--third-text] py-2px",innerHTML:a.amount||a.value||a.balance?h(Q)((null==a?void 0:a.amount)||(null==a?void 0:a.value)||a.balance||""):""},null,8,xh)])):f("",!0)],10,rh)}),128))])]),_:1})),[[c,e.loading]]):(x(),w("div",bh,[k("div",null,[t[0]||(t[0]=k("img",{src:ae},null,-1)),t[1]||(t[1]=k("br",null,null,-1)),k("span",null,_(l.$t("noSearchResults")),1)])]))])}}}),[["__scopeId","data-v-3cf6f40e"]]),gh={class:"text-14px color-[--main-text] font-400 ml-3px"},_h={key:1},yh={class:"text-20px font-500"},wh={class:"search-content mt-16px"},Th=M(o({__name:"selectSwapToken",props:{tokens:{type:Array,default:()=>[]},token:{type:Object,default:()=>({token:"",address:"",symbol:"",logo_url:"",chain:""})},chain:{type:String,default:""},disabledToken:{type:String,default:""}},emits:["update:token"],setup(e,{emit:l}){const{t:a}=s(),t=e,n=l,o=R(!1),i=R(""),r=R(t.tokens||[]),u=R(!1),v=c(()=>{var e;return(null==(e=r.value)?void 0:e.length)>0?r.value:t.tokens||[]});d(i,e=>{""!==e?g():r.value=t.tokens}),d(o,e=>{e&&(r.value=t.tokens||[],i.value="")});let p=null;function g(){p&&(clearTimeout(p),p=null),p=setTimeout(()=>{!function(){var e;if(""!==i.value){const l=new RegExp(i.value,"i"),a=(null==(e=t.tokens)?void 0:e.filter(e=>l.test((null==e?void 0:e.address)||"")||l.test((null==e?void 0:e.symbol)||"")||l.test((null==e?void 0:e.name)||"")))||[];u.value=!0,Bl(i.value,t.chain).then(e=>{var l,n,o;const s=null==(o=null==(n=null==(l=e.filter)?void 0:l.call(e,e=>e.chain===t.chain&&!a.some(l=>l.token===e.token)))?void 0:n.map)?void 0:o.call(n,e=>({...e,address:e.token}));r.value=[...a,...s]}).catch(e=>{r.value=[]}).finally(()=>{u.value=!1})}else r.value=t.tokens}()},500)}function C(e){var l,a;e.address!==t.disabledToken&&((null==e?void 0:e.address)||(null==e?void 0:e.token))&&(n("update:token",{...e,value:(null==(l=null==e?void 0:e.value)?void 0:l.toString())||0,balance:(null==(a=null==e?void 0:e.balance)?void 0:a.toString())||0}),o.value=!1)}return(e,l)=>{var n,s,r,d;const c=$l,p=y,A=_e,N=Ue;return x(),w(T,null,[k("button",{class:"flex items-center bg-transparent border-none p-0 clickable text-14px",type:"button",onClick:l[0]||(l[0]=L(e=>o.value=!0,["stop"]))},[(null==(n=t.token)?void 0:n.address)||(null==(s=t.token)?void 0:s.token)?(x(),w(T,{key:0},[(x(),m(c,{key:null==(r=t.token)?void 0:r.address,row:t.token},null,8,["row"])),k("span",gh,_((null==(d=t.token)?void 0:d.symbol)||""),1)],64)):(x(),w("div",_h,_(e.$t("pleaseSelectToken")),1)),S(p,{class:V(["arrow-up",{active:!0===h(o)}]),name:"solar:alt-arrow-down-bold"},null,8,["class"])]),h(o)?(x(),m(N,{key:0,modelValue:h(o),"onUpdate:modelValue":l[3]||(l[3]=e=>B(o)?o.value=e:null),"append-to-body":"",class:"new-dialog",width:"420px","destroy-on-close":""},{header:b(()=>[k("span",yh,_(h(a)("selectToken")),1)]),default:b(()=>[k("div",{class:"search-dialog-container",onClick:l[2]||(l[2]=L(()=>{},["stop"]))},[S(A,{ref:"inputSearch",class:"search-input",modelValue:h(i),"onUpdate:modelValue":l[1]||(l[1]=e=>B(i)?i.value=e:null),modelModifiers:{trim:!0},placeholder:h(a)("enterAddress/token"),clearable:"",onKeydown:Dl(g,["enter"])},{prefix:b(()=>[S(p,{class:"text-16px text-[--third-text]",name:"custom:search"})]),_:1},8,["modelValue","placeholder"]),k("div",wh,[S(kh,{searchTokens:h(v),loading:h(u),disabledToken:t.disabledToken||t.token.address,onOnSelect:C},null,8,["searchTokens","loading","disabledToken"])])])]),_:1},8,["modelValue"])):f("",!0)],64)}}}),[["__scopeId","data-v-b60c20d5"]]),Ch={class:"flex items-center"},Ah={key:0,class:"mr-5px color-[--main-text]"},Sh={key:1,class:"mr-5px"},Nh={class:"text-18px color-#fff font-400"},$h={class:"slippage-label"},Ih={class:"mt-10px"},Fh=["id","value","disabled"],Lh=["for"],Vh={class:"slippage-input"},Bh={key:0,class:"tip"},Dh={class:"form-submit"},Mh=M(o({__name:"slippageSet",props:{slippage:{type:[String,Number],default:"2"},autoSlippage:{type:String,default:"2"},canSetAuto:{type:Boolean,default:!0}},emits:["update:slippage"],setup(e,{emit:l}){const a=e,t=l,{t:n}=s(),o=[.1,.5,1],i=R("auto"===a.slippage?void 0:Number(a.slippage)),r=R(!1),u=R("auto"===a.slippage);function c(){void 0===i.value?t("update:slippage","auto"):t("update:slippage",String(i.value)),r.value=!1}function v(){oe.alert(n("slippageTips"),{title:n("slippage"),confirmButtonText:n("iKnown")})}function p(){i.value&&Number(i.value)>49.99&&(i.value=49.99)}function A(e){return Number(e)<=49.99}return d(r,e=>{e&&(i.value="auto"===a.slippage?void 0:Number(a.slippage))}),d(u,e=>{e&&(i.value=void 0)}),(l,a)=>{const t=y,n=Pl,s=tl,d=Bn,N=lo,$=Vn,F=ke,V=Ml,D=Ue;return x(),w("div",null,[k("div",Ch,[e.canSetAuto?(x(),w("span",Ah,_("auto"===e.slippage?l.$t("autoSlippage"):l.$t("manualSlippage"))+"("+_("auto"===e.slippage?e.autoSlippage:e.slippage)+"%) ",1)):(x(),w("span",Sh,_(e.slippage)+"%",1)),S(t,{class:"clickable",name:"tdesign:setting-1",onClick:a[0]||(a[0]=L(e=>r.value=!0,["stop"]))})]),h(r)?(x(),m(D,{key:0,modelValue:h(r),"onUpdate:modelValue":a[4]||(a[4]=e=>B(r)?r.value=e:null),width:"500px","append-to-body":"","destroy-on-close":""},{header:b(()=>[k("span",Nh,_(l.$t("setSlippage")),1)]),default:b(()=>[S(V,{class:"popup-content",onSubmit:L(c,["prevent"])},{default:b(()=>[k("div",$h,[k("span",null,_(l.$t("slippage")),1),S(n,{size:15,color:"#80838B",style:{cursor:"pointer","margin-left":"5px","margin-right":"auto"},onClick:L(v,["stop"])},{default:b(()=>[S(h(El))]),_:1}),e.canSetAuto?(x(),m(s,{key:0,modelValue:h(u),"onUpdate:modelValue":a[1]||(a[1]=e=>B(u)?u.value=e:null),label:l.$t("autoSlippage"),size:"large"},null,8,["modelValue","label"])):f("",!0)]),k("div",Ih,[S($,{gutter:10},{default:b(()=>[(x(),w(T,null,C(o,(e,l)=>S(d,{key:l,span:6,class:"radio-group"},{default:b(()=>[g(k("input",{id:`radio-${e}`,"onUpdate:modelValue":a[2]||(a[2]=e=>B(i)?i.value=e:null),type:"radio",value:e,disabled:h(u),class:"radio-input"},null,8,Fh),[[Ul,h(i)]]),k("label",{for:`radio-${e}`,class:"radio-item"},_(e)+"%",9,Lh)]),_:2},1024)),64)),S(d,{span:6},{default:b(()=>[k("div",Vh,[S(N,{modelValue:h(i),"onUpdate:modelValue":a[3]||(a[3]=e=>B(i)?i.value=e:null),class:"select bg-#212847 w-full",name:"slippage",type:"number",min:0,max:49.99,step:.01,disabled:h(u),"controls-position":"right",clearable:"",rules:[{required:!0,message:l.$t("enterSlippage")},{validator:A,message:l.$t("slippageMaxTip")}],onBlur:p},null,8,["modelValue","disabled","rules"]),a[5]||(a[5]=k("span",{class:"color-fff"},"%",-1))])]),_:1})]),_:1}),void 0!==h(i)&&Number(h(i))<=.1?(x(),w("span",Bh,_(l.$t("slippageTip1")),1)):f("",!0)]),k("div",Dh,[S(F,{class:"swap-button w-full rd-8px!",size:"large",block:"","native-type":"submit",type:"primary",disabled:0==e.slippage},{default:b(()=>[I(_(l.$t("confirm1")),1)]),_:1},8,["disabled"])])]),_:1})]),_:1},8,["modelValue"])):f("",!0)])}}}),[["__scopeId","data-v-25953a21"]]),Ph={class:"token-item header"},Eh={class:"flex-3"},Uh={class:"flex-1-5"},Rh={class:"flex-1 right-label"},Oh=["onClick"],Hh={class:"token-item"},jh={class:"path-list flex-start flex-3"},zh={key:0},Wh={key:1,class:"path-amm"},qh={key:0,class:"tag"},Gh=["innerHTML"],Yh=M(o({__name:"selectRouter",props:{visible:{type:Boolean,default:!1},listRouter:{type:Array,default:()=>[]},isAmount:{type:Boolean,default:!1},selectedRouterIndex:{type:Number,default:0}},emits:["getSelectedRouter","update:visible"],setup(e,{emit:l}){const a=e,t=l,n=c({get:()=>a.visible,set(e){t("update:visible",e)}});function o(e){return e>40?"#ff646d":e>10?"#F7933F":e>5?"#f8be46":""}return(l,a)=>{const s=$n,i=he,r=Pl,u=Ue;return h(n)?(x(),m(u,{key:0,modelValue:h(n),"onUpdate:modelValue":a[0]||(a[0]=e=>B(n)?n.value=e:null),class:"dialog-zixuan dialog",width:"600px","destroy-on-close":""},{header:b(()=>[k("span",null,_(l.$t("selectRouter")),1)]),default:b(()=>[k("ul",null,[k("li",Ph,[k("span",Eh,_(l.$t("router")),1),k("span",Uh,_(e.isAmount?l.$t("expectedAmount"):l.$t("expectedPay")),1),k("span",Rh,_(l.$t("priceImpact")),1),a[1]||(a[1]=k("span",{class:"w-16px"},null,-1))]),g(S(s,{image:h(ae)},null,8,["image"]),[[ue,e.listRouter&&0===e.listRouter.length]]),(x(!0),w(T,null,C(e.listRouter,(n,s)=>(x(),w("a",{key:s,href:"",onClick:L(e=>(e=>{t("getSelectedRouter",e)})(s),["stop","prevent"])},[k("li",Hh,[k("div",jh,[(x(!0),w(T,null,C((null==n?void 0:n.path)||[],(e,t)=>(x(),w(T,{key:t},[e.symbol?(x(),w("span",zh,_(e.symbol),1)):f("",!0),e.nextAmm&&"unknown"!==e.nextAmm?(x(),w("div",Wh,[S(i,{src:("formatIconSwap"in l?l.formatIconSwap:h(Ce))(e.nextAmm),class:"w-14px h-14px rd-10px mb-3px",style:{width:"14px",height:"14px","border-radius":"10px","margin-bottom":"3px"}},{error:b(()=>[...a[2]||(a[2]=[k("img",{class:"w-14px rd-10px",src:ro},null,-1)])]),placeholder:b(()=>[...a[3]||(a[3]=[k("img",{class:"w-14px rd-10px",src:ro},null,-1)])]),_:1},8,["src"]),a[4]||(a[4]=k("img",{class:"w-15px mr-5px",src:Xf,alt:"",srcset:""},null,-1))])):f("",!0)],64))),128)),0===s?(x(),w("div",qh,_(l.$t("best")),1)):f("",!0)]),k("span",{class:"flex-1-5",innerHTML:("formatNumber"in l?l.formatNumber:h(Q))((null==n?void 0:n.amount)||0)},null,8,Gh),Number((null==n?void 0:n.priceImpact)||0)<10?(x(),w("span",{key:0,class:"right-label flex-1",style:N({color:o(Number(n.priceImpact||0))})},[Number(n.priceImpact)<.01?(x(),w(T,{key:0},[I("<0.01%")],64)):(x(),w(T,{key:1},[I(_(("formatNumber"in l?l.formatNumber:h(Q))(Number((null==n?void 0:n.priceImpact)||0)))+"%",1)],64))],4)):(x(),w("span",{key:1,class:"right-label flex-1",style:N({color:o(Number((null==n?void 0:n.priceImpact)||0))})},[Number(n.priceImpact)>40?(x(),w(T,{key:0},[I(">40%")],64)):(x(),w(T,{key:1},[I(_(("formatNumber"in l?l.formatNumber:h(Q))(Number((null==n?void 0:n.priceImpact)||0),2))+"%",1)],64))],4)),e.selectedRouterIndex===s?(x(),m(r,{key:2,size:16,color:"#12B886"},{default:b(()=>[S(h(Rl))]),_:1})):(x(),m(r,{key:3,style:{opacity:"0"},size:16,color:"#12B886"},{default:b(()=>[S(h(Rl))]),_:1}))])],8,Oh))),128))])]),_:1},8,["modelValue"])):f("",!0)}}}),[["__scopeId","data-v-8d861404"]]),Qh={key:0},Kh={key:1},Xh={key:2},Zh={class:"swap-info"},Jh={class:"swap-info_item header"},ex={class:"header-li"},lx={class:"header-li_left"},ax={class:"color-#80838B mr-15px"},tx=["src"],nx={style:{"font-size":"14px"}},ox=["innerHTML"],sx={class:"header-li mt-34px"},ix={class:"header-li_left"},rx={class:"color-80838B mr-15px"},ux=["src"],dx={style:{"font-size":"14px"}},cx=["innerHTML"],vx={class:"swap-info_item"},px={class:"swap-info_item-label"},mx={class:"swap-info_item-value"},fx=["innerHTML"],hx=["innerHTML"],xx={key:0,class:"swap-info_item"},bx={class:"swap-info_item-label"},kx={class:"swap-info_item-value"},gx={key:1,class:"swap-info_item"},_x={class:"swap-info_item-label"},yx={class:"swap-info_item-value"},wx={key:0,class:"swap-info_item"},Tx={class:"swap-info_item-label"},Cx={class:"swap-info_item-value"},Ax={key:1,class:"swap-info_item"},Sx={class:"swap-info_item-label"},Nx={class:"swap-info_item-value"},$x={class:"swap-info_item"},Ix={class:"swap-info_item-label"},Fx={key:0,class:"swap-info_item-value path-list"},Lx={key:0},Vx={class:"path-amm"},Bx={key:1,style:{width:"15px",margin:"0 5px 0"},src:Xf,alt:"",srcset:""},Dx={key:1},Mx={key:0,style:{width:"15px",margin:"0 5px 0"},src:Xf,alt:"",srcset:""},Px={key:1},Ex={key:3,class:"swap-info_item"},Ux={class:"swap-info_item-label"},Rx={class:"swap-info_item-value"},Ox=["href"],Hx={class:"footer"},jx={key:1,class:"swap-info center"},zx={class:"mt-20px"},Wx={class:"swap-info center"},qx={class:"mt-20px"},Gx={class:"footer"},Yx=M(o({__name:"confirmSwap",props:{visible:{type:Boolean,default:!1},swapInfo:{type:Object,default:()=>({})},slippage:{type:String,default:"2"},loading:{type:Boolean,default:!1},chain:{type:String,default:""},nativePrice:{type:[Number,String],default:0},gasPrice:{type:String,default:"0"},activeShow:{type:Number,default:0},swapQuoteInfo:{type:Object,default:()=>({})}},emits:["update:visible","submit"],setup(e,{emit:l}){const a=e,t=l,n=R(!1),o=c({get:()=>a.visible,set(e){t("update:visible",e)}}),s=c(()=>{var e,l,t,n;const o=(null==(l=null==(e=a.swapInfo)?void 0:e.toToken)?void 0:l.decimals)||0,s=null==(t=a.swapInfo)?void 0:t.toAmount;return Q(s?new Ae(s||0).times(100-Number(a.slippage)).div(100).toFixed():wl(new Ae((null==(n=a.swapInfo)?void 0:n.toTokenAmount)||0).times(100-Number(a.slippage)).div(100).toFixed(0),o))}),i=c(()=>{var e,l,t,n;const o=(null==(l=null==(e=a.swapInfo)?void 0:e.fromToken)?void 0:l.decimals)||0,s=null==(t=a.swapInfo)?void 0:t.fromAmount;return Q(s?new Ae(s||0).times(100+Number(a.slippage)).div(100).toFixed():wl(new Ae((null==(n=a.swapInfo)?void 0:n.fromTokenAmount)||0).times(100+Number(a.slippage)).div(100).toFixed(0),o))}),r=c(()=>{var e;return(null==(e=a.swapInfo)?void 0:e.swapRouterPath)||[]});function u(e,l){return!e||!l||isNaN(Number(e))||isNaN(Number(l))?"0":Q(new Ae(l).div(e).toFixed())||"0"}function v(){t("submit")}function A(){o.value=!1;const e=Z(a.chain,a.swapInfo.transaction,"tx");window.open(e)}return d(()=>a.visible,e=>{e&&(n.value=!1)}),(l,t)=>{const d=he,c=y,N=ke,$=Pl,F=Ue,V=p("copy");return h(o)?(x(),m(F,{key:0,modelValue:h(o),"onUpdate:modelValue":t[0]||(t[0]=e=>B(o)?o.value=e:null),width:"446px","destroy-on-close":""},{header:b(()=>[1===e.activeShow?(x(),w("span",Qh,_(l.$t("swap")),1)):2===e.activeShow?(x(),w("span",Kh,_(l.$t("waitForConfirming")),1)):3===e.activeShow?(x(),w("span",Xh,_(l.$t("tradeSubmitted")),1)):f("",!0)]),default:b(()=>{var o,p,y,F,B,D,M,P,E,U,R,O,H,j,z,W,q;return[1==e.activeShow?(x(),w(T,{key:0},[k("ul",Zh,[k("li",Jh,[k("div",ex,[k("div",lx,[k("span",ax,_(l.$t("sell")),1),k("img",{class:"icon-token",src:("getSymbolDefaultIcon"in l?l.getSymbolDefaultIcon:h(fe))({symbol:e.swapInfo.fromToken.symbol||"",logo_url:e.swapInfo.fromToken.logo_url||"",chain:e.swapInfo.fromToken.chain||a.chain||""}),alt:"",onerror:"this.src='/icon-default.png'",height:"20"},null,8,tx),k("span",nx,_(e.swapInfo.fromToken.symbol),1)]),k("div",{class:"header-li_right",innerHTML:h(Q)((null==(o=e.swapInfo)?void 0:o.fromAmount)||("formatUnits"in l?l.formatUnits:h(wl))(e.swapInfo.fromTokenAmount||0,e.swapInfo.fromToken.decimals))||"0"},null,8,ox)]),k("div",sx,[k("div",ix,[k("span",rx,_(l.$t("buy")),1),k("img",{class:"icon-token",src:("getSymbolDefaultIcon"in l?l.getSymbolDefaultIcon:h(fe))({symbol:e.swapInfo.toToken.symbol||"",logo_url:e.swapInfo.toToken.logo_url||"",chain:e.swapInfo.toToken.chain||a.chain||""}),alt:"",onerror:"this.src='/icon-default.png'",height:"20"},null,8,ux),k("span",dx,_(e.swapInfo.toToken.symbol),1)]),k("div",{class:"header-li_right",innerHTML:h(Q)((null==(p=e.swapInfo)?void 0:p.toAmount)||("formatUnits"in l?l.formatUnits:h(wl))(e.swapInfo.toTokenAmount||0,e.swapInfo.toToken.decimals))||"0"},null,8,cx)])]),k("li",vx,[k("div",px,_(l.$t("price")),1),k("div",mx,[k("div",{class:"p-item",innerHTML:`1 ${e.swapInfo.fromToken.symbol} = ${u((null==(y=e.swapInfo)?void 0:y.fromAmount)||("formatUnits"in l?l.formatUnits:h(wl))(e.swapInfo.fromTokenAmount||0,e.swapInfo.fromToken.decimals),(null==(F=e.swapInfo)?void 0:F.toAmount)||("formatUnits"in l?l.formatUnits:h(wl))(e.swapInfo.toTokenAmount||0,e.swapInfo.toToken.decimals))} ${e.swapInfo.toToken.symbol}`},null,8,fx),k("div",{class:"p-item",innerHTML:`1 ${e.swapInfo.toToken.symbol} = ${u((null==(B=e.swapInfo)?void 0:B.toAmount)||("formatUnits"in l?l.formatUnits:h(wl))(e.swapInfo.toTokenAmount||0,e.swapInfo.toToken.decimals),(null==(D=e.swapInfo)?void 0:D.fromAmount)||("formatUnits"in l?l.formatUnits:h(wl))(e.swapInfo.fromTokenAmount||0,e.swapInfo.fromToken.decimals))} ${e.swapInfo.fromToken.symbol}`},null,8,hx)])]),e.swapInfo.fromToken.isWrapper&&e.swapInfo.toToken.isETH||e.swapInfo.toToken.isWrapper&&e.swapInfo.fromToken.isETH?f("",!0):(x(),w("li",xx,[k("div",bx,_(l.$t("slippage")),1),k("div",kx,_(e.slippage)+"%",1)])),e.swapInfo.gasValue&&"tron"!==e.chain&&"solana"!==e.chain?(x(),w("li",gx,[k("div",_x,_(l.$t("estimatedGas")),1),k("div",yx,"≈ $"+_((q=e.swapInfo.gasValue,q&&Number(new Ae(q.toString()).times(a.nativePrice).times(a.gasPrice).div(String(10**18)).toFixed(2))||"0")),1)])):f("",!0),e.swapInfo.fromToken.isWrapper&&e.swapInfo.toToken.isETH||e.swapInfo.toToken.isWrapper&&e.swapInfo.fromToken.isETH?f("",!0):(x(),w(T,{key:2},[e.swapInfo.isAmountOut?(x(),w("li",Ax,[k("div",Sx,_(l.$t("maximumReceived")),1),k("div",Nx,_(h(i))+" "+_(null==(U=null==(E=e.swapInfo)?void 0:E.fromToken)?void 0:U.symbol),1)])):(x(),w("li",wx,[k("div",Tx,_(l.$t("minimumReceived")),1),k("div",Cx,_(h(s))+" "+_(null==(P=null==(M=e.swapInfo)?void 0:M.toToken)?void 0:P.symbol),1)]))],64)),k("li",$x,[k("div",Ix,_(l.$t("tokenRoute")),1),e.swapInfo.fromToken.isWrapper&&e.swapInfo.toToken.isETH||e.swapInfo.toToken.isWrapper&&e.swapInfo.fromToken.isETH?(x(),w("div",Dx,[(x(!0),w(T,null,C(h(r),(e,l)=>(x(),w(T,{key:l},[0!==l?(x(),w("img",Mx)):f("",!0),e.symbol?(x(),w("span",Px,_(e.symbol),1)):f("",!0)],64))),128))])):(x(),w("div",Fx,[(x(!0),w(T,null,C(h(r),(e,a)=>(x(),w(T,{key:a},[e.symbol?(x(),w("span",Lx,_(e.symbol),1)):f("",!0),k("div",Vx,[e.nextAmm&&"unknown"!==e.nextAmm?(x(),m(d,{key:0,src:("formatIconSwap"in l?l.formatIconSwap:h(Ce))(e.nextAmm),style:{width:"14px",height:"14px","border-radius":"10px","margin-bottom":"3px"}},{error:b(()=>[...t[1]||(t[1]=[k("img",{style:{width:"14px","border-radius":"10px"},src:ro},null,-1)])]),placeholder:b(()=>[...t[2]||(t[2]=[k("img",{style:{width:"14px","border-radius":"10px"},src:ro},null,-1)])]),_:1},8,["src"])):f("",!0),a!==h(r).length-1?(x(),w("img",Bx)):f("",!0)])],64))),128))]))]),(null==(R=e.swapInfo)?void 0:R.transaction)?(x(),w("li",Ex,[k("div",Ux,_(l.$t("txHash")),1),k("div",Rx,[k("a",{href:("formatExplorerUrl"in l?l.formatExplorerUrl:h(Z))(e.chain,e.swapInfo.transaction,"tx"),target:"_blank"},_((null==(H=null==(O=e.swapInfo)?void 0:O.transaction)?void 0:H.slice(0,6))+"..."+(null==(z=null==(j=e.swapInfo)?void 0:j.transaction)?void 0:z.slice(-6))),9,Ox),g(S(c,{name:"bxs:copy",class:"clickable ml-5px"},null,512),[[V,null==(W=e.swapInfo)?void 0:W.transaction]])])])):f("",!0)]),k("div",Hx,[S(N,{class:"swap-button w-full",type:"primary",size:"large",loading:e.loading,"loading-text":l.$t("confirming"),block:"",disabled:h(n),onClick:L(v,["stop"])},{default:b(()=>[I(_(l.$t("confirm")),1)]),_:1},8,["loading","loading-text","disabled"])])],64)):2===e.activeShow?(x(),w("div",jx,[S($,{size:110,color:"#747782",style:{animation:"rotating 2s linear infinite normal"}},{default:b(()=>[S(h(Ol))]),_:1}),k("span",zx,_(l.$t("plsConfirmWallet")),1)])):3===e.activeShow?(x(),w(T,{key:2},[k("div",Wx,[S(c,{name:"lineicons:arrow-up-circle",class:"text-110px"}),k("span",qx,_(l.$t("plsViewBlockChainExplorer")),1)]),k("div",Gx,[S(N,{class:"swap-button w-full",type:"primary",size:"large",block:"",onClick:L(A,["stop"])},{default:b(()=>[I(_(l.$t("viewTransition")),1)]),_:1})])],64)):f("",!0)]}),_:1},8,["modelValue"])):f("",!0)}}}),[["__scopeId","data-v-69f3fc84"]]),Qx=Hl("swap",()=>{const e=jl("swap_token1",{address:"",symbol:"",logo_url:"",chain:"",balance:0,decimals:0}),l=jl("swap_token2",{address:"",symbol:"",logo_url:"",chain:"",balance:0,decimals:0}),a=W(),t=j(),n=v(0),o=R(2),s=c(()=>0===n.value?l.value:e.value),u=c(()=>0===n.value?e.value:l.value),d=R(t.tokenInfo),p=R(t.tokenInfoExtra),m=i(),f=c(()=>a.chain||r(m.params.id).chain||""),h=R([]),x=c(()=>{var e,l,a,t,n,o;const s=[...(null==(l=null==(e=h.value)?void 0:e.slice)?void 0:l.call(e))||[]];return(null==(a=null==s?void 0:s[0])?void 0:a.chain)&&(null==(t=null==s?void 0:s[0])?void 0:t.chain)!==(null==(o=null==(n=k.value)?void 0:n[0])?void 0:o.chain)?s:(k.value.slice().forEach(e=>{const l=s.find(l=>l.token+"-"+l.chain==e.token+"-"+e.chain);l?l.logo_url=e.logo_url:s.push({...e,value:0})}),s.length>0?s:k.value.slice())}),b=R("0"),k=v([]),g=R(!1),_=R(!1),y=R(!1),w=R(!1),T=R(!1),C=R(0),A=R(!1),S=R(!1),N=R(!1),$=R(!1),I=R(""),F=R(0),L=R(""),V=R("");function B(){const l=W();if(e.value.chain===l.chain)return zl({tokenAddress:e.value.address,chain:l.chain,spender:Wl(l.chain)}).then(async l=>{var a,t;if(null==l?void 0:l.address)return e.value={...e.value,...l},1===n.value&&(b.value=e.value.allowance||"0"),h.value=null==(t=null==(a=h.value)?void 0:a.map)?void 0:t.call(a,a=>(a.token===e.value.address&&(a={...a,...l,value:l.balance}),a)),l})}function D(){const e=W();if(l.value.chain===e.chain)return zl({tokenAddress:l.value.address,chain:e.chain,spender:Wl(e.chain)}).then(async e=>{var a,t;if(null==e?void 0:e.address)return l.value={...l.value,...e},0===n.value&&(b.value=l.value.allowance||"0"),h.value=null==(t=null==(a=h.value)?void 0:a.map)?void 0:t.call(a,a=>(a.token===l.value.address&&(a={...a,...e,value:e.balance}),a)),e})}function M(){const e=W(),l=e.chain,a=e.address;a&&l&&ql().then(e=>{var t,n,o,s;h.value="solana"===l||"ton"===l||"sui"===l?null==(t=null==e?void 0:e.map)?void 0:t.call(e,e=>({...e})):null==(s=(null==(o=null==(n=null==e?void 0:e.map(e=>({...e,id:e.token+"-"+e.chain,address:e.token})))?void 0:n.filter)?void 0:o.call(n,e=>(e.risk_score||0)<60&&(e.risk_level||0)>=0&&"blacklist"!==e.flag&&""!==e.symbol&&"lp"!==e.flag))||[])?void 0:s.filter(e=>!!Number(e.value)),h.value.length>0&&"solana"!==l&&"sui"!==l&&"ton"!==l&&(/^0x[0-9a-zA-Z]{40}$/.test(a)||Gl(a,"tron"))&&Yl(h.value.map(e=>e.token||""),l).then(e=>{var l,a,t;h.value=null==(t=null==(a=null==(l=h.value)?void 0:l.map)?void 0:a.call(l,(l,a)=>({...l,value:wl(e[a],(null==l?void 0:l.decimals)||0)})))?void 0:t.filter(e=>!!Number(e.value))})})}function P(a,n){var o,s,i,u;let c=e.value.address,v=e.value.chain;if(!c||!v)return;const f=c+"-"+v;if(e.value.address&&(c=e.value.address),e.value.chain&&(v=e.value.chain),e.value.address===(null==(o=t.token)?void 0:o.token)&&(d.value={...t.tokenInfo},e.value={...e.value,address:(null==(i=null==(s=d.value)?void 0:s.token)?void 0:i.token)||"",...null==(u=d.value)?void 0:u.token}),c&&v){let t=c+"-"+v;const o=Ye(v),s=null==o?void 0:o.wmain_wrapper,i=null==o?void 0:o.main_name;c===Ge&&v&&s&&(t=s+"-"+v);const u=Ql(t).then(async t=>{var n,o,s,u,p,f,h,x,b,y,B,D,M,P,E,U,R,O,H,j,z;const W=t||{};d.value={...W,...c===Ge?{token:{...(null==t?void 0:t.token)||{},token:c,symbol:i}}:{}},e.value={...e.value,address:(null==(o=null==(n=d.value)?void 0:n.token)?void 0:o.token)||"",...null==(s=d.value)?void 0:s.token},"solana"===v?F.value=(null==(u=d.value)?void 0:u.token.current_price_usd)?Q(d.value.token.current_price_usd):"":(L.value=(null==(p=d.value)?void 0:p.token.current_price_usd)?Q(null==(h=null==(f=d.value)?void 0:f.token)?void 0:h.current_price_usd):"",V.value=(null==(x=d.value)?void 0:x.token.current_price_usd)?Q(null==(y=null==(b=d.value)?void 0:b.token)?void 0:y.current_price_usd):"");const q=null==(B=null==t?void 0:t.pairs)?void 0:B[0],G=null==q?void 0:q.pair;if(!G||"moonshot"===(null==q?void 0:q.amm)||(null==(D=null==q?void 0:q.amm)?void 0:D.includes("fourmeme"))||"flapswap"===(null==q?void 0:q.amm)||"sunpump"===(null==q?void 0:q.amm)||"dyorswapfun"===(null==q?void 0:q.amm)||(null==q?void 0:q.target_token)!==G&&!new RegExp(null==q?void 0:q.target_token,"i").test(G))g.value=!1;else if(g.value=!0,l.value.address!==Ge&&(null==(M=k.value)?void 0:M.length)>0){const e={...null==(E=null==(P=k.value)?void 0:P.slice())?void 0:E.find(e=>e.address===Ge)};l.value={...e},setTimeout(()=>{a&&a(l.value)},1e3)}(null==(U=null==q?void 0:q.amm)?void 0:U.includes("fourmeme"))?w.value=!0:w.value=!1,"dyorswapfun"===(null==q?void 0:q.amm)&&(null==(O=null==(R=["xlayer","gatelayer"])?void 0:R.includes)?void 0:O.call(R,null==q?void 0:q.chain))?A.value=!0:A.value=!1,"xflapswap"===(null==q?void 0:q.amm)&&"xlayer"===(null==q?void 0:q.chain)?S.value=!0:S.value=!1,"flapswap"===(null==q?void 0:q.amm)?T.value=!0:T.value=!1;const Y=["TPeoxx1VhUMnAUyjwWfximDYFDQaxNQQ45","TXL6rJbvmjD46zeN1JssfgxvSo99qC8MRT","TAwAg9wtQzTMFsijnSFotJrpxhMm3AqW1d"];return"sunpump"===(null==q?void 0:q.amm)?C.value=1:(null==(H=null==t?void 0:t.pairs)?void 0:H.some(e=>"sunpump"===e.amm))||(null==(j=null==Y?void 0:Y.includes)?void 0:j.call(Y,c))?C.value=2:C.value=0,(null==(z=null==q?void 0:q.amm)?void 0:z.includes("cookpump"))?N.value=!0:N.value=!1,"popmefun"===(null==q?void 0:q.amm)?$.value=!0:$.value=!1,I.value=(null==q?void 0:q.amm)||"",function(a){return new Promise(t=>{var n;const o=(null==(n=m.params)?void 0:n.id)||"";let[s,i]=r(o,1);e.value.address&&(s=e.value.address),e.value.chain&&(i=e.value.chain),s&&"solana"===i?Xl(s).then(e=>{var n,o,s;if(!1===(null==e?void 0:e.completed)){if("So11111111111111111111111111111111111111112"!==l.value.address&&(null==(n=k.value)?void 0:n.length)>0){const e={...null==(s=null==(o=k.value)?void 0:o.slice())?void 0:s.find(e=>"So11111111111111111111111111111111111111112"===e.address)};l.value={...e},setTimeout(()=>{a&&a(e)},1e3)}t(!0)}else _.value=!1,t(!1)}):(_.value=!1,t(!1))})}(a).catch(async()=>!1),t}),h=Kl(f).then(async e=>(p.value={...e,buy_tax:Number(Number((null==e?void 0:e.buy_tax)||0).toFixed(2)),sell_tax:Number(Number((null==e?void 0:e.sell_tax)||0).toFixed(2))},n&&n(),e));Promise.all([u,h]).finally(()=>{})}}return{token1:e,token2:l,chain:f,fromToken:s,toToken:u,baseToken:d,baseTokenExtra:p,allowance:b,activeTab:n,swapType:o,isFourMeme:w,isFlap:T,isPump:_,isMoonshot:y,isERC314:g,isSunPump:C,isDyorswapfun:A,isXflapswap:S,isCookPump:N,isPopMeFun:$,userBalanceTokens:h,getTokenDetails:function(){B(),D()},getToken2Info:D,getToken1Info:B,getBaseToken:P,swapTokens:x,init:function(t){var n;const[o,s]=r(t||(null==(n=m.params)?void 0:n.id),1),i=a.chain;o&&o!==e.value.address&&(e.value={address:o||"",chain:s||"",balance:0,symbol:"",decimals:0,logo_url:""}),i===l.value.chain&&l.value.address||(l.value={address:"",chain:i||"",balance:0,symbol:"",decimals:0,logo_url:""}),function(t){const n=a.chain||r(m.params.id).chain||"";Zl().then(a=>{var o,s,i,r,u,d,c,v;k.value=(null==a?void 0:a.map(e=>({...e,id:e.token+"-"+e.chain,address:e.token,decimals:e.token===Ge&&"solana"===n?9:e.decimals})))||[],"solana"===n&&(k.value=null==(s=null==(o=k.value)?void 0:o.filter)?void 0:s.call(o,e=>e.token!==Ge).sort(e=>"So11111111111111111111111111111111111111112"===e.token?-1:1)),"sui"===n&&(k.value=null==(d=null==(u=null==(r=null==(i=k.value)?void 0:i.filter)?void 0:r.call(i,e=>e.token!==Ge))?void 0:u.map)?void 0:d.call(u,e=>({...e,token:"0x2::sui::SUI"===e.token?Ge:e.token,address:"0x2::sui::SUI"===e.token?Ge:e.token})).sort(e=>e.token===Ge?-1:1));const p=e.value.address===l.value.address,m=(g.value||w.value||T.value||C.value>0||A.value||S.value||N.value||$.value)&&l.value.address!==Ge,f=(_.value||y.value)&&"solana"===n&&"So11111111111111111111111111111111111111112"===l.value.address,h="sui"===n&&"0x2::sui::SUI"!==l.value.address&&l.value.address!==Ge;if((!l.value.address||p||l.value.chain!==n||m||f||h)&&k.value.length>0){let a=k.value.findIndex(e=>/USDT/.test(e.symbol));a=a<0?k.value.findIndex(e=>/USD/.test(e.symbol)):a,a=a<0?0:a;let t=k.value[a];if(e.value.address===t.address&&(t=0===a?k.value[1]??k.value[0]:k.value[0]),g.value||_.value||y.value||w.value||T.value||C.value>0||h||A.value||S.value||N.value||$.value){const e=null==(v=null==(c=k.value)?void 0:c.slice)?void 0:v.call(c).find(e=>e.address===Ge||"So11111111111111111111111111111111111111112"===e.address||"0x2::sui::SUI"===e.address);e&&(l.value={...e})}else l.value={...t}}t&&t()})}(()=>{D()}),M(),Zl(),P(),B()},getUserTokenList:M}}),Kx={key:0,class:"gap"},Xx=["onClick"],Zx={class:"text"},Jx=M(o({__name:"percentStep",props:{activeColor:{type:String,default:""}},emits:["change"],setup(e,{expose:l,emit:a}){const t=a,n=R(0),o=[25,50,75,100],s=(e,l=!1)=>{e===n.value?(n.value=0,t("change",0,l)):(n.value=e,t("change",e,l))};return l({handleClick:s}),(l,a)=>(x(),w("div",{class:"percent-container",style:N({"--percent-active-color":e.activeColor})},[k("div",{for:"percent-radio-0",class:V({active:0===h(n)})},null,2),(x(),w(T,null,C(o,(e,l)=>(x(),w(T,{key:l},[0!==l?(x(),w("div",Kx)):f("",!0),k("div",{class:V(["label",{active:e===h(n)}]),onClick:L(l=>s(e),["stop"])},[a[0]||(a[0]=k("div",{class:"bar"},null,-1)),k("div",Zx,_(e)+"%",1)],10,Xx)],64))),64))],4))}}),[["__scopeId","data-v-9ac60cd3"]]),eb={class:"card-container mt-10px"},lb={class:"flex items-center"},ab=["innerHTML"],tb={class:"flex justify-between items-center mt-10px"},nb={class:"card-container bottom mt-10px"},ob={class:"flex items-center"},sb=["innerHTML"],ib={class:"flex justify-between items-center mt-10px"},rb={key:0},ub={key:1},db=["innerHTML"],cb={class:"swap-label"},vb={class:"slippage-container"},pb={class:"swap-label_item-left"},mb={style:{display:"flex","align-items":"center"}},fb={class:"swap-label_item-left"},hb={class:"swap-label_item-left"},xb={key:0},bb={key:0,style:{width:"0.3rem",margin:"0.02rem 0.1rem 0"},src:Xf,alt:"",srcset:""},kb={key:1},gb={key:1,class:"path-list"},_b={key:0},yb={key:1,class:"path-amm"},wb=["src"],Tb={key:2},Cb={key:0,style:{width:"15px",margin:"1px 5px 0"},src:Xf,alt:"",srcset:""},Ab={key:1},Sb={key:0},Nb={key:1,class:"path-amm"},$b=["src"],Ib={key:0,class:"select-token iconfont icon-collapse-down"},Fb={key:0},Lb={class:"swap-label_item-left"},Vb="2",Bb=M(o({__name:"market",setup(e){const{t:l}=s(),a=de(),n=Qx(),o=j(),r=W(),u=R(!1),p=R(!1),A=R(!1),$=c(()=>n.chain),F=R(!1),V=R(!1),D=R(Vb),M=ie("swapSlippage","auto"),P=ie("solanaSlippage","9"),E=ie("suiTonSlippage","2"),U=R(!1),O=R(!1),H=R(!1),q=Ll("percentStepInf"),G=R([]),Y=R(!1),K=R(0),X=R(0),Z=R(0),J=R([0,0]),ee=R(!1),le=R({fromToken:{symbol:"",decimals:18,address:"",logo_url:""},toToken:{symbol:"",decimals:18,address:"",logo_url:""},gasValue:"0",swapRouterPath:[],isAmountOut:!1});let ae={},te={},ne={};const se=R("0"),re=R("0"),ce=c(()=>{const e=le.value.gasValue;if(!e)return"0";const l=se.value,a=re.value;return Q(new Ae(e.toString()).times(a).times(l).div(String(10**18)).toFixed()||"0",2)}),ve=R({}),pe=c(()=>"auto"===M.value?D.value:M.value),me=c(()=>{if(["solana","ton","sui"].includes(n.chain)||n.fromToken.address===Ge)return!0;if(!n.allowance)return!1;const e=n.fromToken.decimals||0;return ea(new Ae(Ie.value||0).toFixed(Number(e)||0),e).lte(n.allowance)}),fe=c(()=>{if(!Number(Ie.value)&&!Number(Fe.value))return"";const e=n.chain;if("solana"===e)return new Ae(K.value||0);if("sui"===e)return new Ae(X.value||0);if("ton"===e)return new Ae(Z.value||0);const l=Ce.value.routerPath,a=(null==l?void 0:l.length)>0?null==l?void 0:l[0]:Ce.value.fromToken||null,t=(null==l?void 0:l.length)>0?null==l?void 0:l[l.length-1]:Ce.value.toToken||null;if(a&&t){const e=Ce.value.from_price||0,l=Ce.value.to_price||0,n=wl(a.amount,a.decimals),o=wl(t.amount,t.decimals);return new Ae(n).times(e).div(new Ae(o).times(l)).minus(1).abs()}return""}),he=c(()=>fe.value?Q(fe.value.times(100).toFixed(),2)+"%":""),xe=c(()=>{var e,l,a,t,n,o;return""===fe.value?"":(null==(l=null==(e=fe.value)?void 0:e.gt)?void 0:l.call(e,.4))?"#F81111":(null==(t=null==(a=fe.value)?void 0:a.gt)?void 0:t.call(a,.1))?"#F7933F":(null==(o=null==(n=fe.value)?void 0:n.gt)?void 0:o.call(n,.05))?"#f8be46":""}),be=c(()=>{var e,l,a,t;if(!r.address||!r.provider)return"#999";if(""!==fe.value){if(null==(l=null==(e=fe.value)?void 0:e.gt)?void 0:l.call(e,.4))return"#999";if(null==(t=null==(a=fe.value)?void 0:a.gt)?void 0:t.call(a,.1))return"#F7933F"}return 0===n.activeTab?we[0]:1===n.activeTab?Te[0]:"#558BED"}),ge=c(()=>{var e,a,t,o,s,i,r;const u=(null==(e=Ce.value)?void 0:e.totalTax)||((null==(a=Ce.value)?void 0:a.total_sell_tax)||0)+((null==(t=Ce.value)?void 0:t.total_buy_tax)||0);return u>0?`(${l("tax")}: ${Q(u,1)}%)`:0===n.activeTab&&((null==(o=n.baseTokenExtra)?void 0:o.buy_tax)||0)>0?`(${l("tax")}: ${Q((null==(s=n.baseTokenExtra)?void 0:s.buy_tax)||0,1)}%)`:1===n.activeTab&&((null==(i=n.baseTokenExtra)?void 0:i.sell_tax)||0)>0?`(${l("tax")}: ${Q((null==(r=n.baseTokenExtra)?void 0:r.sell_tax)||0,1)}%)`:""}),ye=v([]),Ce=R({fromToken:{symbol:"",decimals:18,amount:"",address:""},toToken:{symbol:"",decimals:18,amount:"",address:""},fromAmount:"",isAmountOut:!1,isSunPump:0}),Se=R([]),Ne=i();d(()=>Ne.params.id,()=>{Ie.value="",Fe.value=""});const $e=R(0),Ie=R(""),Fe=R(""),Le=R(0),Ve=R(!1),Be=c(()=>{var e,l,a,t,s,i,r,u,d;const c=(null==(l=null==(e=null==o?void 0:o.pairs)?void 0:e[0])?void 0:l.amm)&&(null==(s=["fourmeme","fourmemev2"])?void 0:s.includes(null==(t=null==(a=null==o?void 0:o.pairs)?void 0:a[0])?void 0:t.amm)),v=(null==(r=null==(i=null==o?void 0:o.pairs)?void 0:i[0])?void 0:r.amm)&&["viridian","aerodrome","flapswap"].includes(null==(d=null==(u=null==o?void 0:o.pairs)?void 0:u[0])?void 0:d.amm);return"ton"===n.chain||"sui"===n.chain||v||c||n.isDyorswapfun||n.isXflapswap||n.isCookPump||n.isPopMeFun}),De=c(()=>{var e,l,a;if("ton"===$.value){const t=(null==ne?void 0:ne.totalTransferAmount)||0,o=(null==(a=null==(l=null==(e=n.userBalanceTokens)?void 0:e.find)?void 0:l.call(e,e=>e.address===Ge))?void 0:a.initBalance)||0;if(t&&new Ae(t).gt(o))return!0}return!1}),{reset:Me,start:Pe}=Jl(15,{immediate:!0,onComplete:()=>{!function(){if(2!==n.swapType||n.token1.address===n.token2.address)return;if(ee.value||V.value||"hidden"===document.visibilityState)return void Ee();A.value?ze():We();Ee()}()}});function Ee(){Me(15),Pe()}function Ue(){Ee(),Ve.value&&me.value&&!ee.value&&dl(!1)}function Re(){ye.value=[],Ce.value.totalTax=0,Ce.value.total_sell_tax=0,Ce.value.total_buy_tax=0,D.value=Vb,$e.value=0,Ie.value="",Fe.value="",n.getToken1Info(),n.getBaseToken(Oe,sl)}function Oe(){ye.value=[],Ce.value.totalTax=0,Ce.value.total_sell_tax=0,Ce.value.total_buy_tax=0,D.value=Vb,$e.value=0,Ie.value="",Fe.value="",n.getToken2Info()}function He(){var e,l;const a=n.chain;if("solana"!==a){if(a&&a===n.fromToken.chain&&n.fromToken.address){let t=n.isFourMeme?null==(l=null==(e=Ce.value)?void 0:e.quoteResult)?void 0:l.tokenManager:Wl(a);const o=["","TTfvyrAz86hbZk5iDpKD78pqLGgi8C7AAw","TZFs5ch1R1C4mmjwrrmZqeqbUgGpxY1yWB"][n.isSunPump];t=o||t,"xlayer"===a&&n.isDyorswapfun&&(t="0xfd947a61e2c54413031ddb1f754dbe0e696efa09"),"xlayer"===a&&n.isXflapswap&&(t="0xb30d8c4216e1f21f27444d2ffaee3ad577808678"),"gatelayer"===a&&n.isDyorswapfun&&(t="0xC5d6974951201FB5f20C0efB4B6BEF5cf8FF1617"),"juchain"===a&&n.isCookPump&&(t="0xaF2F76f06E27BE138Bd5310ec6553E2c93ec19F4"),"popchain"===a&&n.isPopMeFun&&(t="0x198C8099E0c2CE323a5513769e294f349B015cEE"),u.value=!0,la(n.fromToken.address,t).then(e=>{n.allowance=e.toString()}).finally(()=>{u.value=!1})}}else n.allowance=Ke}function je(e,a=!1){var t,o,s,i;if(a)return;const r=Number(e)/100;let u=n.fromToken.balance||0;if(r){const e=n.fromToken.decimals||0;if((null==(t=n.fromToken)?void 0:t.address)===Ge||"So11111111111111111111111111111111111111112"===(null==(o=n.fromToken)?void 0:o.address)){const a=n.fromToken.chain,t=aa[a]||.01;if(new Ae(u).lt(t))return void oe.alert(l("balanceNotEnough",{n:t,s:n.fromToken.symbol}),l("tips"));u=(null==(s=new Ae(u).minus(t).times(r).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${e}})?`)))?void 0:s[0])||""}else u=(null==(i=new Ae(u).times(r).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${e}})?`)))?void 0:i[0])||"";0===Number(u)&&(u="")}else u="";Ie.value!==u&&(Ie.value=Number(u)<0?"0":u,ze())}function ze(){if(p.value&&!A.value)return;const e=Ie.value,l=Number(e);""===e||"."===e?(Ie.value="",Fe.value="",p.value=!1):0===l&&0!==Number(Fe.value)?(Fe.value="0",p.value=!1):l&&(A.value=!0,Fe.value="",Qe())}function We(){if(p.value&&!A.value)return;const e=Fe.value,l=Number(e);""===e||"."===e?(Ie.value="",Fe.value="",p.value=!1):0===l&&0!==Number(Ie.value)?(Ie.value="0",p.value=!1):l&&(A.value=!1,Ie.value="",Qe(!1))}let qe=null;function Qe(e=!0){ol()&&(Number(Ie.value)||Number(Fe.value)?n.token1.address!==n.token2.address&&(qe&&(clearTimeout(qe),qe=null),qe=setTimeout(()=>{!async function(e,l){var a,t,o,s,i,u,d,c,v,m,f,h,x,b,k,g,_,y,w,T,C,A,S,N,$,I,L,V,B,D,M,U,R,O,H,j,z,W,q,G,Y,Q,K,X,Z,J,ee,oe,se,ie,re,ue,de,ce,fe,he,xe,be,ke,ge,_e,we,Te,Ne,$e,Le,Ve,Be,De,Me,Pe,Ee,Re,Oe,je,ze,We,qe,Ye,Qe,Ke,ol;if((Ie.value||Fe.value)&&n.fromToken.address&&n.toToken.address&&l===n.fromToken.chain){const il=n.fromToken.decimals,rl=n.toToken.decimals;if("sui"===l)return void async function(e,l){var a,t,o;if("sui"===l){const l=n.fromToken.decimals||(null==(a=n.fromToken)?void 0:a.decimal),s=n.toToken.decimals||(null==(t=n.toToken)?void 0:t.decimal),i=n.fromToken.address===Ge?new Ae(Ie.value||0).times("0.997"):new Ae(Ie.value||0),r={tokenIn:n.fromToken.address===Ge?"0x2::sui::SUI":n.fromToken.address,tokenOut:n.toToken.address,amountIn:ea((null==(o=i.toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${l}})?`)))?void 0:o[0])||0,l).toFixed(0),slippage:new Ae(E.value).div(100).toNumber()};p.value=!0,va(r).then(l=>{var a,t;return l.returnAmount&&l.returnAmountWithDecimal||l.amount_out?(ae=l,e&&(Fe.value=(null==l?void 0:l.returnAmount)||wl((null==l?void 0:l.amount_out)||"0",(null==(a=null==l?void 0:l.to_token)?void 0:a.decimals)||s||(null==(t=n.toToken)?void 0:t.decimals))),Ze()):na("can not get quote"),dl(!1),p.value=!1,l}).catch(e=>(na((null==e?void 0:e.error)||e),Promise.resolve(""))).finally(()=>{setTimeout(()=>{p.value=!1,Ue()},800)})}}(e,l);if("solana"===l)return void function(e,l){var a,t;if("solana"===l){if(!!((n.isPump||n.isMoonshot)&&"So11111111111111111111111111111111111111112"!==n.token2.address&&"solana"===n.token2.chain))return;const l=n.fromToken.decimals,o=n.toToken.decimals,s={inputMint:n.fromToken.address,inputDecimals:l,inputMintSymbol:n.fromToken.symbol,inputMintName:n.fromToken.symbol,inputAmount:Ie.value||0,outputMint:n.toToken.address,outputDecimals:o,outputMintSymbol:n.toToken.symbol,outputMintName:n.toToken.symbol,amount:e?ea((null==(a=new Ae(Ie.value||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${l}})?`)))?void 0:a[0])||0,l).toFixed(0):ea((null==(t=new Ae(Fe.value||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${o}})?`)))?void 0:t[0])||0,o).toFixed(0),slippageBps:new Ae(P.value).times(100).toFixed(0),swapMode:e?"ExactIn":"ExactOut",slippage:P.value||9,isPump:n.isPump,isMoonshot:n.isMoonshot};if(Xe.amount&&Object.keys(Xe).every(e=>s[e]===Xe[e]))return;Xe={...s},setTimeout(()=>{Xe={}},15e3),p.value=!0,ma(s).then(a=>{var t,s,i,r,u;return a.routeInfo&&a.transaction?(te=a,Fe.value=(null==(i=null==(s=null==(t=a.routeInfo)?void 0:t.amountOut)?void 0:s.amount)?void 0:i.toFixed())||"0",Ze()):e?a.outAmount?(te=a,Fe.value=wl(a.outAmount||"0",o||(null==(r=n.toToken)?void 0:r.decimals)),Ze()):na("can not get quote"):a.inAmount?(te=a,Ie.value=wl(a.inAmount||"0",l||(null==(u=n.fromToken)?void 0:u.decimals)),Ze()):na("can not get quote"),dl(!1),a}).catch(e=>(na((null==e?void 0:e.error)||e),Promise.resolve(""))).finally(()=>{setTimeout(()=>{p.value=!1,Xe={},Ue()},800)})}}(e,l);if("bsc"===l){if(!!((n.isFourMeme||n.isFlap)&&n.token2.address!==Ge&&"bsc"===n.token2.chain))return}if("tron"===l){if(!!(n.isSunPump>0&&n.token2.address!==Ge&&"tron"===n.token2.chain))return}if("xlayer"===l){if(!!((n.isDyorswapfun||n.isXflapswap||n.isCookPump||n.isPopMeFun)&&n.token2.address!==Ge&&"xlayer"===n.token2.chain))return}if("ton"===l)return void async function(e,l){var a,t,o;if("ton"===l){const l=n.fromToken.decimals||(null==(a=n.fromToken)?void 0:a.decimal),s=n.toToken.decimals||(null==(t=n.toToken)?void 0:t.decimal),i=n.fromToken.address===Ge?new Ae(Ie.value||0).times("0.997"):new Ae(Ie.value||0),r={inputToken:n.fromToken.address,outputToken:n.toToken.address,inputTokenAmount:ea((null==(o=i.toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${l}})?`)))?void 0:o[0])||0,l).toFixed(0),slippageBps:new Ae(E.value).times(100).toFixed(0)};p.value=!0,pa(r).then(l=>{var a;return l.amountOut&&l.payload?(ne=l,e&&(Fe.value=wl(l.amountOut||"0",s||(null==(a=n.toToken)?void 0:a.decimals))),Ze()):na("can not get quote"),dl(!1),p.value=!1,l}).catch(e=>(na((null==e?void 0:e.error)||e),Promise.resolve(""))).finally(()=>{setTimeout(()=>{p.value=!1,Ue()},800)})}}(e,l);p.value=!0;const ul={from_token:n.fromToken.address,to_token:n.toToken.address,amountIn:e?ea((null==(a=new Ae(Ie.value||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${il}})?`)))?void 0:a[0])||0,il).toFixed(0):"0",amountOut:e?"0":ea((null==(t=new Ae(Fe.value||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${rl}})?`)))?void 0:t[0])||0,rl).toFixed(0)};if(n.isFourMeme){try{const a=await ta(ul,l);e?Fe.value=wl((null==a?void 0:a.amountOut)||"0",null==(o=n.toToken)?void 0:o.decimals):Ie.value=wl((null==a?void 0:a.amountIn)||"0",null==(s=n.fromToken)?void 0:s.decimals),ye.value=[{symbol:null==(i=n.fromToken)?void 0:i.symbol,nextAmm:"fourmeme"},{symbol:null==(u=n.toToken)?void 0:u.symbol,nextAmm:""}],Ce.value.fromAmount=ea(Ie.value,null==(d=n.fromToken)?void 0:d.decimals).toFixed(0),Ce.value.toAmount=ea(Fe.value,null==(c=n.toToken)?void 0:c.decimals).toFixed(0),Ce.value.fromToken={...n.fromToken,amount:Ce.value.fromAmount},Ce.value.toToken={...n.toToken,amount:Ce.value.toAmount},Ce.value.quoteResult={...a},Ce.value.isAmountOut=!e,Ce.value.isFourMeme=!0,He();const[t,r]=[(null==(v=n.fromToken)?void 0:v.address)+"-"+(null==(m=n.fromToken)?void 0:m.chain),(null==(f=n.toToken)?void 0:f.address)+"-"+(null==(h=n.toToken)?void 0:h.chain)];el([t,r]).then(async e=>{var l,a;Ce.value.from_price=(null==(l=null==e?void 0:e[0])?void 0:l.current_price_usd)||0,Ce.value.to_price=(null==(a=null==e?void 0:e[1])?void 0:a.current_price_usd)||0,Ce.value.isFourMeme=!0}),p.value=!1}catch(sl){p.value=!1,na(sl)}return}if(n.isDyorswapfun){try{const[a,t]=[(null==(x=n.fromToken)?void 0:x.address)+"-"+(null==(b=n.fromToken)?void 0:b.chain),(null==(k=n.toToken)?void 0:k.address)+"-"+(null==(g=n.toToken)?void 0:g.chain)],o=await el([a,t]),s=(null==(_=null==o?void 0:o[0])?void 0:_.current_price_usd)||0,i=(null==(y=null==o?void 0:o[1])?void 0:y.current_price_usd)||0,r=oa({...ul,from_price:s,to_price:i,pairs:(null==(w=n.baseToken)?void 0:w.pairs)||[]},l);Fe.value=wl(r||"0",null==(T=n.toToken)?void 0:T.decimals),ye.value=[{symbol:null==(C=n.fromToken)?void 0:C.symbol,nextAmm:"dyorswapfun"},{symbol:null==(A=n.toToken)?void 0:A.symbol,nextAmm:""}],Ce.value.fromAmount=ea(Ie.value,null==(S=n.fromToken)?void 0:S.decimals).toFixed(0),Ce.value.toAmount=ea(Fe.value,null==(N=n.toToken)?void 0:N.decimals).toFixed(0),Ce.value.fromToken={...n.fromToken,amount:Ce.value.fromAmount},Ce.value.toToken={...n.toToken,amount:Ce.value.toAmount},Ce.value.isAmountOut=!e,Ce.value.isDyorswapfun=!0,He(),Ce.value.from_price=s,Ce.value.to_price=i,p.value=!1}catch(sl){p.value=!1,na(sl)}return}if(n.isXflapswap){try{const a=await sa(ul,l);e?Fe.value=wl((null==a?void 0:a.toString())||"0",null==($=n.toToken)?void 0:$.decimals):Ie.value=wl((null==a?void 0:a.toString())||"0",null==(I=n.fromToken)?void 0:I.decimals),ye.value=[{symbol:null==(L=n.fromToken)?void 0:L.symbol,nextAmm:"xflapswap"},{symbol:null==(V=n.toToken)?void 0:V.symbol,nextAmm:""}],Ce.value.fromAmount=ea(Ie.value,null==(B=n.fromToken)?void 0:B.decimals).toFixed(0),Ce.value.toAmount=ea(Fe.value,null==(D=n.toToken)?void 0:D.decimals).toFixed(0),Ce.value.fromToken={...n.fromToken,amount:Ce.value.fromAmount},Ce.value.toToken={...n.toToken,amount:Ce.value.toAmount},Ce.value.quoteResult={...a},Ce.value.isAmountOut=!e,Ce.value.isXflapswap=!0,He();const[t,o]=[(null==(M=n.fromToken)?void 0:M.address)+"-"+(null==(U=n.fromToken)?void 0:U.chain),(null==(R=n.toToken)?void 0:R.address)+"-"+(null==(O=n.toToken)?void 0:O.chain)];el([t,o]).then(async e=>{var l,a;Ce.value.from_price=(null==(l=null==e?void 0:e[0])?void 0:l.current_price_usd)||0,Ce.value.to_price=(null==(a=null==e?void 0:e[1])?void 0:a.current_price_usd)||0,Ce.value.isXflapswap=!0}),p.value=!1}catch(sl){p.value=!1,na(sl)}return}if(n.isCookPump){try{const a=await ia(ul,l);e?Fe.value=wl((null==a?void 0:a.toString())||"0",null==(H=n.toToken)?void 0:H.decimals):Ie.value=wl((null==a?void 0:a.toString())||"0",null==(j=n.fromToken)?void 0:j.decimals),ye.value=[{symbol:null==(z=n.fromToken)?void 0:z.symbol,nextAmm:"cookpump"},{symbol:null==(W=n.toToken)?void 0:W.symbol,nextAmm:""}],Ce.value.fromAmount=ea(Ie.value,null==(q=n.fromToken)?void 0:q.decimals).toFixed(0),Ce.value.toAmount=ea(Fe.value,null==(G=n.toToken)?void 0:G.decimals).toFixed(0),Ce.value.fromToken={...n.fromToken,amount:Ce.value.fromAmount},Ce.value.toToken={...n.toToken,amount:Ce.value.toAmount},Ce.value.isAmountOut=!e,Ce.value.isCookPump=!0,He();const[t,o]=[(null==(Y=n.fromToken)?void 0:Y.address)+"-"+(null==(Q=n.fromToken)?void 0:Q.chain),(null==(K=n.toToken)?void 0:K.address)+"-"+(null==(X=n.toToken)?void 0:X.chain)];el([t,o]).then(async e=>{var l,a;Ce.value.from_price=(null==(l=null==e?void 0:e[0])?void 0:l.current_price_usd)||0,Ce.value.to_price=(null==(a=null==e?void 0:e[1])?void 0:a.current_price_usd)||0,Ce.value.isCookPump=!0}),p.value=!1}catch(sl){p.value=!1,na(sl)}return}if(n.isPopMeFun){try{const a=await ra(ul,l);e?Fe.value=wl((null==(Z=null==a?void 0:a.amountOut)?void 0:Z.toString())||"0",null==(J=n.toToken)?void 0:J.decimals):Ie.value=wl((null==(ee=null==a?void 0:a.amountIn)?void 0:ee.toString())||"0",null==(oe=n.fromToken)?void 0:oe.decimals),ye.value=[{symbol:null==(se=n.fromToken)?void 0:se.symbol,nextAmm:"popmefun"},{symbol:null==(ie=n.toToken)?void 0:ie.symbol,nextAmm:""}],Ce.value.fromAmount=ea(Ie.value,null==(re=n.fromToken)?void 0:re.decimals).toFixed(0),Ce.value.toAmount=ea(Fe.value,null==(ue=n.toToken)?void 0:ue.decimals).toFixed(0),Ce.value.fromToken={...n.fromToken,amount:Ce.value.fromAmount},Ce.value.toToken={...n.toToken,amount:Ce.value.toAmount},Ce.value.isAmountOut=!e,Ce.value.isPopMeFun=!0,He();const[t,o]=[(null==(de=n.fromToken)?void 0:de.address)+"-"+(null==(ce=n.fromToken)?void 0:ce.chain),(null==(fe=n.toToken)?void 0:fe.address)+"-"+(null==(he=n.toToken)?void 0:he.chain)];el([t,o]).then(async e=>{var l,a;Ce.value.from_price=(null==(l=null==e?void 0:e[0])?void 0:l.current_price_usd)||0,Ce.value.to_price=(null==(a=null==e?void 0:e[1])?void 0:a.current_price_usd)||0,Ce.value.isPopMeFun=!0}),p.value=!1}catch(sl){p.value=!1,na(sl)}return}if("tron"===l&&n.isSunPump>0){try{const a=await ua({...ul,isSunPump:n.isSunPump},l);e?Fe.value=wl((null==a?void 0:a.amountOut)||"0",null==(xe=n.toToken)?void 0:xe.decimals):Ie.value=wl((null==a?void 0:a.amountIn)||"0",null==(be=n.fromToken)?void 0:be.decimals),ye.value=[{symbol:null==(ke=n.fromToken)?void 0:ke.symbol,nextAmm:"sunpump"},{symbol:null==(ge=n.toToken)?void 0:ge.symbol,nextAmm:""}],Ce.value.fromAmount=ea(Ie.value,null==(_e=n.fromToken)?void 0:_e.decimals).toFixed(0),Ce.value.toAmount=ea(Fe.value,null==(we=n.toToken)?void 0:we.decimals).toFixed(0),Ce.value.fromToken={...n.fromToken,amount:Ce.value.fromAmount},Ce.value.toToken={...n.toToken,amount:Ce.value.toAmount},Ce.value.quoteResult={...a},Ce.value.isAmountOut=!e,Ce.value.isSunPump=n.isSunPump,He();const[t,o]=[(null==(Te=n.fromToken)?void 0:Te.address)+"-"+(null==(Ne=n.fromToken)?void 0:Ne.chain),(null==($e=n.toToken)?void 0:$e.address)+"-"+(null==(Le=n.toToken)?void 0:Le.chain)];el([t,o]).then(async e=>{var l,a;Ce.value.from_price=(null==(l=null==e?void 0:e[0])?void 0:l.current_price_usd)||0,Ce.value.to_price=(null==(a=null==e?void 0:e[1])?void 0:a.current_price_usd)||0,Ce.value.isSunPump=n.isSunPump}),p.value=!1}catch(sl){p.value=!1,na(sl)}return}const cl=null==(Ve=n.baseToken)?void 0:Ve.pairs;if((null==(Be=null==cl?void 0:cl[0])?void 0:Be.target_token)===(null==(De=null==cl?void 0:cl[0])?void 0:De.pair)&&(null==(Me=null==cl?void 0:cl[0])?void 0:Me.pair)&&"xlayer"!==l){const a=await da(ul,l);if(a){e?Fe.value=wl(a||"0",null==(Pe=n.toToken)?void 0:Pe.decimals):Ie.value=wl(a||"0",null==(Ee=n.fromToken)?void 0:Ee.decimals),n.isERC314=!0,ye.value=[{symbol:null==(Re=n.fromToken)?void 0:Re.symbol,nextAmm:null==(Oe=null==cl?void 0:cl[0])?void 0:Oe.amm},{symbol:null==(je=n.toToken)?void 0:je.symbol,nextAmm:""}],Ce.value.fromAmount=ea(Ie.value,null==(ze=n.fromToken)?void 0:ze.decimals).toFixed(0),Ce.value.toAmount=ea(Fe.value,null==(We=n.toToken)?void 0:We.decimals).toFixed(0),Ce.value.fromToken={...n.fromToken,amount:Ce.value.fromAmount},Ce.value.toToken={...n.toToken,amount:Ce.value.toAmount};const[l,t]=[(null==(qe=n.fromToken)?void 0:qe.address)+"-"+(null==(Ye=n.fromToken)?void 0:Ye.chain),(null==(Qe=n.toToken)?void 0:Qe.address)+"-"+(null==(Ke=n.toToken)?void 0:Ke.chain)];return el([l,t]).then(async e=>{var l,a;Ce.value.from_price=(null==(l=null==e?void 0:e[0])?void 0:l.current_price_usd)||0,Ce.value.to_price=(null==(a=null==e?void 0:e[1])?void 0:a.current_price_usd)||0,Ce.value.isERC314=!0}),void(p.value=!1)}}let vl="";if("core"===l&&((null==cl?void 0:cl.length)||0)>0){const e=(null==(ol=null==cl?void 0:cl.find)?void 0:ol.call(cl,e=>{const l=[e.token0_address,e.token1_address];return l.includes(ul.from_token)||l.includes(ul.to_token)}))||(null==cl?void 0:cl[0]),l=(null==e?void 0:e.amm)||"",a={shadowswap:"0x191e94fa59739e188dce837f7f6978d84727ad01"};vl=(null==a?void 0:a[l])||"0x40375c92d9faf44d2f9db9bd9ba41a3317a2404f"}n.isERC314=!1,ca(ul,vl,l).then(e=>{Se.value=e,nl(e),function(){ll&&(clearTimeout(ll),ll=null);ll=setTimeout(()=>{var e,l,a,t,n,o,s,i,u;Je()&&me.value&&r.address&&!F.value&&(((null==(e=Ce.value)?void 0:e.isSunPump)||0)>0?fa(Ce.value,pe.value).then(async e=>{var l;ve.value={...e,isSunPump:null==(l=Ce.value)?void 0:l.isSunPump},le.value=e.swapInfo,le.value.gasValue=e.gasValue,le.value.swapRouterPath=ye.value}).catch(e=>{na(e)}):(null==(l=Ce.value)?void 0:l.isFourMeme)?ha(Ce.value,pe.value).then(async e=>{ve.value={...e,isFourMeme:!0},le.value=e.swapInfo,le.value.gasValue=e.gasValue,le.value.swapRouterPath=ye.value}).catch(e=>{na(e)}):(null==(a=Ce.value)?void 0:a.isERC314)?xa(Ce.value).then(async e=>{ve.value={...e,isERC314:!0},le.value=e.swapInfo,le.value.gasValue=e.gasValue,le.value.swapRouterPath=ye.value}).catch(e=>{na(e)}):(null==(t=Ce.value)?void 0:t.isDyorswapfun)?ba(Ce.value,pe.value).then(async e=>{ve.value={...e,isDyorswapfun:!0},le.value=e.swapInfo,le.value.gasValue=e.gasValue,le.value.swapRouterPath=ye.value}).catch(e=>{na(e)}):(null==(n=Ce.value)?void 0:n.isXflapswap)?ka(Ce.value,pe.value).then(async e=>{ve.value={...e,isXflapswap:!0},le.value=e.swapInfo,le.value.gasValue=e.gasValue,le.value.swapRouterPath=ye.value}).catch(e=>{na(e)}):(null==(o=Ce.value)?void 0:o.isCookPump)?ga(Ce.value,pe.value).then(async e=>{ve.value={...e,isCookPump:!0},le.value=e.swapInfo,le.value.gasValue=e.gasValue,le.value.swapRouterPath=ye.value}).catch(e=>{na(e)}):(null==(s=Ce.value)?void 0:s.isPopMeFun)?_a(Ce.value,pe.value).then(async e=>{ve.value={...e,isPopMeFun:!0},le.value=e.swapInfo,le.value.gasValue=e.gasValue,le.value.swapRouterPath=ye.value}).catch(e=>{na(e)}):(null==(u=null==(i=Ce.value)?void 0:i.routerPath)?void 0:u.length)>0&&(ya(Ce.value,pe.value).then(async e=>{ve.value=e,le.value=e.swapInfo,le.value.gasValue=e.gasValue,le.value.swapRouterPath=ye.value}).catch(e=>{na(e)}),al(),tl()))},3e3)}()}).catch(l=>{na(l),e?Fe.value="":Ie.value=""}).finally(()=>{setTimeout(()=>{p.value=!1,Ue()},800)})}}(e,r.chain||"")},500)):p.value=!1)}let Xe={};function Ze(){const e=n.fromToken.chain,l=n.fromToken.address+"-"+e,a=n.toToken.address+"-"+e;return sessionStorage.swap_tokenPrice===l+"-"+a?(J.value=[0,0],"solana"===e?K.value=0:"ton"===e?Z.value=0:"sui"===e&&(X.value=0)):sessionStorage.swap_tokenPrice=l+"-"+a,el([l,a]).then(async l=>{var a,t;const n=(null==(a=null==l?void 0:l[0])?void 0:a.current_price_usd)||0,o=(null==(t=null==l?void 0:l[1])?void 0:t.current_price_usd)||0;J.value=[n,o];const s=Ie.value||0,i=Fe.value||0,r=Math.abs(Number(s)*n/(Number(i)*o)-1);"solana"===e?K.value=r:"ton"===e?Z.value=r:"sui"===e&&(X.value=r)})}function Je(){var e,l,a;if(!r.provider)return!0;const t=n.fromToken.balance||0,o=(n.isPump||n.isMoonshot)&&"So11111111111111111111111111111111111111112"!==n.token2.address,s=(n.isFourMeme||n.isFlap||n.isDyorswapfun||n.isXflapswap||n.isCookPump||n.isPopMeFun)&&n.token2.address!==Ge,i=n.isSunPump>0&&n.token2.address!==Ge;if("ton"===n.chain){const t=(null==ne?void 0:ne.totalTransferAmount)||0,o=(null==(a=null==(l=null==(e=n.userBalanceTokens)?void 0:e.find)?void 0:l.call(e,e=>e.address===Ge))?void 0:a.initBalance)||0;if(t&&new Ae(t).gt(o))return!1}return!(0===Number(t)||Number(t)<Number(Ie.value)||!r.provider||"0"===String(Ie.value)||n.token1.address===n.token2.address||o||s||i)}let ll=null;function al(){const e=n.token1.chain,l=n.token2.chain,a=r.chain;a&&a===e&&a===l&&wa(a).then(e=>{re.value=e})}function tl(){const e=r.chain;if(["solana","ton","sui","tron"].includes(e))return;const l=n.token1.chain,a=n.token2.chain;e&&l===a&&e===l&&Ta(e).then(e=>{se.value=(null==e?void 0:e.toString())||"0"}).catch(e=>{se.value="0"})}function nl(e=Se.value){var l,a,t,o,s,i,r;const u=e[$e.value],d=e[$e.value].routerPath,c=A.value,v=n.fromToken.decimals,m=n.toToken.decimals;let f=!1;if(c){f=ea((null==(l=new Ae(Ie.value||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${v}})?`)))?void 0:l[0])||"0",v).toFixed(0)===((null==(a=d[0])?void 0:a.amount)||0)}else{f=ea((null==(t=new Ae(Fe.value||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${m}})?`)))?void 0:t[0])||"0",m).toFixed(0)===((null==(o=d[d.length-1])?void 0:o.amount)||0)}if(!f)return;if(1===u.from_cannot_sell_all){const e=new Ae(ea(String(n.fromToken.balance),null==(s=n.fromToken)?void 0:s.decimals).toFixed(0)),l=new Ae(null==u?void 0:u.routerPath[0].amount);U.value=e.gt(0)&&l.div(e).gt(.99999)}else U.value=!1;O.value=((null==u?void 0:u.totalTax)||0)>0||((null==u?void 0:u.total_sell_tax)||0)>0||((null==u?void 0:u.total_buy_tax)||0)>0;const h=function(e){if(!Number(Ie.value)&&!Number(Fe.value))return new Ae(0);const l=e.routerPath,a=(null==l?void 0:l.length)>0?null==l?void 0:l[0]:null,t=(null==l?void 0:l.length)>0?null==l?void 0:l[l.length-1]:null;if(a&&t){const l=e.from_price,n=e.to_price,o=wl(a.amount,a.decimals),s=wl(t.amount,t.decimals);return new Ae(o).times(l).div(new Ae(s).times(n)).minus(1).abs().times(100)}return new Ae(0)}(u);if(O.value||h.gt(.5)){H.value=((null==u?void 0:u.total_sell_tax)||0)+((null==u?void 0:u.total_buy_tax)||0)+1>49.99;const e=u.totalTax||(u.total_sell_tax||0)+(u.total_buy_tax||0),l=Number(h);if("auto"===M.value){let a=e+l+(e>5||l>5?2.5:2);a=Math.max(Math.min(a,49.99),.5),D.value=String(Number(a.toFixed(2)))}}else H.value=!1,"auto"===M.value&&(D.value=Vb);if(Ce.value=u,ye.value=d.map((e,l)=>{var a,t;return{symbol:e.symbol,nextAmm:(null==(t=null==(a=null==u?void 0:u.pair_path)?void 0:a[l])?void 0:t.amm)||""}}),G.value=Se.value.map(e=>{var l;let a=0,t=0;if(A.value){const t=e.routerPath[e.routerPath.length-1];a=wl(t.amount||"0",(null==t?void 0:t.decimals)||(null==(l=n.toToken)?void 0:l.decimals))}else{const l=e.routerPath[0];t=wl(l.amount||"0",(null==l?void 0:l.decimals)||n.fromToken.decimals)}return{path:e.routerPath.map((l,a)=>{var t,n;return{symbol:l.symbol,nextAmm:(null==(n=null==(t=null==e?void 0:e.pair_path)?void 0:t[a])?void 0:n.amm)||""}}),amount:A.value?a:t,priceImpact:e.priceImpact}}),A.value){const e=d[d.length-1];Fe.value=wl(e.amount||"0",(null==e?void 0:e.decimals)||(null==(i=n.toToken)?void 0:i.decimals))}else{const e=d[0];Ie.value=wl(e.amount||"0",(null==e?void 0:e.decimals)||(null==(r=n.fromToken)?void 0:r.decimals))}f&&setTimeout(()=>{p.value=!1,Ue()},800)}function ol(){var e,l,a;const t=r.chain,o=Object.keys(Ca).concat(["solana","sui","ton"]),s=n.token1.chain,i=n.token2.chain;return!(s&&!(null==(e=null==o?void 0:o.includes)?void 0:e.call(o,s)))&&(!(i&&!(null==(l=null==o?void 0:o.includes)?void 0:l.call(o,i)))&&(!!t&&(!(t&&!(null==(a=null==o?void 0:o.includes)?void 0:a.call(o,t)))&&(t===s&&t===i))))}function sl(){var e,l,a,t;if(1===n.activeTab){if(Number(D.value)>Number(null==(e=n.baseTokenExtra)?void 0:e.sell_tax)+1)return;const a=Math.max(Math.min(Number(null==(l=n.baseTokenExtra)?void 0:l.sell_tax)+1,49.99),.5);D.value=String(Number(a.toFixed(2)))}else{if(Number(D.value)>Number(null==(a=n.baseTokenExtra)?void 0:a.buy_tax)+1)return;const e=Math.max(Math.min(Number(null==(t=n.baseTokenExtra)?void 0:t.buy_tax)+1,49.99),.5);D.value=String(Number(e.toFixed(2)))}}function il(){var e,a,t,o,s;const i=r.chain,u=Object.keys(Ca).concat(["solana","sui","ton"]),d=Ye(i),c=(null==d?void 0:d.name)||"",v=n.token1.chain,p=n.token2.chain,m=null==(e=Ye(v))?void 0:e.name,f=null==(a=Ye(p))?void 0:a.name;return v&&!(null==(t=null==u?void 0:u.includes)?void 0:t.call(u,v))?l("noSupportChain",{chain:m}):p&&!(null==(o=null==u?void 0:u.includes)?void 0:o.call(u,p))?l("noSupportChain",{chain:f}):i&&!(null==(s=null==u?void 0:u.includes)?void 0:s.call(u,i))?l("noSupportChain",{chain:c}):i!==v&&v||i!==p&&p?l("chainNotSame1"):v!==p?l("tokenNoSameChain"):void 0}function rl(){try{if(!r.provider)return void(r.provider||oe.alert(l("browserWalletNotDetected"),l("tips"),{confirmButtonText:l("confirm")}));if(!ol())return;const e=r.chain;if(e!==(n.token1.chain||n.token2.chain||e))return void oe.alert(l("plsSwitchChain",{chain:e}),l("tips"),{confirmButtonText:l("confirm")});2===n.swapType&&(Le.value=1,me.value?dl():async function(){var e,l;V.value=!0;let a=n.isFourMeme?null==(l=null==(e=Ce.value)?void 0:e.quoteResult)?void 0:l.tokenManager:Wl($.value);const t=["","TTfvyrAz86hbZk5iDpKD78pqLGgi8C7AAw","TZFs5ch1R1C4mmjwrrmZqeqbUgGpxY1yWB"][n.isSunPump];a=t||a,"xlayer"===r.chain&&n.isDyorswapfun&&(a="0xfd947a61e2c54413031ddb1f754dbe0e696efa09");"xlayer"===r.chain&&n.isXflapswap&&(a="0xb30d8c4216e1f21f27444d2ffaee3ad577808678");"gatelayer"===r.chain&&n.isDyorswapfun&&(a="0xC5d6974951201FB5f20C0efB4B6BEF5cf8FF1617");"juchain"===r.chain&&n.isCookPump&&(a="0xaF2F76f06E27BE138Bd5310ec6553E2c93ec19F4");"popchain"===r.chain&&n.isPopMeFun&&(a="0x198C8099E0c2CE323a5513769e294f349B015cEE");Aa(n.fromToken.address,a).then(e=>e.wait()).then(e=>{He()}).catch(e=>{na(e)}).finally(()=>{V.value=!1})}())}catch(e){}}function ul(){var e,a,t;const o=n.fromToken.balance||0,s=(n.isPump||n.isMoonshot)&&"So11111111111111111111111111111111111111112"!==n.token2.address,i=(n.isFourMeme||n.isFlap||n.isDyorswapfun||n.isXflapswap||n.isCookPump||n.isPopMeFun)&&n.token2.address!==Ge,u=n.isSunPump>0&&n.token2.address!==Ge,d=r.address;if(!d)return l("pConnectWallet");if(d&&!r.provider)return l("observeAddressNotSwap");if(n.isERC314&&n.token2.address!==Ge||s||i||u)return l("ERC314Tips");if(0===Number(o)||Number(o)<Number(Ie.value)||!d)return l("insufficientBalance");if("0"===String(Ie.value))return l("AmountCannotBeZero");if("ton"===n.chain){const o=(null==ne?void 0:ne.totalTransferAmount)||0,s=(null==(t=null==(a=null==(e=n.userBalanceTokens)?void 0:e.find)?void 0:a.call(e,e=>e.address===Ge))?void 0:t.initBalance)||0;if(o&&new Ae(o).gt(s))return l("tonInsufficientBalance")}}function dl(e=!0){var a,t,o,s,i,r,u,d,c,v,p,m,f,h;if(ll&&(clearTimeout(ll),ll=null),Je())if("sui"===n.chain){const l=null==(i=null==(s=null==(o=null==(t=null==(a=null==ae?void 0:ae.routes)?void 0:a[0])?void 0:t.hops)?void 0:o[0])?void 0:s.pool)?void 0:i.type,r=[n.fromToken,n.toToken].map((e,a)=>({symbol:e.symbol,nextAmm:0===a&&l||""}));le.value={swapRouterPath:r,fromAmount:Ie.value,toAmount:Fe.value,fromToken:n.fromToken,toToken:n.toToken,isAmountOut:!1},e&&(Ve.value=!0),ye.value=r}else if("solana"===n.chain){const l=[n.fromToken,n.toToken].map(e=>({symbol:e.symbol,nextAmm:""}));le.value={swapRouterPath:l,fromAmount:Ie.value,toAmount:Fe.value,fromToken:n.fromToken,toToken:n.toToken,isAmountOut:!1},e&&(Ve.value=!0)}else if("ton"===n.chain){const l=[n.fromToken,n.toToken].map((e,l)=>({symbol:e.symbol,nextAmm:0===l&&(null==ne?void 0:ne.dex)||""}));le.value={swapRouterPath:l,fromAmount:Ie.value,toAmount:Fe.value,fromToken:n.fromToken,toToken:n.toToken,isAmountOut:!1},e&&(Ve.value=!0),ye.value=l}else((null==(r=Ce.value)?void 0:r.isSunPump)||0)>0?(F.value=!0,fa(Ce.value,pe.value).then(async l=>{var a;ve.value={...l,isSunPump:null==(a=Ce.value)?void 0:a.isSunPump},le.value=l.swapInfo,le.value.gasValue=l.gasValue,le.value.swapRouterPath=ye.value,F.value=!1,e&&(Ve.value=!0)}).catch(e=>{F.value=!1,na(e)}),al(),tl()):(null==(u=Ce.value)?void 0:u.isFourMeme)?(F.value=!0,ha(Ce.value,pe.value).then(async l=>{ve.value={...l,isFourMeme:!0},le.value=null==l?void 0:l.swapInfo,le.value.gasValue=(null==l?void 0:l.gasValue)||"0",le.value.swapRouterPath=ye.value,F.value=!1,e&&(Ve.value=!0)}).catch(e=>{F.value=!1,na(e)}),al(),tl()):(null==(d=Ce.value)?void 0:d.isERC314)?(F.value=!0,xa(Ce.value).then(async l=>{ve.value={...l,isERC314:!0},le.value=l.swapInfo,le.value.gasValue=l.gasValue,le.value.swapRouterPath=ye.value,F.value=!1,e&&(Ve.value=!0)}).catch(e=>{F.value=!1,na(e)}),al(),tl()):(null==(c=Ce.value)?void 0:c.isDyorswapfun)?(F.value=!0,ba(Ce.value,pe.value).then(async l=>{ve.value={...l,isDyorswapfun:!0},le.value=null==l?void 0:l.swapInfo,le.value.gasValue=(null==l?void 0:l.gasValue)||"0",le.value.swapRouterPath=ye.value,F.value=!1,e&&(Ve.value=!0)}).catch(e=>{F.value=!1,na(e)}),al(),tl()):(null==(v=Ce.value)?void 0:v.isXflapswap)?(F.value=!0,ka(Ce.value,pe.value).then(async l=>{ve.value={...l,isXflapswap:!0},le.value=null==l?void 0:l.swapInfo,le.value.gasValue=(null==l?void 0:l.gasValue)||"0",le.value.swapRouterPath=ye.value,F.value=!1,e&&(Ve.value=!0)}).catch(e=>{F.value=!1,na(e)}),al(),tl()):(null==(p=Ce.value)?void 0:p.isCookPump)?(F.value=!0,ga(Ce.value,pe.value).then(async l=>{ve.value={...l,isCookPump:!0},le.value=null==l?void 0:l.swapInfo,le.value.gasValue=(null==l?void 0:l.gasValue)||"0",le.value.swapRouterPath=ye.value,F.value=!1,e&&(Ve.value=!0)}).catch(e=>{F.value=!1,na(e)}),al(),tl()):(null==(m=Ce.value)?void 0:m.isPopMeFun)?(F.value=!0,_a(Ce.value,pe.value).then(async l=>{ve.value={...l,isPopMeFun:!0},le.value=null==l?void 0:l.swapInfo,le.value.gasValue=(null==l?void 0:l.gasValue)||"0",le.value.swapRouterPath=ye.value,F.value=!1,e&&(Ve.value=!0)}).catch(e=>{F.value=!1,na(e)}),al(),tl()):(null==(h=null==(f=Ce.value)?void 0:f.routerPath)?void 0:h.length)>0&&(F.value=!0,ya(Ce.value,pe.value).then(async l=>{ve.value=l,le.value={...l.swapInfo,fromToken:{...l.swapInfo.fromToken,...n.fromToken},toToken:{...l.swapInfo.fromToken,...n.toToken},fromAmount:Ie.value,toAmount:Fe.value,isAmountOut:l.swapInfo.isAmountOut||!1},le.value.gasValue=l.gasValue,le.value.swapRouterPath=ye.value,F.value=!1,e&&(Ve.value=!0)}).catch(e=>{F.value=!1,na(e)}),al(),tl());else oe.alert(ul(),l("tips"),{confirmButtonText:l("okay")})}function cl(e,a){oe.alert(a,e,{confirmButtonText:l("getIt")}).then(()=>{})}function vl(){var e,l,a,t;if(!Ie.value||!Fe.value)return"--";let o=Ie.value,s=Fe.value;if(O.value){let n=(null==(e=Ce.value)?void 0:e.totalTax)||((null==(l=Ce.value)?void 0:l.total_sell_tax)||0)+((null==(a=Ce.value)?void 0:a.total_buy_tax)||0);n=Math.min(49,n),(null==(t=Ce.value)?void 0:t.isAmountOut)?o=new Ae(o).times(100+n).div(100):s=new Ae(s).times(100-n).div(100)}const i=["solana","sui","ton"].includes($.value),r=i?J.value[0]:Ce.value.from_price,u=i?J.value[1]:Ce.value.to_price;return r&&u?0===n.activeTab?Q(Number(Ie.value||0)/Number(Fe.value)/(u/r)*u):1===n.activeTab?Q(Number(Fe.value||0)/Number(Ie.value)/(r/u)*r):void 0:"--"}function pl(e){Y.value=!1,$e.value=e,nl()}function ml(e,l=""){var a,t;return(null==e?void 0:e.hash)||(null==e?void 0:e.transactionHash)||(null==e?void 0:e.digest)||(null==e?void 0:e.txHash)||(null==(t=null==(a=null==e?void 0:e.transaction)?void 0:a.signatures)?void 0:t[0])||l||""}async function fl(e=ve.value){try{if("solana"===$.value)return void async function(){try{Le.value=1,ee.value=!0,F.value=!0;const e=le.value,a={from_address:e.fromToken.address,from_symbol:e.fromToken.symbol,from_amount:Number(wl(e.fromTokenAmount||0,e.fromToken.decimals)),to_address:e.toToken.address,to_symbol:e.toToken.symbol,to_amount:Number(wl(e.toTokenAmount||0,e.toToken.decimals)),chain:r.chain,transaction:"",wallet_address:r.address};setTimeout(()=>{Ve.value||(F.value=!1,ee.value=!1)},6e3);let o="";Sa(te).then(l=>{var t,n;return o=ml(l),le.value.transaction=o,oo({chain:"solana",destination:"true"===localStorage.solanaProtection?"v1/blxrsol/sendSolTx":"/ave_nodes/rpc/solana/sendFastSwapTx",type:10,tx_hash:o,status:1,wallet:r.address,out_token:a.to_address,out_amount:e.toAmount,in_token:a.from_address,in_amount:e.fromAmount}),F.value=!1,ee.value=!1,Ie.value="",Fe.value="",null==(n=null==(t=q.value)?void 0:t.handleClick)||n.call(t,0),Le.value=3,"function"==typeof(null==l?void 0:l.wait)?l.wait():l}).then(e=>{if(e){const l=ml(e,o);so({chain:"solana",tx_hash:l,status:100}),n.getTokenDetails(),n.getUserTokenList()}return e}).catch(e=>{"Timeout"===(e||(null==e?void 0:e.message))?t({type:"error",message:l("timeout_error")}):"Swap fail"===(e||(null==e?void 0:e.message))?t({type:"error",message:l("swapFail")}):na(e,"solana"),Ee(),F.value=!1,ee.value=!1})}catch(e){F.value=!1,ee.value=!1,na(e,"solana")}}();if("sui"===$.value)return void async function(){try{ee.value=!0,F.value=!0,Le.value=2;const e=le.value,l={from_address:e.fromToken.address,from_symbol:e.fromToken.symbol,from_amount:null==e?void 0:e.fromAmount,from_decimals:null==e?void 0:e.fromToken.decimals,to_address:e.toToken.address,to_symbol:e.toToken.symbol,to_amount:null==e?void 0:e.toAmount,to_decimals:null==e?void 0:e.toToken.decimals,chain:"sui",transaction:"",wallet_address:r.address};setTimeout(()=>{Ve.value||(F.value=!1,ee.value=!1)},6e3);let a="";const t=!0;Na({quoteResponse:ae,slippage:new Ae(E.value).div(100).toNumber()}).then(e=>$a((null==e?void 0:e.tx)||e)).then(e=>{var n,o;return(null==e?void 0:e.digest)?(a=ml(e),le.value.transaction=a,t&&(l.transaction=a,oo({chain:"sui",destination:"wallet rpc",type:10,tx_hash:a,status:1,wallet:r.address,out_token:l.to_address,out_amount:le.value.toAmount,in_token:l.from_address,in_amount:le.value.fromAmount})),F.value=!1,ee.value=!1,Ie.value="",Fe.value="",null==(o=null==(n=q.value)?void 0:n.handleClick)||o.call(n,0),Le.value=3,"function"==typeof(null==e?void 0:e.wait)?e.wait():e):Promise.reject("Swap fail")}).then(e=>{const l=ml(e,a);if(l)return so({chain:"sui",tx_hash:l,status:100}),n.getTokenDetails(),n.getUserTokenList(),e}).catch(e=>{Le.value=1,F.value=!1,ee.value=!1,na(e,"solana"),Ee()})}catch(e){Le.value=1,F.value=!1,ee.value=!1,na(e,"solana")}}();if("ton"===$.value)return void async function(){try{ee.value=!0,F.value=!0,Le.value=2;const e=le.value,a={from_address:e.fromToken.address,from_symbol:e.fromToken.symbol,from_amount:null==e?void 0:e.fromAmount,from_decimals:null==e?void 0:e.fromToken.decimals,to_address:e.toToken.address,to_symbol:e.toToken.symbol,to_amount:null==e?void 0:e.toAmount,to_decimals:null==e?void 0:e.toToken.decimals,chain:"ton",transaction:"",wallet_address:r.address};setTimeout(()=>{Ve.value||(F.value=!1,ee.value=!1)},6e3);const o=!0,s=[{address:null==ne?void 0:ne.to,amount:null==ne?void 0:ne.totalTransferAmount,payload:null==ne?void 0:ne.payload}],i=await Ia(a);i&&s.push(i);let u="";Fa(s).then(e=>{var l,t;return u=ml(e),le.value.transaction=u,oo({chain:"ton",destination:"wallet rpc",type:10,tx_hash:u,status:1,wallet:r.address,out_token:a.to_address,out_amount:le.value.toAmount,in_token:a.from_address,in_amount:le.value.fromAmount}),o&&(a.transaction=u),F.value=!1,ee.value=!1,Ie.value="",Fe.value="",null==(t=null==(l=q.value)?void 0:l.handleClick)||t.call(l,0),Le.value=3,"function"==typeof(null==e?void 0:e.wait)?e.wait():e}).then(async e=>{if(e){const l=ml(e,u);so({chain:"ton",tx_hash:l,status:100}),n.getTokenDetails(),n.getUserTokenList()}else so({chain:"ton",tx_hash:a.transaction,status:-100}),t({type:"error",message:l("tradeFail")});return e}).catch(e=>{"Timeout"===(e||(null==e?void 0:e.message))?t({type:"error",message:l("timeout_error")}):"Swap fail"===(e||(null==e?void 0:e.message))?t({type:"error",message:l("tradeFail")}):na(e),Le.value=1,F.value=!1,ee.value=!1,Ee()})}catch(e){Le.value=1,F.value=!1,ee.value=!1,na(e)}}();ee.value=!0,F.value=!0;await e.swapCallStatic();const a=e.swapInfo,o=(a.fromToken.isWrapper&&a.toToken.isETH||a.toToken.isWrapper&&a.fromToken.isETH,{from_address:a.fromToken.address,from_symbol:a.fromToken.symbol,from_amount:Number(wl(a.fromTokenAmount||0,a.fromToken.decimals)),to_address:a.toToken.address,to_symbol:a.toToken.symbol,to_amount:Number(wl(a.toTokenAmount||0,a.toToken.decimals)),chain:$.value,transaction:"",wallet_address:r.address});Le.value=2;let s="";ve.value.swap().then(e=>{var l,t;return s=ml(e),le.value.transaction=s,oo({chain:$.value,destination:"wallet rpc",type:10,tx_hash:s,status:1,wallet:r.address,out_token:o.to_address,out_amount:Number(wl(a.toTokenAmount||0,a.toToken.decimals)),in_token:o.from_address,in_amount:Number(wl(a.fromTokenAmount||0,a.fromToken.decimals))}),F.value=!1,ee.value=!1,Ie.value="",Fe.value="",null==(t=null==(l=q.value)?void 0:l.handleClick)||t.call(l,0),Le.value=3,"function"==typeof(null==e?void 0:e.wait)?e.wait():e}).then(e=>{var l,a;const t=ml(e,s);return so({chain:$.value,tx_hash:t,status:100,to:(null==(a=null==(l=null==e?void 0:e.to)?void 0:l.toLowerCase)?void 0:a.call(l))||""}),$e.value=0,Se.value=[],setTimeout(()=>{n.getTokenDetails(),n.getUserTokenList(),He(),"tron"!==n.token1.chain&&"tron"!==n.token2.chain||setTimeout(()=>{n.getTokenDetails()},3e3)},1e3),e}).catch(e=>{Le.value=1,Ee(),F.value=!1,ee.value=!1,na(e,"swap")})}catch(a){F.value=!1,ee.value=!1,na(a,"swap")}}return d([()=>n.fromToken.address,()=>r.address],()=>{n.fromToken.address&&He()}),d([()=>n.fromToken.address,()=>n.toToken.address],()=>{Ie.value="",Fe.value="",$e.value=0,Ee()}),(e,l)=>{var t,o,s,i,d,c,v,U,R,O;const H=_e,j=ke,W=y;return x(),w(T,null,[k("form",{class:"swap-container",action:"",onSubmit:L(rl,["prevent","stop"])},[k("div",eb,[k("div",lb,[S(Th,{token:h(n).token1,"onUpdate:token":[l[0]||(l[0]=e=>h(n).token1=e),Re],tokens:h(n).swapTokens,chain:h(n).chain},null,8,["token","tokens","chain"]),l[26]||(l[26]=k("span",{style:{flex:"1"}},null,-1)),k("div",{class:"s-text",innerHTML:`${e.$t("balance1")}: ${h(Q)((null==(t=h(n).token1)?void 0:t.balance)||0)}`},null,8,ab),1===h(n).activeTab?(x(),w("button",{key:0,class:"max-btn",type:"button",onClick:l[1]||(l[1]=L(e=>je(100),["stop"]))},_(e.$t("max")),1)):f("",!0)]),k("div",tb,[0===h(n).activeTab?(x(),m(H,{key:0,modelValue:h(Fe),"onUpdate:modelValue":[l[2]||(l[2]=e=>B(Fe)?Fe.value=e:null),l[3]||(l[3]=e=>{var l;Fe.value=null==(l=null==e?void 0:e.replace)?void 0:l.call(e,/\-|[^\d.]/g,""),We()})],placeholder:"0.0",size:"large",clearable:"",class:"input-number","input-style":"text-align:right",readonly:h(Be),onFocus:l[4]||(l[4]=e=>{var l;return null==(l=h(q))?void 0:l.handleClick(0,!0)})},null,8,["modelValue","readonly"])):f("",!0),1===h(n).activeTab?(x(),m(H,{key:1,modelValue:h(Ie),"onUpdate:modelValue":[l[5]||(l[5]=e=>B(Ie)?Ie.value=e:null),l[6]||(l[6]=e=>{var l;Ie.value=null==(l=null==e?void 0:e.replace)?void 0:l.call(e,/\-|[^\d.]/g,""),ze()})],placeholder:"0.0",size:"large",clearable:"",class:"input-number","input-style":"text-align:right",onFocus:l[7]||(l[7]=e=>{var l;return null==(l=h(q))?void 0:l.handleClick(0,!0)})},null,8,["modelValue"])):f("",!0)])]),k("div",nb,[k("div",ob,[S(Th,{token:h(n).token2,"onUpdate:token":[l[8]||(l[8]=e=>h(n).token2=e),Oe],tokens:h(n).swapTokens,chain:h(n).chain},null,8,["token","tokens","chain"]),l[27]||(l[27]=k("span",{style:{flex:"1"}},null,-1)),k("div",{class:"s-text",innerHTML:`${e.$t("balance1")}: ${h(Q)(h(n).token2.balance||0)}`},null,8,sb),0===h(n).activeTab?(x(),w("button",{key:0,class:"max-btn",type:"button",onClick:l[9]||(l[9]=L(e=>je(100),["stop"]))},_(e.$t("max")),1)):f("",!0)]),k("div",ib,[1===h(n).activeTab?(x(),m(H,{key:0,modelValue:h(Fe),"onUpdate:modelValue":[l[10]||(l[10]=e=>B(Fe)?Fe.value=e:null),l[11]||(l[11]=e=>{var l;Fe.value=null==(l=null==e?void 0:e.replace)?void 0:l.call(e,/\-|[^\d.]/g,""),We()})],placeholder:"0.0",size:"large",clearable:"",class:"input-number","input-style":"text-align:right",readonly:h(Be),onFocus:l[12]||(l[12]=e=>{var l;return null==(l=h(q))?void 0:l.handleClick(0,!0)})},null,8,["modelValue","readonly"])):f("",!0),0===h(n).activeTab?(x(),m(H,{key:1,modelValue:h(Ie),"onUpdate:modelValue":[l[13]||(l[13]=e=>B(Ie)?Ie.value=e:null),l[14]||(l[14]=e=>{var l;Ie.value=null==(l=null==e?void 0:e.replace)?void 0:l.call(e,/\-|[^\d.]/g,""),ze()})],placeholder:"0.0",size:"large",clearable:"",class:"input-number","input-style":"text-align:right",onFocus:l[15]||(l[15]=e=>{var l;return null==(l=h(q))?void 0:l.handleClick(0,!0)})},null,8,["modelValue"])):f("",!0)])]),S(Jx,{ref:"percentStepInf",activeColor:0===h(n).activeTab?("upColor"in e?e.upColor:h(we))[0]:("downColor"in e?e.downColor:h(Te))[0],onChange:je},null,8,["activeColor"]),h(r).address?h(r).address&&!h(r).provider?(x(),m(j,{key:1,"native-type":"button",class:"submit-btn",disabled:"",color:"#555555"},{default:b(()=>[I(_(e.$t("watchWalletNotSwap")),1)]),_:1})):ol()?h(me)?(x(),m(j,{key:4,class:"submit-btn",loading:h(F)||h(p)||h(u),color:h(be),disabled:h(fe)&&(null==(s=null==(o=h(fe))?void 0:o.gt)?void 0:s.call(o,.4))||!Je()||!h(Ie)||!h(Fe),"native-type":"submit"},{default:b(()=>{var l,a,t,o,s,i;return[0===Number(h(n).fromToken.balance)||Number(h(n).fromToken.balance)<Number(h(Ie))||""===h(r).address||(h(n).isERC314||h(n).isFourMeme||h(n).isFlap||h(n).isSunPump>0||h(n).isDyorswapfun||h(n).isXflapswap||h(n).isCookPump||h(n).isPopMeFun)&&h(n).token2.address!==("NATIVE_TOKEN"in e?e.NATIVE_TOKEN:h(Ge))||(h(n).isPump||h(n).isMoonshot)&&"So11111111111111111111111111111111111111112"!==h(n).token2.address||h(De)?(x(),w("span",rb,_(ul()||(0===h(n).activeTab?e.$t("buy"):e.$t("sell"))+" "+(null==(l=h(n).token1)?void 0:l.symbol)||""),1)):h(fe)&&(null==(t=null==(a=h(fe))?void 0:a.gt)?void 0:t.call(a,.4))?(x(),w("span",ub,_(e.$t("priceImpactTooHigh")),1)):(x(),w(T,{key:2},[k("span",null,_(h(fe)&&(null==(s=null==(o=h(fe))?void 0:o.gt)?void 0:s.call(o,.1))?0===h(n).activeTab?e.$t("buyAnyway"):e.$t("sellAnyway"):0===h(n).activeTab?e.$t("buy"):e.$t("sell"))+" "+_((null==(i=h(n).token1)?void 0:i.symbol)||""),1),h(ge)?(x(),w("span",{key:0,style:{"font-size":"12px"},innerHTML:h(ge)},null,8,db)):f("",!0)],64))]}),_:1},8,["loading","color","disabled"])):(x(),m(j,{key:3,class:"submit-btn",color:h(be),"native-type":"submit",loading:h(V)||h(F)||h(u),disabled:Number(h(n).fromToken.balance)<Number(h(Ie))},{default:b(()=>{var l,a;return[I(_(0===Number(h(n).fromToken.balance)||Number(h(n).fromToken.balance)<Number(h(Ie))||""===h(r).address?h(fe)&&(null==(a=null==(l=h(fe))?void 0:l.gt)?void 0:a.call(l,.4))?e.$t("priceImpactTooHigh"):ul()||e.$t("approve"):e.$t("approve")),1)]}),_:1},8,["color","loading","disabled"])):(x(),m(j,{key:2,"native-type":"button",class:"submit-btn",disabled:"",color:"#555555"},{default:b(()=>[I(_(il()),1)]),_:1})):(x(),m(j,{key:0,"native-type":"button",class:"submit-btn",color:"#286DFF",onClick:l[16]||(l[16]=L(l=>("useBotStore"in e?e.useBotStore:h(z))().changeConnectVisible(!0,1),["stop"]))},{default:b(()=>[I(_(e.$t("pConnectWallet")),1)]),_:1})),k("ul",cb,[k("li",vb,[k("span",null,_(e.$t("slippage")),1),S(W,{class:"ml-2px color-[--secondary-text]! clickable",name:"material-symbols:help-outline",onClick:l[17]||(l[17]=L(l=>cl(e.$t("slippage"),e.$t("minimumReceivedTips")),["stop"]))}),l[28]||(l[28]=k("span",{style:{flex:"1"}},null,-1)),"solana"===h($)?(x(),m(Mh,{key:0,slippage:h(P),"onUpdate:slippage":l[18]||(l[18]=e=>B(P)?P.value=e:null),canSetAuto:!1},null,8,["slippage"])):(null==(i=["sui","ton"])?void 0:i.includes(h($)))?(x(),m(Mh,{key:1,slippage:h(E),"onUpdate:slippage":l[19]||(l[19]=e=>B(E)?E.value=e:null),canSetAuto:!1},null,8,["slippage"])):(x(),m(Mh,{key:2,slippage:h(M),"onUpdate:slippage":l[20]||(l[20]=e=>B(M)?M.value=e:null),autoSlippage:h(D)},null,8,["slippage","autoSlippage"]))]),g(k("li",null,[k("div",pb,[k("span",null,_(e.$t("estimatedAveragePrice")),1)]),k("div",mb,[k("span",null,"$"+_(vl()),1)])],512),[[ue,h(Ie)&&h(Fe)]]),g(k("li",null,[k("div",fb,[k("span",null,_(e.$t("priceImpact")),1),k("i",{class:"iconfont icon-changjianwentixiangguanwenti",onClick:l[21]||(l[21]=L(l=>cl(e.$t("priceImpact"),e.$t("priceImpactTips")),["stop"]))})]),k("div",{style:N({color:h(xe)})},_(h(he))+_(h(fe)&&(null==(c=null==(d=h(fe))?void 0:d.gt)?void 0:c.call(d,.05))?`(${e.$t("excessivePriceImpact")})`:""),5)],512),[[ue,h(Ie)&&h(Fe)&&!h(n).isDyorswapfun]]),g(k("li",null,[k("div",hb,[k("span",null,_(e.$t("tokenRoute")),1),k("i",{class:"iconfont icon-changjianwentixiangguanwenti",onClick:l[22]||(l[22]=L(l=>cl(e.$t("tokenRoute"),e.$t("tokenRouteTips")),["stop"]))})]),(null==(v=["solana","sui"])?void 0:v.includes(h($)))?(x(),w("div",xb,[(x(!0),w(T,null,C([h(n).fromToken,h(n).toToken],(e,l)=>(x(),w(T,{key:l},[0!==l?(x(),w("img",bb)):f("",!0),e.symbol?(x(),w("span",kb,_(e.symbol),1)):f("",!0)],64))),128))])):"ton"===h($)?(x(),w("div",gb,[(x(!0),w(T,null,C(h(ye),(e,t)=>(x(),w(T,{key:t},[e.symbol?(x(),w("span",_b,_(e.symbol),1)):f("",!0),e.nextAmm&&"unknown"!==e.nextAmm?(x(),w("div",yb,[k("img",{class:"icon-amm-logo rounded",src:`${h(a).token_logo_url}swap/${e.nextAmm}.jpeg`,alt:"",srcset:"",onerror:"this.src='/icon-default.png'"},null,8,wb),l[29]||(l[29]=k("img",{style:{width:"15px",margin:"1px 5px 0"},src:Xf,alt:"",srcset:""},null,-1))])):f("",!0)],64))),128))])):1===(null==(U=h(Ce))?void 0:U.toWrapper)||2===(null==(R=h(Ce))?void 0:R.toWrapper)?(x(),w("div",Tb,[(x(!0),w(T,null,C(h(ye),(e,l)=>(x(),w(T,{key:l},[0!==l?(x(),w("img",Cb)):f("",!0),e.symbol?(x(),w("span",Ab,_(e.symbol),1)):f("",!0)],64))),128))])):(x(),w("div",{key:3,class:"path-list clickable",onClick:l[23]||(l[23]=L(e=>!h(n).isFourMeme&&!h(n).isSunPump&&(Y.value=!0),["stop","prevent"]))},[(x(!0),w(T,null,C(h(ye),(e,t)=>(x(),w(T,{key:t},[e.symbol?(x(),w("span",Sb,_(e.symbol),1)):f("",!0),e.nextAmm&&"unknown"!==e.nextAmm?(x(),w("div",Nb,[k("img",{class:"icon-amm-logo rounded",src:`${h(a).token_logo_url}swap/${e.nextAmm}.jpeg`,alt:"",srcset:"",onerror:"this.src='/icon-default.png'"},null,8,$b),l[30]||(l[30]=k("img",{style:{width:"15px",margin:"1px 5px 0"},src:Xf,alt:"",srcset:""},null,-1))])):f("",!0)],64))),128)),h(G).length>0?(x(),w("i",Ib)):f("",!0)]))],512),[[ue,h(Ie)&&h(Fe)]]),!(null==(O=["solana","sui","ton","tron"])?void 0:O.includes(h($)))&&Number(h(ce))>0?(x(),w("li",Fb,[k("div",Lb,_(e.$t("estimatedGas")),1),k("div",null,"≈ $"+_(h(ce)),1)])):f("",!0)])],32),S(Yh,{visible:h(Y),"onUpdate:visible":l[24]||(l[24]=e=>B(Y)?Y.value=e:null),listRouter:h(G),isAmount:h(A),selectedRouterIndex:h($e),onGetSelectedRouter:pl},null,8,["visible","listRouter","isAmount","selectedRouterIndex"]),S(Yx,{visible:h(Ve),"onUpdate:visible":l[25]||(l[25]=e=>B(Ve)?Ve.value=e:null),swapInfo:h(le),swapQuoteInfo:h(Ce),slippage:"solana"===h($)?h(P):"ton"===h($)||"sui"===h($)?h(E):h(pe),loading:h(ee),chain:h($),nativePrice:h(re),gasPrice:h(se),activeShow:h(Le),onSubmit:fl},null,8,["visible","swapInfo","swapQuoteInfo","slippage","loading","chain","nativePrice","gasPrice","activeShow"])],64)}}}),[["__scopeId","data-v-8c05d884"]]),Db={class:"relative"},Mb=M(o({__name:"solanaLimitExpired",props:{expiredTime:{type:[Number,null],default:null}},emits:["update:visible","update:expiredTime"],setup(e,{emit:l}){const{t:a}=s(),t=e,n=l,o=Ll("selectRef"),i=c(()=>[{name:a("never"),value:""},{name:a("10min"),value:600},{name:a("1h"),value:3600},{name:a("1d"),value:86400},{name:a("3d"),value:259200},{name:a("7d"),value:604800}].map(e=>e.value===t.expiredTime?{...e,color:"#286DFF "}:e)),r=c(()=>{var e;return null==(e=i.value.find(e=>e.value===(null===t.expiredTime?"":t.expiredTime)))?void 0:e.name}),u=c({get:()=>null===t.expiredTime?"":t.expiredTime,set(e){n("update:expiredTime",""===e?null:e)}});return(e,l)=>{const a=y,t=Tn,n=wn;return x(),w("div",Db,[k("div",{class:"select-container clickable",onClick:l[0]||(l[0]=L(e=>{var l,a;return null==(a=null==(l=h(o))?void 0:l.focus)?void 0:a.call(l)},["stop"]))},[k("span",null,_(h(r)),1),S(a,{class:"clickable text-12px color-#999 ml-5px",name:"solar:alt-arrow-down-bold"})]),S(n,{ref_key:"selectRef",ref:o,modelValue:h(u),"onUpdate:modelValue":l[1]||(l[1]=e=>B(u)?u.value=e:null),placeholder:"Select",size:"small",persistent:!1,style:{width:"80px",opacity:"0",position:"absolute",right:"0",top:"50%",transform:"translateY(-50%)"}},{default:b(()=>[(x(!0),w(T,null,C(h(i),e=>(x(),m(t,{key:e.value,label:e.name,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-93437689"]]),Pb={key:0},Eb={key:1},Ub={key:1},Rb={key:2},Ob={class:"swap-info"},Hb={key:0,class:"swap-info_item"},jb={class:"swap-info_item-label"},zb=["innerHTML"],Wb={class:"swap-info_item"},qb={class:"swap-info_item-label"},Gb={class:"swap-info_item-value"},Yb=["src"],Qb=["innerHTML"],Kb={class:"ml-5px"},Xb={class:"swap-info_item"},Zb={class:"swap-info_item-label"},Jb={class:"swap-info_item-value"},ek=["innerHTML"],lk={style:{color:"var(--custom-primary-color)"}},ak={class:"swap-info_item"},tk={class:"swap-info_item-label"},nk={class:"swap-info_item-value"},ok=["src"],sk=["innerHTML"],ik={class:"ml-5px"},rk={class:"swap-info_item"},uk={class:"swap-info_item-label"},dk={class:"swap-info_item-value"},ck=["src"],vk=["innerHTML"],pk={class:"ml-5"},mk={class:"swap-info_item"},fk={class:"swap-info_item-label"},hk={class:"swap-info_item-value"},xk=["innerHTML"],bk={style:{color:"var(--custom-primary-color)"}},kk={class:"swap-info_item"},gk={class:"swap-info_item-label"},_k={class:"swap-info_item-value"},yk=["src"],wk=["innerHTML"],Tk={class:"ml-5"},Ck={key:3,class:"swap-info_item"},Ak={class:"swap-info_item-label"},Sk=["innerHTML"],Nk={class:"swap-info_item tips warning"},$k={class:"swap-info_item tips warning"},Ik={key:0,class:"swap-info_item tips warning"},Fk={key:1,class:"swap-info_item tips warning"},Lk={key:1,class:"swap-info center"},Vk={class:"mt-20"},Bk={class:"swap-info center"},Dk={class:"mt-20px"},Mk={class:"footer"},Pk=M(o({__name:"confirmLimit",props:{visible:{type:Boolean,default:!1},limitInfo:{type:Object,default:()=>{}},loading:{type:Boolean,default:!1},chain:{type:String,default:""},limitGasU:{type:String,default:""},activeShow:{type:Number,default:0}},emits:["update:visible","submit"],setup(e,{emit:l}){const a=e,t=l,n=c({get:()=>a.visible,set(e){t("update:visible",e)}});function o(e){var l;return e.logoURI&&!(null==(l=null==e?void 0:e.logoURI)?void 0:l.includes("empty-token"))?e.logoURI:fe({symbol:null==e?void 0:e.symbol,chain:null==e?void 0:e.chain,logo_url:null==e?void 0:e.logo_url})}function s(){window.open(Z(a.chain,a.limitInfo.transaction,"tx"))}return(l,a)=>{const i=ke,r=Pl,u=y,d=Ue;return h(n)?(x(),m(d,{key:0,modelValue:h(n),"onUpdate:modelValue":a[1]||(a[1]=e=>B(n)?n.value=e:null),width:"446px","destroy-on-close":""},{header:b(()=>[1===e.activeShow?(x(),w(T,{key:0},[0===e.limitInfo.orderType?(x(),w("span",Pb,_(0===e.limitInfo.activeTab?l.$t("limitBuy"):l.$t("limitSell")),1)):f("",!0),1===e.limitInfo.orderType?(x(),w("span",Eb,_(0===e.limitInfo.activeTab?l.$t("stopLimitBuy"):l.$t("stopLimitSell")),1)):f("",!0)],64)):2===e.activeShow?(x(),w("span",Ub,_(l.$t("waitForConfirming")),1)):3===e.activeShow?(x(),w("span",Rb,_(l.$t("tradeConfirmed")),1)):f("",!0)]),default:b(()=>{var n,d,c,v,p,m,g,y,C,A,$,F,V,B,D,M,P,E,U,R,O,H,j;return[1==e.activeShow?(x(),w(T,{key:0},[k("ul",Ob,[1===e.limitInfo.orderType?(x(),w("li",Hb,[k("div",jb,_(l.$t("limitEffective")),1),k("div",{class:"swap-info_item-value",innerHTML:l.$t("triggerPriceEffective",{symbol:1===e.limitInfo.activeTab?(null==(d=null==(n=e.limitInfo)?void 0:n.fromToken)?void 0:d.symbol)||"":(null==(v=null==(c=e.limitInfo)?void 0:c.toToken)?void 0:v.symbol)||"",price:("formatNumber"in l?l.formatNumber:h(Q))((null==(p=e.limitInfo)?void 0:p.triggerPrice)||0)})},null,8,zb)])):f("",!0),0===e.limitInfo.activeTab?(x(),w(T,{key:1},[k("li",Wb,[k("div",qb,_(l.$t("limitBuy")),1),k("div",Gb,[k("img",{class:"icon-token",src:o(e.limitInfo.toToken),alt:"",height:"20"},null,8,Yb),k("span",{innerHTML:("formatNumber"in l?l.formatNumber:h(Q))(e.limitInfo.toAmount||0)},null,8,Qb),k("span",Kb,_((null==(g=null==(m=e.limitInfo)?void 0:m.toToken)?void 0:g.symbol)||""),1)])]),k("li",Xb,[k("div",Zb,_(l.$t("limitPrice"))+"("+_(1===e.limitInfo.activeTab?(null==(C=null==(y=e.limitInfo)?void 0:y.fromToken)?void 0:C.symbol)||"":(null==($=null==(A=e.limitInfo)?void 0:A.toToken)?void 0:$.symbol)||"")+")",1),k("div",Jb,[k("span",{innerHTML:`$${("formatNumber"in l?l.formatNumber:h(Q))(e.limitInfo.targetLimitPrice||0)}`},null,8,ek),k("span",lk,"("+_(l.$t("auto-submitWhenPriceBuy"))+")",1)])]),k("li",ak,[k("div",tk,_(l.$t("expectedPayment")),1),k("div",nk,[k("img",{class:"icon-token",src:o(e.limitInfo.fromToken),alt:"",height:"20"},null,8,ok),k("span",{innerHTML:("formatNumber"in l?l.formatNumber:h(Q))(e.limitInfo.fromAmount||0)},null,8,sk),k("span",ik,_((null==(V=null==(F=e.limitInfo)?void 0:F.fromToken)?void 0:V.symbol)||""),1)])])],64)):f("",!0),1===e.limitInfo.activeTab?(x(),w(T,{key:2},[k("li",rk,[k("div",uk,_(l.$t("limitSell")),1),k("div",dk,[k("img",{class:"icon-token",src:o(e.limitInfo.fromToken),alt:"",height:"20"},null,8,ck),k("span",{innerHTML:("formatNumber"in l?l.formatNumber:h(Q))(e.limitInfo.fromAmount||0)},null,8,vk),k("span",pk,_((null==(D=null==(B=e.limitInfo)?void 0:B.fromToken)?void 0:D.symbol)||""),1)])]),k("li",mk,[k("div",fk,_(l.$t("limitPrice"))+"("+_(1===e.limitInfo.activeTab?(null==(P=null==(M=e.limitInfo)?void 0:M.fromToken)?void 0:P.symbol)||"":(null==(U=null==(E=e.limitInfo)?void 0:E.toToken)?void 0:U.symbol)||"")+")",1),k("div",hk,[k("span",{innerHTML:`$${("formatNumber"in l?l.formatNumber:h(Q))(e.limitInfo.targetLimitPrice||0)}`},null,8,xk),k("span",bk,"("+_(l.$t("auto-submitWhenPriceSell"))+")",1)])]),k("li",kk,[k("div",gk,_(l.$t("expectedReceivable")),1),k("div",_k,[k("img",{class:"icon-token",src:o(e.limitInfo.toToken),alt:"",height:"20"},null,8,yk),k("span",{innerHTML:("formatNumber"in l?l.formatNumber:h(Q))(e.limitInfo.toAmount||0)},null,8,wk),k("span",Tk,_((null==(O=null==(R=e.limitInfo)?void 0:R.toToken)?void 0:O.symbol)||""),1)])])],64)):f("",!0),"solana"!==e.chain?(x(),w("li",Ck,[k("div",Ak,_(l.$t("estimateGas")),1),k("div",{class:"swap-info_item-value",style:{"text-align":"right"},innerHTML:l.$t("estimateGasTips",{n:("formatNumber"in l?l.formatNumber:h(Q))(e.limitGasU??1,1)})},null,8,Sk)])):f("",!0),"solana"!==e.chain?(x(),w(T,{key:4},[k("li",Nk,"* "+_(l.$t("limitFeeTip")),1),k("li",$k,"* "+_(l.$t("limitTokenTips")),1),(null==(j=null==(H=e.limitInfo)?void 0:H.fromToken)?void 0:j.address)===h(Ge)?(x(),w("li",Ik,_(l.$t("limitTips1")),1)):(x(),w("li",Fk,_(l.$t("limitTips2")),1))],64)):f("",!0)]),k("div",{class:"footer",style:N({"padding-bottom":"solana"!==e.chain?"10px":"0"})},[S(i,{class:"swap-button w-full",type:"primary",size:"large",loading:e.loading,"loading-text":l.$t("confirming"),block:"",onClick:a[0]||(a[0]=L(e=>t("submit"),["stop"]))},{default:b(()=>[I(_(l.$t("confirm")),1)]),_:1},8,["loading","loading-text"])],4)],64)):2==e.activeShow?(x(),w("div",Lk,[S(r,{size:110,color:"#747782",style:{animation:"rotating 2s linear infinite normal"}},{default:b(()=>[S(h(Ol))]),_:1}),k("span",Vk,_(l.$t("plsConfirmWallet")),1)])):3==e.activeShow?(x(),w(T,{key:2},[k("div",Bk,[S(u,{name:"lineicons:arrow-up-circle",class:"text-110px"}),k("span",Dk,_(l.$t("plsViewBlockChainExplorer")),1)]),k("div",Mk,[S(i,{class:"swap-button w-full",type:"primary",size:"large",block:"",onClick:L(s,["stop"])},{default:b(()=>[I(_(l.$t("viewTransition")),1)]),_:1})])],64)):f("",!0)]}),_:1},8,["modelValue"])):f("",!0)}}}),[["__scopeId","data-v-ca556448"]]);async function Ek(e){const{from_token:l,to_token:a,amountIn:t,amountOut:n}=e,o=await function(e){let l="Lifinity V1,Lifinity V2,Phoenix,Openbook,OpenBook V2";sessionStorage.isMoonshot||sessionStorage.isMeteora||(l+=",Meteora,Meteora DLMM");const a={...e,restrictIntermediateTokens:!0,excludeDexes:l};a.inputMint===Ge&&(a.inputMint="So11111111111111111111111111111111111111112");a.outputMint===Ge&&(a.outputMint="So11111111111111111111111111111111111111112");return Ga({method:"get",url:"https://api.jup.ag/swap/v1/quote",params:a},"v3")}({inputMint:l,outputMint:a,amount:t||n||"",slippageBps:200,swapMode:t?"ExactIn":"ExactOut"});return{...o,chain:"solana"}}function Uk(e,{chain:l,QuoteContract:a,swapContract:t,gasPrice:n,nativePrice:o,amountIn:s,amountOut:i,balance:r,allowanceAmount:u,fromIsETH:d,toIsETH:c,mainName:v,from_token:p,to_token:m}){var f;let h="0";if(!e.pair_path||0===(null==(f=e.pair_path)?void 0:f.length)||!e.token_path||0===e.token_path.length)return Promise.resolve({routerPath:[],routerPairPath:[]});const x=e.pair_path.map(e=>{var a;return(null==(a=Ya)?void 0:a.includes(l))?{pair:"v4"===e.protocol?"0x".padEnd(42,"0"):e.pair,tokenIn:e.token_in,tokenOut:e.token_out,router:e.amm_router,poolId:"v4"===e.protocol?e.pair:"0x".padEnd(66,"0")}:{pair:e.pair,tokenIn:e.token_in,tokenOut:e.token_out,router:e.amm_router}});let b=1;"arbitrum"===l?b=3.5:("optimism"===l||"base"===l)&&(b=4);const k=W();return Number(s)?a.getAmountsOut.staticCall(x,s).then(async a=>{var i,f,g,_;let y=e.token_path.map((e,l)=>({...e,amount:a[l].toString()}));d&&(y[0].isETH=d,y[0].symbol=v),c&&(y[y.length-1].isETH=c,y[y.length-1].symbol=v);let w=0;if(u.gte(s)&&r.gte(s)){const r=k.address,u=String(e.feeIn??"2"),d=30,c=Qa(k.address);let v={srcToken:p,dstToken:m,srcReceiver:0!==Number(x[0].router)?e.pair_path[0].pair:t.address,dstReceiver:r,amount:s,minReturnAmount:"1",feeIn:u,feeRate:d,feeTo:Qa(k.address),receiveRate:0,referrer:c,path:x,routerPath:[]};(null==(i=Ya)?void 0:i.includes(l))&&(v={srcToken:p,dstToken:m,amount:s,minReturnAmount:"1",feeIn:u,feeRate:d,feeTo:Qa(k.address),minLiquidity:"0",maxLiquidity:"0",referRates:[0],referrers:[c],paths:x});const _=p===Ge?s:"0",C=null==a?void 0:a[y.length-1];try{const a=new Ae(await(null==(f=null==t?void 0:t[Ka(l)])?void 0:f.staticCall(v,{value:_})));w=Number(((1e4-a.times(1e4).div(C).toNumber()-d)/100).toFixed(2))||0,w>0&&(y[y.length-1].amount=a.toString()),(e.total_sell_tax||0)>0&&(b=2,"arbitrum"===l?b=4:"eth"===l?b=2.3:("optimism"===l||"base"===l)&&(b=4.5));const s=new Ae("360000"),i=null==(g=y[y.length-1])?void 0:g.decimals,r=new Ae(o.toString()),u=new Ae(e.to_price.toString()),c=new Ae(n.toString()).times(r).times(s.toString()).times(b).div(u).times(10**(i-18)).toFixed(0);h=new Ae(n.toString()).times(r).times(s.toString()).times(b).div(10**18).toFixed(),c&&(y[y.length-1].amount=a.minus(c).toString())}catch(T){}}else{w=new Ae(e.total_buy_tax||0).plus(e.total_sell_tax||0)||new Ae(0);let l=new Ae("360000");(e.total_sell_tax||0)>0?l=l.times(2):w.gt(0)&&(l=l.times(1.5));const t=null==a?void 0:a[y.length-1],s=new Ae(e.to_price.toString()),i=null==(_=y[y.length-1])?void 0:_.decimals,r=new Ae(o.toString()),u=new Ae(n.toString()).times(r).times(l.toString()).div(s).times(10**(i-18)).toFixed(0);let d=new Ae(t.toString()).times(new Ae(100).minus(w)).div(100);d.gt(u)&&(d=d.minus(u)),h=new Ae(n.toString()).times(r).times(l.toString()).times(b).div(10**18).toFixed(),y[y.length-1].amount=d.toFixed(0)}return y=y.map(e=>({...e,address:e.isETH?Ge:e.address})),y[0].price=e.from_price,y[y.length-1].price=e.to_price,{routerPath:y,routerPairPath:x,...e,totalTax:Math.max(Number(w.toFixed()),0),isAmountOut:!1,gas:"0".toString(),gasU:h}}):i?a.getAmountsIn.staticCall(x,i).then(async a=>{var s,f;let g=e.token_path.map((e,l)=>({...e,amount:a[l].toString()}));d&&(g[0].isETH=d,g[0].symbol=v),c&&(g[g.length-1].isETH=c,g[g.length-1].symbol=v);const _=null==a?void 0:a[0];let y=0;if(u.gte(_)&&r.gte(_)){const a=k.address,u=String(e.feeIn??"2"),d=30,c=Qa(k.address),v=0,f={srcToken:p,dstToken:m,srcReceiver:0!==Number(x[0].router)?e.pair_path[0].pair:t.address,dstReceiver:a,amount:r.toString(),minReturnAmount:i,feeIn:u,feeRate:d,feeTo:c,receiveRate:ot.test(l)?v:0,referrer:c,path:x,routerPath:[]},T=p===Ge?f.amount:"0";try{const a=new Ae(await t.exactOutput.staticCall(f,{value:T}));y=Number(((1e4-_.times(1e4).div(a).toNumber()-d)/100).toFixed(2))||0,y>0&&(g[0].amount=a.toString()),(e.total_sell_tax||0)>0&&(b=2,"arbitrum"===l?b=4:"eth"===l?b=2.3:"optimism"===l?b=4.5:"base"===l&&(b=5));const i=new Ae("360000"),r=null==(s=g[0])?void 0:s.decimals,u=new Ae(o.toString()),c=new Ae(e.from_price.toString()),v=new Ae(n.toString()).times(u).times(i.toString()).times(b).div(c).times(10**(r-18)).toFixed(0);h=new Ae(n.toString()).times(u).times(i.toString()).times(b).div(10**18).toFixed(),v&&(g[0].amount=a.plus(v).toString())}catch(w){}}else{y=new Ae(e.total_buy_tax||0).plus(e.total_sell_tax||0)||new Ae(0);let t=new Ae("360000");(e.total_sell_tax||0)>0?t=t.times(2):y.gt(0)&&(t=t.times(1.5)),"arbitrum"===l&&(t=t.times(3.5)),"optimism"===l&&(t=t.times(4)),"base"===l&&(t=t.times(4.5));const s=null==a?void 0:a[0],i=null==(f=g[0])?void 0:f.decimals,r=new Ae(o.toString()),u=new Ae(e.from_price.toString()),d=new Ae(n.toString()).times(r).times(t.toString()).div(u).times(10**(i-18)).toFixed(0),c=new Ae(s.toString()).div(new Ae(100).minus(y)).times(100).plus(d);h=new Ae(n.toString()).times(r).times(t.toString()).div(10**18).toFixed(),g[0].amount=c.toFixed(0)}return g=g.map(e=>({...e,address:e.isETH?Ge:e.address})),g[0].price=e.from_price,g[g.length-1].price=e.to_price,{routerPath:g,routerPairPath:x,...e,totalTax:Math.max(Number(y.toFixed()),0),isAmountOut:!0,gas:"0".toString(),gasU:h}}):Promise.resolve({routerPath:[],routerPairPath:[]})}async function Rk(e,l=null){const a=Xa.deserialize(Za.from(e,"base64")),t=await Ja(a,l);return{hash:t,wait:()=>et(t)}}async function Ok(e,l=W().address){const{fromToken:a,fromAmount:t,toToken:n,toAmount:o,expiredAt:s}=e,i={maker:l,payer:l,params:{makingAmount:t,takingAmount:o,expiredAt:s?String(s):void 0},inputMint:a,outputMint:n,computeUnitPrice:"auto"};return(r=i,Ga({method:"POST",url:"https://api.jup.ag/trigger/v1/createOrder",data:r})).then(e=>{const l=e.transaction;return{result:e,send:()=>Rk(l)}});var r}function Hk({id:e,fromToken:l,fromAmount:a,toToken:t,toAmount:o,maker:s,salt:i,signature:r,minReturn:u,targetToken:d,targetLimitPrice:c,orderType:v,triggerPrice:p,currentPrice:m},f=W().chain){v=v||0,p=p||c,m=m||0;const{$api:h}=n();return h("/v1api/v2/aveswap/limitorder/add",{method:"post",body:{order_id:e,chain:f,from_token:l,from_amount:a,to_token:t,to_amount:o,maker:s,salt:i,signature:r,to_min_amount:u,target_token:d,target_limit_price:c,order_type:v,trigger_price:p,current_price:m}})}async function jk({fromToken:e,fromAmount:l,toToken:a,minReturn:t,salt:o,id:s,order_id:i},r=W().chain){const u=await Da(),d=new Ea(za[r],Wa,u);return d.cancelOrder.estimateGas(e,l,a,t,o).then(u=>d.cancelOrder(e,l,a,t,o,{gasLimit:u.toString()}).then(e=>e.wait()).then(e=>function(e,l,a=W().chain){const{$api:t}=n();return t("/v1api/v2/aveswap/limitorder/cancel",{method:"post",body:{id:e,chain:a,order_id:l}})}(s,i,r)))}async function zk(e,l=W().address){return function(e){const{$api:l}=n();return l("https://jup.ag/api/limit/v1/cancelOrders",{method:"post",body:e})}({owner:l,feePayer:l,orders:[e]}).then(e=>async function(e,l=null){const a=Xa.deserialize(Za.from(e,"base64")),t=lt(),n=await Promise.all(a.message.addressTableLookups.map(async e=>new at({key:e.accountKey,state:at.deserialize(await t.getAccountInfo(e.accountKey).then(e=>e.data))}))),o=tt.decompile(a.message,{addressLookupTableAccounts:n});o.instructions=await nt(o.instructions),a.message=o.compileToV0Message(n);const s=await Ja(a,l);return{hash:s,wait:()=>et(s)}}(e.tx))}async function Wk(e,l=W().address){return(a={maker:l,orders:[e],computeUnitPrice:"auto"},Ga({method:"post",url:"https://api.jup.ag/trigger/v1/cancelOrders",data:a})).then(e=>Rk(e.transactions[0]));var a}const qk=["onClick"],Gk={class:"flex items-center"},Yk={key:0,class:"token-container"},Qk={class:"icon-token-container mr-5px"},Kk=["src"],Xk=["innerHTML"],Zk={class:"mr-5px text-12px label"},Jk={key:1,class:"token-container"},eg=["innerHTML"],lg={class:"flex items-center mt-5px"},ag={key:0,class:"token-container"},tg={class:"icon-token-container mr-5px"},ng=["src"],og=["innerHTML"],sg={class:"flex items-center justify-between mt-5px"},ig={class:"label mr-20px flex items-center"},rg={key:0},ug={class:"flex items-center"},dg={key:0,class:"token-container"},cg={class:"icon-token-container mr-5px"},vg=["src"],pg=["innerHTML"],mg={class:"flex items-center mt-5px"},fg={key:0,class:"token-container"},hg={class:"icon-token-container mr-5px"},xg=["src"],bg=["innerHTML"],kg={class:"flex justify-between mt-10px"},gg={class:"label mr-20px"},_g={class:"token-container flex items-end flex-col",style:{"align-items":"end"}},yg={class:"text-12px",style:{"text-align":"right"}},wg={class:"color-666 text-12px",style:{"text-align":"right"}},Tg={class:"flex items-center justify-between mt-10px"},Cg={class:"mr-20px label"},Ag={key:0,class:"color-#999 text-12px",style:{"text-align":"right"}},Sg={class:"label"},Ng={key:1,class:"color-#999 text-12px"},$g={class:"label"},Ig={key:0,class:"flex items-center justify-between mt-10px"},Fg={class:"mr-20px label"},Lg={class:"color-#999 text-12px"},Vg=M(o({__name:"limitTxItem",props:{tableList:{type:Array,default:()=>[]}},emits:["refresh"],setup(e,{emit:l}){const a=l,t=W(),n=Oe(),o=de(),i=G(),r=Qx(),{t:u}=s(),d=R({}),c=R(!1);function v(e){const l="solana"===(null==e?void 0:e.chain)?u("cancelOrderConfirmingSolana"):u("confirmCancelMessage");oe.confirm(l,u("cancelOrderConfirming"),{confirmButtonText:u("confirm"),cancelButtonText:u("cancel"),beforeClose:(l,t,n)=>{"confirm"===l?(n(),t.confirmButtonLoading=!0,"solana"===e.chain?p(e,()=>{t.confirmButtonLoading=!1}):function(e){if("solana"===e.chain)return void p(e);const l={fromToken:e.from_token||"",fromAmount:e.from_amount||"0",toToken:e.to_token||"",minReturn:e.to_min_amount||"0",salt:e.salt||"0",id:e.id||"",order_id:e.order_id||""};c.value=!0,jk(l).then(l=>{ne.success(u("cancelledOrderSuccessfully")),a("refresh",e)}).catch(e=>{na(e)}).finally(()=>{c.value=!1})}(e)):n()}}).then(()=>{})}function p(e,l){d.value[e.orderKey]=!0;return("v1"===(null==e?void 0:e.version)?zk:Wk)(e.orderKey).then(e=>(l&&l(),e.wait())).then(l=>{!function(e){if("solana"!==e.chain&&e.from_token!==Ge)return;r.getTokenDetails()}(e),setTimeout(()=>{a("refresh",e,d.value)},3e3)}).catch(l=>{na(l,"solana"),d.value[e.orderKey]=!1}).finally(()=>{})}function g(e){if((0===e.status||-1===e.status)&&1e3*e.created_at+st<Date.now())return u("expired1");const l=e.status;return{0:"",1:u("cancelled"),2:u("completed"),3:u("unknownError1"),7:u("unknownError1"),4:u("notEnoughBalance"),5:u("insufficientSlippage1"),8:u("insufficientSlippage1"),6:u("transferFailed"),10:u("fail1"),11:u("fail1"),12:u("fail1"),13:u("fail1"),"-1":""}[l]??l}function y(e){if((0===e.status||-1===e.status)&&1e3*e.created_at+st<Date.now())return"#999999";const l=e.status;return 1===l||10===l||11===l||12===l?"#999999":2===l?"#12B886":0===l?"#286DFF":"#FF0000"}function A(e){const l=["So11111111111111111111111111111111111111112","EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"];return l.indexOf(e.from_token)<=l.indexOf(e.to_token)}function $(e){return A(e)?(null==e?void 0:e.from_token_symbol)||"":(null==e?void 0:e.to_token_symbol)||""}function F(e){return A(e)?Q(new Ae(e.to_amount).times(10**((null==e?void 0:e.from_token_decimals)-(null==e?void 0:e.to_token_decimals))).times((null==e?void 0:e.to_token_price)||0).div(e.from_amount).toFixed()):Q(new Ae(e.from_amount).times(10**((null==e?void 0:e.to_token_decimals)-(null==e?void 0:e.from_token_decimals))).times((null==e?void 0:e.from_token_price)||0).div(e.to_amount).toFixed())}function V(e){return A(e)?Q(e.to_amount*10**((null==e?void 0:e.from_token_decimals)-(null==e?void 0:e.to_token_decimals))/e.from_amount)+" "+((null==e?void 0:e.to_token_symbol)||"")+" per "+((null==e?void 0:e.from_token_symbol)||""):Q(e.from_amount*10**((null==e?void 0:e.to_token_decimals)-(null==e?void 0:e.from_token_decimals))/e.to_amount)+" "+((null==e?void 0:e.from_token_symbol)||"")+" per "+((null==e?void 0:e.to_token_symbol)||"")}function B(e){if("Pending"===(null==e?void 0:e.state)&&null!==(null==e?void 0:e.expiredAt)&&Date.now()>1e3*Number((null==e?void 0:e.expiredAt)||0))return u("expired1");const l=e.state;return{Pending:"",Completed:u("completed"),Cancelled:u("cancelled")}[l]??l}function D(e){if("Pending"===(null==e?void 0:e.state)&&null!==(null==e?void 0:e.expiredAt)&&Date.now()>1e3*Number((null==e?void 0:e.expiredAt)||0))return"#999999";return{Pending:"",Completed:"#12B886",Cancelled:"#999999"}[e.state]??"#286DFF"}return(l,a)=>{var s;const r=he,u=ke,p=ao,M=$n;return x(),w("ul",null,[(x(!0),w(T,null,C(e.tableList,(e,s)=>(x(),w("li",{key:s,class:"tx-li-item clickable",onClick:L(l=>function(e){if("solana"===e.chain){if("Sending"===(null==e?void 0:e.state))return;const l=(null==e?void 0:e.closeTx)||(null==e?void 0:e.openTx);if(!l)return;window.open(Z("solana",l,"tx"))}else 2===e.status&&window.open(Z(e.chain,e.executed_tx_hash,"tx"))}(e),["stop"])},["solana"!==e.chain?(x(),w(T,{key:0},[k("div",Gk,[k("span",{class:"label",style:N({"min-width":"en"===h(n).locale?"30px":"20px"})},_(l.$t("from")),5),e.from_token?(x(),w("div",Yk,[k("div",Qk,[S(r,{class:"icon-token",src:("getSymbolDefaultIcon"in l?l.getSymbolDefaultIcon:h(fe))({logo_url:e.from_token_logo_url,symbol:e.from_token_symbol,chain:e.chain||h(t).chain}),lazy:""},null,8,["src"]),(null==e?void 0:e.chain)?(x(),w("img",{key:0,class:"icon-chain",src:`${h(o).token_logo_url}chain/${null==e?void 0:e.chain}.png`,alt:"",srcset:""},null,8,Kk)):f("",!0)]),k("span",{class:"mr-5px",innerHTML:("formatNumber"in l?l.formatNumber:h(Q))(("formatUnits"in l?l.formatUnits:h(wl))(e.from_amount,e.from_token_decimals))},null,8,Xk),k("span",null,_(e.from_token_symbol||""),1)])):f("",!0),a[0]||(a[0]=k("span",{style:{flex:"1"}},null,-1)),k("span",Zk,_(l.$t("price"))+"("+_(e.target_token===e.from_token?(null==e?void 0:e.from_token_symbol)||"":(null==e?void 0:e.to_token_symbol)||"")+") ",1),e.target_token?(x(),w("div",Jk,[k("span",{innerHTML:`$${e.target_limit_price?("formatNumber"in l?l.formatNumber:h(Q))(e.target_limit_price):"--"}`},null,8,eg)])):f("",!0)]),k("div",lg,[k("span",{class:"label",style:N({"min-width":"en"===h(n).locale?"30px":"20px"})},_(l.$t("to")),5),e.to_token?(x(),w("div",ag,[k("div",tg,[S(r,{class:"icon-token",src:("getSymbolDefaultIcon"in l?l.getSymbolDefaultIcon:h(fe))({logo_url:e.to_token_logo_url,symbol:e.to_token_symbol,chain:e.chain||h(t).chain}),lazy:""},null,8,["src"]),(null==e?void 0:e.chain)?(x(),w("img",{key:0,class:"icon-chain",src:`${h(o).token_logo_url}chain/${null==e?void 0:e.chain}.png`,alt:"",srcset:""},null,8,ng)):f("",!0)]),k("span",{class:"mr-5px",innerHTML:("formatNumber"in l?l.formatNumber:h(Q))(("formatUnits"in l?l.formatUnits:h(wl))(e.to_amount,e.to_token_decimals))},null,8,og),k("span",null,_((null==e?void 0:e.to_token_symbol)||""),1)])):f("",!0)]),k("div",sg,[k("div",ig,[k("span",null,_(("formatDate"in l?l.formatDate:h(J))(e.created_at)),1),(0===e.status||-1===e.status)&&Date.now()<1e3*e.created_at+h(st)?(x(),w("span",rg," ("+_(l.$t("expiresInTime",{t:h(it)(1e3*e.created_at+h(st)).fromNow()}))+") ",1)):f("",!0)]),1===e.status||2===e.status?(x(),w("span",{key:0,class:"status-txt",style:N({color:y(e)})},_(g(e)),5)):(x(),w(T,{key:1},[a[1]||(a[1]=k("span",{style:{flex:"1"}},null,-1)),0!==e.status||(0===e.status||-1===e.status)&&1e3*e.created_at+h(st)<Date.now()?(x(),w("span",{key:0,class:"status-txt",style:N({color:y(e)})},_(g(e)),5)):f("",!0),e.from_token===h(Ge)||(0===e.status||-1===e.status)&&1e3*e.created_at+h(st)>Date.now()?(x(),m(u,{key:1,class:"btn-s",plain:"",hairline:"",type:"primary",size:"small",loading:h(c),"loading-text":l.$t("revoke"),"loading-size":"0.28rem",onClick:L(l=>v(e),["stop"])},{default:b(()=>[I(_(l.$t("revoke")),1)]),_:1},8,["loading","loading-text","onClick"])):f("",!0)],64))])],64)):(x(),w(T,{key:1},[k("div",ug,[k("span",{class:"label",style:N({"min-width":"en"===h(n).locale?"30px":"20px"})},_(l.$t("from")),5),e.from_token?(x(),w("div",dg,[k("div",cg,[S(r,{class:"icon-token",src:("getSymbolDefaultIcon"in l?l.getSymbolDefaultIcon:h(fe))({logo_url:e.from_token_logo_url,symbol:e.from_token_symbol,chain:e.chain||h(t).chain}),lazy:""},null,8,["src"]),(null==e?void 0:e.chain)?(x(),w("img",{key:0,class:"icon-chain",src:`${h(o).token_logo_url}chain/${null==e?void 0:e.chain}.png`,alt:"",srcset:""},null,8,vg)):f("",!0)]),k("span",{class:"mr-5px",innerHTML:("formatNumber"in l?l.formatNumber:h(Q))(("formatUnits"in l?l.formatUnits:h(wl))(e.from_amount,e.from_token_decimals))},null,8,pg),k("span",null,_(e.from_token_symbol||""),1)])):f("",!0),a[2]||(a[2]=k("span",{style:{flex:"1"}},null,-1)),"Sending"===e.state?(x(),m(p,{key:1,class:"text-16px"})):(x(),w(T,{key:2},[k("span",{class:"label",style:N({color:D(e)})},_(B(e)),5),"solana"===e.chain&&"Pending"===e.state?(x(),m(u,{key:0,class:"btn-s",plain:"",hairline:"",type:"primary",size:"small",loading:h(d)[e.orderKey],"loading-text":l.$t("revoke"),"loading-size":"14px",onClick:L(l=>v(e),["stop"])},{default:b(()=>[I(_(l.$t("revoke")),1)]),_:1},8,["loading","loading-text","onClick"])):f("",!0)],64))]),k("div",mg,[k("span",{class:"label",style:N({"min-width":"en"===h(n).locale?"30px":"20px"})},_(l.$t("to")),5),e.to_token?(x(),w("div",fg,[k("div",hg,[S(r,{class:"icon-token",src:("getSymbolDefaultIcon"in l?l.getSymbolDefaultIcon:h(fe))({logo_url:e.to_token_logo_url,symbol:e.to_token_symbol,chain:e.chain||h(t).chain}),lazy:""},null,8,["src"]),(null==e?void 0:e.chain)?(x(),w("img",{key:0,class:"icon-chain",src:`${h(o).token_logo_url}chain/${null==e?void 0:e.chain}.png`,alt:"",srcset:""},null,8,xg)):f("",!0)]),k("span",{class:"mr-5px",innerHTML:("formatNumber"in l?l.formatNumber:h(Q))(("formatUnits"in l?l.formatUnits:h(wl))(e.to_amount,e.to_token_decimals))},null,8,bg),k("span",null,_((null==e?void 0:e.to_token_symbol)||""),1)])):f("",!0)]),k("div",kg,[k("span",gg,_(l.$t("delegatePrice"))+"("+_($(e))+")",1),k("div",_g,[k("span",yg,"$"+_(F(e)),1),k("span",wg,"("+_(V(e))+")",1)])]),k("div",Tg,[k("span",Cg,_(l.$t("amount1")),1),A(e)?(x(),w("div",Ag,[k("span",null,_(("formatNumber"in l?l.formatNumber:h(Q))(("formatUnits"in l?l.formatUnits:h(wl))(e.from_amount_used||0,e.from_token_decimals)))+"/"+_(("formatNumber"in l?l.formatNumber:h(Q))(("formatUnits"in l?l.formatUnits:h(wl))(e.from_amount||0,e.from_token_decimals)))+" "+_(e.from_token_symbol),1),k("span",Sg,"("+_(("formatNumber"in l?l.formatNumber:h(Q))(e.percent||0))+"%)",1)])):(x(),w("div",Ng,[k("span",null,_(("formatNumber"in l?l.formatNumber:h(Q))(("formatUnits"in l?l.formatUnits:h(wl))(e.to_amount_used||0,e.to_token_decimals)))+"/"+_(("formatNumber"in l?l.formatNumber:h(Q))(("formatUnits"in l?l.formatUnits:h(wl))(e.to_amount||0,e.to_token_decimals)))+" "+_(e.to_token_symbol),1),k("span",$g,"("+_(("formatNumber"in l?l.formatNumber:h(Q))(e.percent||0))+"%)",1)]))]),void 0!==e.expiredAt?(x(),w("div",Ig,[k("span",Fg,_(l.$t("expiredTime")),1),k("span",Lg,_(e.expiredAt?("formatDate"in l?l.formatDate:h(J))(e.expiredAt):l.$t("never")),1)])):f("",!0)],64))],8,qk))),128)),e.tableList&&0!==(null==(s=e.tableList)?void 0:s.length)?f("",!0):(x(),m(M,{key:0,"image-size":100,image:"light"===h(i).theme?h(le):h(ae)},null,8,["image"]))])}}}),[["__scopeId","data-v-d47732f3"]]),Bg={class:"card-container mt-10px"},Dg={class:"flex items-center"},Mg=["innerHTML"],Pg={class:"flex justify-between items-center mt-10px"},Eg={class:"card-container bottom mt-10px"},Ug={class:"flex items-center"},Rg=["innerHTML"],Og={class:"flex justify-between items-center mt-10px"},Hg={key:0,class:"limit-price-label mb-5px"},jg={key:1,class:"card-container flex justify-between items-center rd-6px! py-0!"},zg=["disabled"],Wg=["disabled"],qg={class:"limit-price-label mt-10px mb-5px"},Gg={class:"card-container flex justify-between items-center rd-6px! py-0!",style:{"margin-bottom":"10px"}},Yg=["disabled"],Qg=["disabled"],Kg={class:"limit-price-label mt-10px mb-5px"},Xg={class:"card-container flex justify-between items-center rd-6px! py-0!",style:{"margin-bottom":"10px"}},Zg=["disabled"],Jg=["disabled"],e_={class:"swap-label mt-10px"},l_={key:0,class:"slippage-container"},a_={key:1},t_={class:"swap-label_item-left"},n_={key:1,style:{display:"flex","align-items":"center"}},o_={class:"mt-10px"},s_={class:"tabs-1"},i_=["onClick"],r_=M(o({__name:"limit",setup(e){const l=Qx(),a=W(),o=Ll("percentStepInf"),i=c(()=>l.chain),{t:r}=s(),v=ie("limitSlippage","10"),p=R(""),A=R(""),N=R(!1),$=R("0"),F=R(""),D=R(0),M=R(!1),P=R(0),E=R(""),U=R(""),O=R(""),H=R(!1),j=R(!1),q=R(!1),G=R(null),Y=R(!1),K=R(!1),X=R(0),Z=R([]),J=R(!1),ee=R(!1),le=R("limit"),ae=c(()=>[{name:r("historyLimitOrder"),value:"limit"}]),te=c(()=>{var e;if(ee.value){const a=l.token1.address;return null==(e=Z.value)?void 0:e.filter(e=>e.target_token===a)}return Z.value}),se=R({chain:"",orderType:0,triggerPrice:0,fromToken:{address:"",chain:"",balance:0,symbol:"",price:0},toToken:{address:"",chain:"",balance:0,symbol:"",price:0},targetTokenInfo:{address:"",chain:"",balance:0,symbol:"",price:0},fromAmount:"",toAmount:"",targetToken:"",targetLimitPrice:"",activeTab:l.activeTab,minReturn:"0",slippage:v.value||"10"}),re=c(()=>{if(["solana","ton","sui"].includes(l.chain)||l.fromToken.address===Ge)return!0;if(!$.value)return!1;const e=(0===l.activeTab?l.token2:l.token1).decimals||0,a=0===l.activeTab?A.value:p.value;return ea(new Ae(a||0).toFixed(e),e).lte($.value)}),de=c(()=>a.address&&a.provider?0===l.activeTab?we[0]:1===l.activeTab?Te[0]:"#558BED":"#999");function ce(){var e,a;p.value="",A.value="",null==(a=null==(e=o.value)?void 0:e.handleClick)||a.call(e,0),1===l.activeTab&&pe(),l.getToken1Info(),l.getBaseToken(),"solana"===i.value&&me()}function ve(){var e,a;p.value="",A.value="",null==(a=null==(e=o.value)?void 0:e.handleClick)||a.call(e,0),l.getToken2Info(),0===l.activeTab&&pe(),"solana"===i.value&&me()}function pe(){const e=0===l.activeTab?l.token2:l.token1;if(a.chain&&a.chain===e.chain&&e.address){const l=e.chain||a.chain;if(["solana","ton","sui"].includes(l))return;const t=za[l];N.value=!0,la(e.address,t).then(e=>{$.value=e.toString()}).finally(()=>{N.value=!1})}}function me(){var e,a,t,n,o;if(!(null==(e=l.token1)?void 0:e.address)||!(null==(a=l.token2)?void 0:a.address)||"solana"!==i.value||0!==l.swapType)return;const s={from_token:null==(t=l.token1)?void 0:t.address,to_token:null==(n=l.token2)?void 0:n.address,amountIn:ea("1",null==(o=l.token1)?void 0:o.decimals).toFixed(0)};F.value="",Ek(s).then(e=>{var a;const t=wl((null==e?void 0:e.outAmount)||0,null==(a=l.token2)?void 0:a.decimals);D.value=t,function(){const e=l.token1.chain,a=l.token1.address+"-"+e,t=l.token2.address+"-"+e;return el([a,t]).then(async e=>{var a,t;return l.token1.price=(null==(a=null==e?void 0:e[0])?void 0:a.current_price_usd)||0,l.token2.price=(null==(t=null==e?void 0:e[1])?void 0:t.current_price_usd)||0,[l.token1.price,l.token2.price]})}().then(e=>{}),F.value=""}).catch(e=>{D.value=0,F.value="1"})}function fe(){E.value&&new Ae(E.value).gt("0")&&(E.value=rl(new Ae(E.value).times(.99).toFixed()),Fe())}function he(){E.value&&new Ae(E.value).gt("0")&&(E.value=rl(new Ae(E.value).times(1.01).toFixed()),Fe())}function xe(){O.value&&new Ae(O.value).gt("0")&&(O.value=rl(new Ae(O.value).times(.99).toFixed()))}function be(){E.value&&new Ae(O.value).gt("0")&&(O.value=rl(new Ae(O.value).times(1.01).toFixed()))}function ge(){P.value&&new Ae(P.value).gt("0")&&(P.value=rl(new Ae(P.value).times(.99).toFixed()),Ve())}function ye(){P.value&&new Ae(P.value).gt("0")&&(P.value=rl(new Ae(P.value).times(1.01).toFixed()),Ve())}function Ce(e,a=!1){var t,n;if(a)return;const o=Number(e)/100,s=0===l.activeTab?l.token2:l.token1;let i=s.balance||0;if(o){const e=s.decimals||18;if((null==s?void 0:s.address)===Ge){const l=s.chain,a=ct[l]||.01;i=(null==(t=new Ae(i).minus(a).times(o).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${e}})?`)))?void 0:t[0])||0}else i=(null==(n=new Ae(i).times(o).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${e}})?`)))?void 0:n[0])||0;0===Number(i)&&(i="")}else i="";0===l.activeTab?A.value!==i&&(A.value=Number(i)<0?"0":i,Ie()):p.value!==i&&(p.value=Number(i)<0?"0":i,Ne())}let Se=null;function Ne(){M.value||(Se&&(clearTimeout(Se),Se=null),Se=setTimeout(()=>{const e=p.value,l=Number(e);""===e||"."===e?(p.value="",A.value=""):0===l&&0!==Number(A.value)?A.value=0:l&&(A.value="",Fe())},500))}let $e=null;function Ie(){M.value||($e&&(clearTimeout($e),$e=null),$e=setTimeout(()=>{const e=A.value,l=Number(e);""===e||"."===e?(p.value="",A.value=""):0===l&&0!==Number(p.value)?p.value=0:l&&(p.value="",Fe())},500))}function Fe(){"solana"!==l.chain?Be()&&(Number(E.value)&&(Number(p.value)||Number(A.value))&&l.token1.address!==l.token2.address&&a.provider?(Le&&(clearTimeout(Le),Le=null),Le=setTimeout(()=>{const e=0===l.activeTab?l.token2:l.token1,a=1===l.activeTab?l.token2:l.token1,t=ea((0===l.activeTab?A.value:p.value)||"0",e.decimals).toFixed(0),n=ea((1===l.activeTab?A.value:p.value)||"0",a.decimals).toFixed(0),o={from_token:e.address,to_token:a.address,amountIn:t,amountOut:n};M.value=!0,async function({from_token:e,to_token:l,amountIn:a,amountOut:t},n,o=W().chain,s=3,i=3){const r=await La(e,Wl(o),o),u=r.balance,d=r.allowance,c=Ye(o),v=null==c?void 0:c.wmain_wrapper,p=null==c?void 0:c.main_name,m=null==c?void 0:c.wmain_name;let f=e,h=l,x=!1,b=!1,k=!1,g=!1;return f===v&&(k=!0),h===v&&(g=!0),f===Ge&&(f=v,x=!0),h===Ge&&(h=v,b=!0),k&&b||x&&g?Promise.resolve({toWrapper:x&&g?1:2,wrapper:v,amount:"0"!==a&&a?a:t,routerPath:[{address:x?Ge:v,amount:"0"!==a&&a?a:t,decimals:18,isETH:x,isWrapper:k,symbol:x?p:m},{address:b?Ge:v,amount:"0"!==t&&t?t:a,decimals:18,isETH:b,isWrapper:g,symbol:b?p:m}]}):Va(f,h,o,s,i).then(async n=>{if(0===(null==n?void 0:n.length))return Promise.reject({code:"noMatchingRoute"});const{_provider:s}=Ba(o),i=await Da(),r="tron"===o?Ma(Pa,Wl(o)):new Ea(Wl(o),Pa,i||s),c="tron"===o?Ma(Ra,Ua[o]):new Ea(Ua[o],Oa(o),i||s),v=await Ta(o),m=await wa(o),f={chain:o,QuoteContract:c,swapContract:r,gasPrice:v,nativePrice:m,amountIn:a,amountOut:t,balance:u,allowanceAmount:d,fromIsETH:x,toIsETH:b,mainName:p,from_token:e,to_token:l};return 1===(null==n?void 0:n.length)?Uk(n[0],f):2===(null==n?void 0:n.length)?Uk(n[0],f).catch(async e=>Uk(n[1],f)):(null==n?void 0:n.length)>2?Uk(n[0],f).catch(async e=>Uk(n[1],f).catch(async e=>Uk(n[2],f))):void 0})}(o).then(e=>{var a,t,n,o,s,i,u,d;if(1===e.toWrapper||2===e.toWrapper)return void(M.value=!1);U.value=e.gasU;const c=null==(t=null==(a=null==e?void 0:e.routerPath)?void 0:a.find)?void 0:t.call(a,e=>e.address===l.token1.address),v=null==(o=null==(n=null==e?void 0:e.routerPath)?void 0:n.find)?void 0:o.call(n,e=>e.address===l.token2.address);l.token1.price=c.price,l.token2.price=v.price,new Ae((null==c?void 0:c.amount)||0).lte(0)||new Ae((null==v?void 0:v.amount)||0).lte(0)?oe.alert(r("limitOrderAmount"),r("tips"),{confirmButtonText:r("okay")}):E.value&&p.value&&A.value?0===l.activeTab?p.value=(null==(s=new Ae(wl(c.amount,c.decimals)).times(c.price||0).div(E.value||1).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${l.token1.decimals}})?`)))?void 0:s[0])||"":A.value=(null==(i=new Ae(wl(v.amount,v.decimals)).times(E.value||0).div(c.price||1).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${l.token2.decimals}})?`)))?void 0:i[0])||"":E.value&&p.value?A.value=(null==(u=new Ae(wl(v.amount,v.decimals)).times(E.value||0).div(c.price||1).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${l.token2.decimals}})?`)))?void 0:u[0])||"":E.value&&A.value&&(p.value=(null==(d=new Ae(wl(c.amount,c.decimals)).times(c.price||0).div(E.value||1).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${l.token1.decimals}})?`)))?void 0:d[0])||"")}).catch(e=>{na(e)}).finally(()=>{M.value=!1})},500)):l.token1.address===l.token2.address&&t({type:"error",message:r("twoIdenticalTokens")})):Ve()}let Le=null;function Ve(){Number(P.value)&&(Number(p.value)||Number(A.value))&&l.token1.address!==l.token2.address&&a.provider?(Le&&(clearTimeout(Le),Le=null),Le=setTimeout(()=>{var e,a;p.value?A.value=new Ae(p.value||0).times(P.value).div((null==(e=l.token2)?void 0:e.price)||1).toFixed(l.token2.decimals):A.value&&(p.value=new Ae(A.value).times((null==(a=l.token2)?void 0:a.price)||0).div(P.value).toFixed(l.token1.decimals))},500)):l.token1.address===l.token2.address&&t({type:"error",message:r("twoIdenticalTokens")})}function Be(){var e,t,n,o,s;const i=a.chain,r=l.token1.chain,u=l.token2.chain,d=Object.keys(za).concat("solana");return!(r&&!(null==(e=null==d?void 0:d.includes)?void 0:e.call(d,r)))&&(!(u&&!(null==(t=null==d?void 0:d.includes)?void 0:t.call(d,u)))&&(!!i&&(!(null==(o=null==(n=a.address)?void 0:n.startsWith)?void 0:o.call(n,"T"))&&(!(i&&!(null==(s=null==d?void 0:d.includes)?void 0:s.call(d,i)))&&(i===r&&i===u)))))}function De(){var e,t,n,o,s,i,u;const d=a.chain,c=Object.keys(za).concat("solana"),v=Ye(d).name,p=l.token1.chain,m=l.token2.chain;return p&&!(null==(e=null==c?void 0:c.includes)?void 0:e.call(c,p))?r("noSupportChain",{chain:null==(t=Ye(p))?void 0:t.name}):m&&!(null==(n=null==c?void 0:c.includes)?void 0:n.call(c,m))?r("noSupportChain",{chain:null==(o=Ye(m))?void 0:o.name}):d?(null==(i=null==(s=a.address)?void 0:s.startsWith)?void 0:i.call(s,"T"))?r("noSupportChain",{chain:"TRON"}):d&&!(null==(u=null==c?void 0:c.includes)?void 0:u.call(c,d))?r("noSupportChain",{chain:v}):d!==p&&p||d!==m&&m?r("chainNotSame1"):p!==m?r("tokenNoSameChain"):"":r("noSupportChain",{chain:v})}function Me(){if("solana"===i.value&&F.value)return!1;const e=(0===l.activeTab?l.token2:l.token1).balance||0,t=0===l.activeTab?A.value:p.value;return!(0===Number(e)||Number(e)<Number(t)||!a.provider||"0"===String(t)||l.token1.address===l.token2.address)}function Pe(){if("solana"===i.value&&F.value)return r("noSToken");const e=(0===l.activeTab?l.token2:l.token1).balance||0,t=0===l.activeTab?A.value:p.value;return a.address?a.address&&!a.provider?r("observeAddressNotSwap"):Number(0===e||Number(e)<Number(t)||!a.provider)?r("insufficientBalance"):"0"===String(t)?r("AmountCannotBeZero"):"":r("pConnectWallet")}function Ee(){try{if(!a.provider)return void(a.provider||oe.alert(r("browserWalletNotDetected"),r("tips"),{confirmButtonText:r("confirm")}));if(!Be())return;const e=a.chain;if(e!==(l.token1.chain||l.token2.chain||e))return void oe.alert(r("plsSwitchChain",{chain:e}),r("tips"));0!==l.swapType&&1!==l.swapType||(re.value?function(){var e;const t=0===l.activeTab?l.token2:l.token1,n=0===l.activeTab?l.token1:l.token2,o=0===l.activeTab?A.value:p.value,s=0===l.activeTab?p.value:A.value,i=0===l.activeTab?l.token1.decimals:l.token2.decimals;let u=new Ae(v.value||0);u=new Ae(1).minus(u.div(100));let d=new Ae(vt[t.chain||a.chain]||0).times(5);d=d.gte(3)?d.gte(50)?new Ae(50):d:new Ae(3);if(!new Ae(o).times((null==t?void 0:t.price)||0).gte(d.times(.999)))return void oe.alert(r("minimumTransactionAmount",{n:d.toFixed()}),r("tips"),{confirmButtonText:r("okay")});const c=l.token1.chain||a.chain;se.value={chain:c,orderType:l.swapType,fromToken:t,toToken:n,fromAmount:o,toAmount:s,targetToken:l.token1.address,targetTokenInfo:l.token1,targetLimitPrice:"solana"===c?P.value:E.value,triggerPrice:O.value,activeTab:l.activeTab,minReturn:(null==(e=new Ae(s||0).times(u).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${i}})?`)))?void 0:e[0])||"0",slippage:v.value},X.value=1,"solana"===c?(j.value=!0,el([se.value.targetToken+"-"+c]).then(e=>{var a,t,n,o,s,i,u,d;const c=(null==(a=null==e?void 0:e[0])?void 0:a.current_price_usd)||(null==(n=null==(t=se.value)?void 0:t.targetTokenInfo)?void 0:n.price)||(null==(o=l.baseToken)?void 0:o.token.current_price_usd)||0;0===l.activeTab&&new Ae(c).lt((null==(s=se.value)?void 0:s.targetLimitPrice)||"0")?oe.alert(r("limitPriceTips",{p1:Q(null==(i=se.value)?void 0:i.targetLimitPrice),p2:Q(c)}),r("tips"),{confirmButtonText:r("okay")}):1===l.activeTab&&new Ae(c).gt((null==(u=se.value)?void 0:u.targetLimitPrice)||"0")?oe.alert(r("limitPriceTips1",{p1:Q(null==(d=se.value)?void 0:d.targetLimitPrice),p2:Q(c)}),r("tips"),{confirmButtonText:r("okay")}):(Y.value=!0,j.value=!1)}).catch(()=>{Y.value=!0,j.value=!1}).finally(()=>{j.value=!1})):Y.value=!0}():async function(){if(!Be())return;q.value=!0;const e=l.token1.chain||a.chain||"",t=za[e],n=0===l.activeTab?l.token2:l.token1;Aa(n.address,t).then(e=>e.wait()).then(e=>{pe()}).catch(e=>{na(e)}).finally(()=>{q.value=!1})}())}catch(e){}}function Ue(){var e,t,n,o,s;if(!Be())return;let i=new Ae(v.value||0);i=new Ae(1).minus(i.div(100));const u=a.address,d=0===l.activeTab?l.token2:l.token1,c=0===l.activeTab?l.token1:l.token2,m=0===l.activeTab?A.value:p.value,f=0===l.activeTab?p.value:A.value,h=d.address,x=ea((null==(e=new Ae(m||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${d.decimals}})?`)))?void 0:e[0])||0,d.decimals).toFixed(0),b=c.address,k=ea((null==(t=new Ae(f||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${c.decimals}})?`)))?void 0:t[0])||0,c.decimals).toFixed(0),g=ea((null==(n=new Ae(f||0).times(i).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${c.decimals}})?`)))?void 0:n[0])||0,c.decimals).toFixed(0),_=l.token1.address,y=E.value;K.value=!0;const w=l.swapType;O.value;const T=(null==(s=null==(o=l.baseToken)?void 0:o.token)?void 0:s.current_price_usd)?rl(l.baseToken.token.current_price_usd):"";if("solana"===l.chain){const e=G.value?Number(Math.floor(Date.now()/1e3)+Math.floor(G.value)):null;let t="";return void Ok({fromToken:h,fromAmount:x,toToken:b,toAmount:k,expiredAt:e}).then(e=>{const l=e.result;return t=l.order,e.send()}).then(l=>{const n={from_token:h,from_token_symbol:null==d?void 0:d.symbol,from_token_decimals:null==d?void 0:d.decimals,to_token:b,to_token_symbol:null==c?void 0:c.symbol,to_token_decimals:null==c?void 0:c.decimals,from_amount:Number(x)||0,to_amount:Number(k)||0,id:t,orderKey:t,chain:"solana",created_at:0,state:"Sending",from_amount_used:"0",percent:"0",expiredAt:e,from_token_logo_url:d.logo_url,to_token_logo_url:c.logo_url};return oo({chain:"solana",destination:"wallet rpc",type:20,order_id:"jupiter_"+t,status:1,wallet:a.address,out_token:b,out_amount:n.to_amount,in_token:h,in_amount:n.from_amount}),Z.value=[n,...Z.value],K.value=!1,Y.value=!1,l.wait()}).then(()=>{Re(t),p.value="",A.value="",d.address===l.token1.address?l.getToken1Info():d.address===l.token2.address&&l.getToken2Info()}).catch(e=>{Z.value=Z.value.filter(e=>e.orderKey!==t),na(e,"solana")}).finally(()=>{K.value=!1,Y.value=!1})}(async function(e,l,a,t,n,o,s,i,r,u,d,c=Date.now(),v=W().chain){const p=Ha(ja.defaultAbiCoder().encode(["address","address","uint256","address","uint256","uint256"],[e,l,a,t,n,c])),m=W(),f=await Da();if(l===Ge){const h=new Ea(za[v],Wa,f);return h.depositEth.estimateGas(t,n,c,{value:a}).then(f=>h.depositEth(t,n,c,{value:a,gasLimit:f.toString()}).then(e=>e.wait()).then(f=>{const h={id:p,fromToken:l,fromAmount:a,toToken:t,toAmount:o,minReturn:n,targetToken:s,targetLimitPrice:i,salt:c,signature:"",maker:e,orderType:r,triggerPrice:u,currentPrice:d};return oo({chain:v,destination:"wallet rpc",type:20,order_id:"aveswap_"+p,status:1,wallet:m.address,out_token:t,out_amount:o,in_token:l,in_amount:a}),Hk(h)}))}const h=qa(p);return null==f?void 0:f.signMessage(h).then(v=>Hk({id:p,fromToken:l,fromAmount:a,toToken:t,toAmount:o,minReturn:n,targetToken:s,targetLimitPrice:i,salt:c,signature:v,maker:e,orderType:r,triggerPrice:u,currentPrice:d}))})(u,h,x,b,g,k,_,y,w,O.value,T).then(()=>{ne.success(r("submitOrdersSuccess")),Re(),p.value="",A.value="",Y.value=!1,d.address===Ge&&(d.address===l.token1.address?l.getToken1Info():d.address===l.token2.address&&l.getToken2Info())}).catch(e=>{na(e)}).finally(()=>{K.value=!1})}function Re(e,l){if(a.chain){const t=a.chain;if("solana"===t)return void je(e,l);J.value=!0,function(e,l=1,a=1e3){const t=W(),o=e.chain||t.chain||"",s=e.maker||t.address||"";if(!o||!s)return Promise.resolve([]);const{$api:i}=n();return i("/v1api/v2/aveswap/limitorder",{method:"get",query:{pageNO:l,pageSize:a,...{maker:s,chain:o,...e}}}).then(e=>{var l;return Promise.resolve((null==(l=null==e?void 0:e.data)?void 0:l.data)||(null==e?void 0:e.data)||e||[])})}({chain:t}).then(e=>{Z.value=e}).finally(()=>{setTimeout(()=>{J.value=!1},800)})}}let Oe=null,He=0;function je(e,l=1){if("solana"===a.chain)return J.value=!0,Promise.all([pt({wallet:a.address}),mt({wallet:a.address,take:100})]).then(async a=>{var t,n,o,s,i,r,u,d,c,v;const p=(null==(n=null==(t=null==a?void 0:a[0])?void 0:t.map)?void 0:n.call(t,e=>[(null==e?void 0:e.inputMint)+"-solana",(null==e?void 0:e.outputMint)+"-solana"]))||[],m=(null==(s=null==(o=null==a?void 0:a[1])?void 0:o.map)?void 0:s.call(o,e=>[(null==e?void 0:e.inputMint)+"-solana",(null==e?void 0:e.outputMint)+"-solana"]))||[],f=Array.from(new Set([...null==(i=null==p?void 0:p.flat)?void 0:i.call(p),...null==m?void 0:m.flat()])),h=await ft(f).catch(async e=>({})),x=[...null==(u=null==(r=null==a?void 0:a[0])?void 0:r.map)?void 0:u.call(r,e=>{var l,a,t,n,o,s,i,r,u,d,c,v,p,m,f,x,b,k,g;const _=null==(l=h[e.inputMint+"-solana"])?void 0:l.decimal,y=null==(a=h[e.outputMint+"-solana"])?void 0:a.decimal;return{...e,from_token:e.inputMint,from_token_symbol:null==(t=h[e.inputMint+"-solana"])?void 0:t.symbol,from_token_decimals:null==(n=h[e.inputMint+"-solana"])?void 0:n.decimal,from_token_price:null==(o=h[e.inputMint+"-solana"])?void 0:o.current_price_usd,to_token:e.outputMint,to_token_symbol:null==(s=h[e.outputMint+"-solana"])?void 0:s.symbol,to_token_decimals:null==(i=h[e.outputMint+"-solana"])?void 0:i.decimal,to_token_price:null==(r=h[e.outputMint+"-solana"])?void 0:r.current_price_usd,from_amount:(null==(c=null==(d=null==(u=new Ae(e.makingAmount||0))?void 0:u.times)?void 0:d.call(u,10**_))?void 0:c.toFixed(0))||0,to_amount:(null==(m=null==(p=null==(v=new Ae(e.takingAmount||0))?void 0:v.times)?void 0:p.call(v,10**y))?void 0:m.toFixed(0))||0,chain:"solana",from_amount_used:null==(x=null==(f=new Ae(e.makingAmount||0).minus(e.remainingMakingAmount))?void 0:f.times)?void 0:x.call(f,10**_).toFixed(0),to_amount_used:null==(b=new Ae(e.takingAmount||0).minus(e.remainingTakingAmount))?void 0:b.times(10**y).toFixed(0),percent:new Ae(e.makingAmount||0).minus(e.remainingMakingAmount).div(e.makingAmount).times(100).toFixed(),from_token_logo_url:null==(k=h[e.inputMint+"-solana"])?void 0:k.logo_url,to_token_logo_url:null==(g=h[e.outputMint+"-solana"])?void 0:g.logo_url,id:e.orderKey,state:"Pending"}}),...null==(c=null==(d=null==a?void 0:a[1])?void 0:d.map)?void 0:c.call(d,e=>{var l,a,t,n,o,s,i,r,u,d,c,v,p,m,f,x,b,k,g;const _=null==(l=h[e.inputMint+"-solana"])?void 0:l.decimal,y=null==(a=h[e.outputMint+"-solana"])?void 0:a.decimal;return{...e,from_token:e.inputMint,from_token_symbol:null==(t=h[e.inputMint+"-solana"])?void 0:t.symbol,from_token_decimals:null==(n=h[e.inputMint+"-solana"])?void 0:n.decimal,from_token_price:null==(o=h[e.inputMint+"-solana"])?void 0:o.current_price_usd,to_token:e.outputMint,to_token_symbol:null==(s=h[e.outputMint+"-solana"])?void 0:s.symbol,to_token_decimals:null==(i=h[e.outputMint+"-solana"])?void 0:i.decimal,to_token_price:null==(r=h[e.outputMint+"-solana"])?void 0:r.current_price_usd,from_amount:(null==(c=null==(d=null==(u=new Ae(e.makingAmount||0))?void 0:u.times)?void 0:d.call(u,10**_))?void 0:c.toFixed(0))||0,to_amount:(null==(m=null==(p=null==(v=new Ae(e.takingAmount||0))?void 0:v.times)?void 0:p.call(v,10**y))?void 0:m.toFixed(0))||0,chain:"solana",from_amount_used:null==(x=null==(f=new Ae(e.makingAmount||0).minus(e.remainingMakingAmount))?void 0:f.times)?void 0:x.call(f,10**_).toFixed(0),to_amount_used:null==(b=new Ae(e.takingAmount||0).minus(e.remainingTakingAmount))?void 0:b.times(10**y).toFixed(0),percent:new Ae(e.makingAmount||0).minus(e.remainingMakingAmount).div(e.makingAmount).times(100).toFixed(),from_token_logo_url:null==(k=h[e.inputMint+"-solana"])?void 0:k.logo_url,to_token_logo_url:null==(g=h[e.outputMint+"-solana"])?void 0:g.logo_url,id:e.orderKey,state:e.status}})],b=null==x?void 0:x.some(l=>l.orderKey===e),k=null==x?void 0:x.some(l=>l.orderKey===e&&"Cancelled"===l.state);return e&&He<=30&&(0!==l&&!b||0===l&&!k)?(Oe&&(clearTimeout(Oe),Oe=null),new Promise(a=>{Oe=setTimeout(()=>{var t;He+=5,null==(t=null==je?void 0:je(e,l))||t.then(e=>{a(e)})},5e3)})):(J.value=!1,Z.value=null==(v=null==x?void 0:x.filter)?void 0:v.call(x,a=>!(a.orderKey===e&&"Pending"===a.state&&0===l)),He=0,x)}).catch(e=>{He=0,J.value=!1})}function ze(e,l){var a;"solana"===e.chain?null==(a=null==je?void 0:je(e.publicKey,0))||a.then(()=>{l&&(l[e.publicKey]=!1)}):Re()}return d(()=>l.fromToken.address,()=>{l.fromToken.address&&(p.value="",A.value="",pe())}),d(()=>a.address,()=>{a.address&&(pe(),Re())}),u(()=>{var e,a,t,n,o,s;pe(),Re(),"solana"!==i.value?(E.value=(null==(a=null==(e=l.baseToken)?void 0:e.token)?void 0:a.current_price_usd)?rl(l.baseToken.token.current_price_usd):"",O.value=(null==(n=null==(t=l.baseToken)?void 0:t.token)?void 0:n.current_price_usd)?rl(l.baseToken.token.current_price_usd):""):P.value=(null==(s=null==(o=l.baseToken)?void 0:o.token)?void 0:s.current_price_usd)?Q(l.baseToken.token.current_price_usd):"",me()}),(e,t)=>{var n,s;const u=_e,d=Pl,c=ke,$=y;return x(),w(T,null,[k("form",{class:"swap-container",action:"",onSubmit:L(Ee,["prevent","stop"])},[k("div",Bg,[k("div",Dg,[S(Th,{token:h(l).token1,"onUpdate:token":[t[0]||(t[0]=e=>h(l).token1=e),ce],tokens:h(l).swapTokens,chain:h(l).chain},null,8,["token","tokens","chain"]),t[21]||(t[21]=k("span",{style:{flex:"1"}},null,-1)),k("div",{class:"s-text",innerHTML:`${e.$t("balance1")}: ${("formatNumber"in e?e.formatNumber:h(Q))((null==(n=h(l).token1)?void 0:n.balance)||0)}`},null,8,Mg),1===h(l).activeTab?(x(),w("button",{key:0,class:"max-btn",type:"button",onClick:t[1]||(t[1]=L(e=>Ce(100),["stop"]))},_(e.$t("max")),1)):f("",!0)]),k("div",Pg,[S(u,{modelValue:h(p),"onUpdate:modelValue":[t[2]||(t[2]=e=>B(p)?p.value=e:null),t[3]||(t[3]=e=>{var l;p.value=null==(l=null==e?void 0:e.replace)?void 0:l.call(e,/\-|[^\d.]/g,""),Ne()})],placeholder:"0.0",size:"large",clearable:"",class:"input-number","input-style":"text-align:right",onFocus:t[4]||(t[4]=e=>{var l;return null==(l=h(o))?void 0:l.handleClick(0,!0)})},null,8,["modelValue"])])]),k("div",Eg,[k("div",Ug,[S(Th,{token:h(l).token2,"onUpdate:token":[t[5]||(t[5]=e=>h(l).token2=e),ve],tokens:h(l).swapTokens,chain:h(l).chain},null,8,["token","tokens","chain"]),t[22]||(t[22]=k("span",{style:{flex:"1"}},null,-1)),k("div",{class:"s-text",innerHTML:`${e.$t("balance1")}: ${("formatNumber"in e?e.formatNumber:h(Q))((null==(s=h(l).token2)?void 0:s.balance)||0)}`},null,8,Rg),0===h(l).activeTab?(x(),w("button",{key:0,class:"max-btn",type:"button",onClick:t[6]||(t[6]=L(e=>Ce(100),["stop"]))},_(e.$t("max")),1)):f("",!0)]),k("div",Og,[S(u,{modelValue:h(A),"onUpdate:modelValue":[t[7]||(t[7]=e=>B(A)?A.value=e:null),t[8]||(t[8]=e=>{var l;A.value=null==(l=null==e?void 0:e.replace)?void 0:l.call(e,/\-|[^\d.]/g,""),Ie()})],placeholder:"0.0",size:"large",clearable:"",class:"input-number","input-style":"text-align:right",onFocus:t[9]||(t[9]=e=>{var l;return null==(l=h(o))?void 0:l.handleClick(0,!0)})},null,8,["modelValue"])])]),S(Jx,{ref:"percentStepInf",activeColor:0===h(l).activeTab?("upColor"in e?e.upColor:h(we))[0]:("downColor"in e?e.downColor:h(Te))[0],onChange:Ce},null,8,["activeColor"]),1===h(l).swapType?(x(),w("div",Hg,_(e.$t("triggerPrice"))+"("+_(h(l).token1.symbol||"")+")",1)):f("",!0),1===h(l).swapType?(x(),w("div",jg,[k("button",{class:"limit-price-icon",type:"button",disabled:!h(O),onClick:L(xe,["stop"])},[S(d,null,{default:b(()=>[S(h(rt))]),_:1})],8,zg),t[23]||(t[23]=k("span",{class:"text-14px color-[--d-666-l-999]"},"$",-1)),S(u,{modelValue:h(O),"onUpdate:modelValue":[t[10]||(t[10]=e=>B(O)?O.value=e:null),t[11]||(t[11]=e=>{var l;O.value=null==(l=null==e?void 0:e.replace)?void 0:l.call(e,/\-|[^\d.]/g,"")})],placeholder:"0.0",size:"large",clearable:"",class:"input-number","input-style":"text-align:center"},null,8,["modelValue"]),k("button",{class:"limit-price-icon",type:"button",disabled:!h(O),onClick:L(be,["stop"])},[S(d,null,{default:b(()=>[S(h(ut))]),_:1})],8,Wg)])):f("",!0),"solana"===h(l).chain&&0===h(l).swapType?(x(),w(T,{key:2},[k("div",qg,_(e.$t("delegatePrice"))+"("+_(h(l).token1.symbol||"")+")",1),k("div",Gg,[k("button",{class:"limit-price-icon",type:"button",disabled:!h(P),onClick:L(ge,["stop"])},[S(d,null,{default:b(()=>[S(h(rt))]),_:1})],8,Yg),t[24]||(t[24]=k("span",{class:"text-14px color-[--d-666-l-999]"},"$",-1)),S(u,{modelValue:h(P),"onUpdate:modelValue":[t[12]||(t[12]=e=>B(P)?P.value=e:null),t[13]||(t[13]=e=>{var l;P.value=null==(l=null==e?void 0:e.replace)?void 0:l.call(e,/\-|[^\d.]/g,""),Ve()})],placeholder:"0.0",size:"large",clearable:"",class:"input-number","input-style":"text-align:center"},null,8,["modelValue"]),k("button",{class:"limit-price-icon",type:"button",disabled:!h(P),onClick:L(ye,["stop"])},[S(d,null,{default:b(()=>[S(h(ut))]),_:1})],8,Qg)])],64)):(x(),w(T,{key:3},[k("div",Kg,_(e.$t("delegatePrice"))+"("+_(h(l).token1.symbol||"")+")",1),k("div",Xg,[k("button",{class:"limit-price-icon",type:"button",disabled:!h(E),onClick:L(fe,["stop"])},[S(d,null,{default:b(()=>[S(h(rt))]),_:1})],8,Zg),t[25]||(t[25]=k("span",{class:"text-14px color-[--d-666-l-999]"},"$",-1)),S(u,{modelValue:h(E),"onUpdate:modelValue":[t[14]||(t[14]=e=>B(E)?E.value=e:null),t[15]||(t[15]=e=>{var l;E.value=null==(l=null==e?void 0:e.replace)?void 0:l.call(e,/\-|[^\d.]/g,""),Fe()})],placeholder:"0.0",size:"large",clearable:"",class:"input-number","input-style":"text-align:center"},null,8,["modelValue"]),k("button",{class:"limit-price-icon",type:"button",disabled:!h(E),onClick:L(he,["stop"])},[S(d,null,{default:b(()=>[S(h(ut))]),_:1})],8,Jg)])],64)),h(a).address?h(a).address&&!h(a).provider?(x(),m(c,{key:5,"native-type":"button",class:"submit-btn",disabled:"",color:"#555555"},{default:b(()=>[I(_(e.$t("watchWalletNotSwap")),1)]),_:1})):Be()?!h(re)||h(N)?(x(),m(c,{key:7,class:"submit-btn",block:"",color:h(de),"native-type":"submit","loading-text":h(N)?e.$t("checkingAllowance"):h(H)?e.$t("quoting"):h(q)?e.$t("approve"):"",disabled:!Me(),loading:h(q)||h(j)||h(N)},{default:b(()=>[I(_(Pe()||e.$t("approve")),1)]),_:1},8,["color","loading-text","disabled","loading"])):(x(),m(c,{key:8,class:"submit-btn",block:"",loading:h(j)||h(M),"loading-text":h(M)?e.$t("quoting"):h(j)?0===h(l).activeTab?e.$t("buying"):e.$t("selling"):e.$t("quoting"),color:h(de),disabled:!Me()||!h(p)||!h(A)||h(N),"native-type":"submit"},{default:b(()=>{var a;return[I(_(Pe()||(0===h(l).activeTab?e.$t("buy"):e.$t("sell"))+" "+((null==(a=h(l).token1)?void 0:a.symbol)||"")),1)]}),_:1},8,["loading","loading-text","color","disabled"])):(x(),m(c,{key:6,"native-type":"button",class:"submit-btn",disabled:"",block:"",color:"#555555"},{default:b(()=>[I(_(De()),1)]),_:1})):(x(),m(c,{key:4,"native-type":"button",class:"submit-btn",color:"#286DFF",onClick:t[16]||(t[16]=L(l=>("useBotStore"in e?e.useBotStore:h(z))().changeConnectVisible(!0,1),["stop"]))},{default:b(()=>[I(_(e.$t("pConnectWallet")),1)]),_:1})),k("ul",e_,["solana"!==h(i)?(x(),w("li",l_,[k("span",null,_(e.$t("slippage")),1),S($,{name:"material-symbols:help-outline",onClick:t[17]||(t[17]=L(l=>{return a=e.$t("slippage"),t=e.$t("minimumReceivedTips"),void oe.alert(t,a,{confirmButtonText:r("getIt")}).then(()=>{});var a,t},["stop"]))}),t[26]||(t[26]=k("span",{style:{flex:"1"}},null,-1)),S(Mh,{slippage:h(v),"onUpdate:slippage":t[18]||(t[18]=e=>B(v)?v.value=e:null),canSetAuto:!1},null,8,["slippage"])])):f("",!0),0===h(l).swapType||1===h(l).swapType?(x(),w("li",a_,[k("div",t_,[k("span",null,_(e.$t("limitExpiredTime")),1)]),0===h(l).swapType&&"solana"===h(i)?(x(),m(Mb,{key:0,expiredTime:h(G),"onUpdate:expiredTime":t[19]||(t[19]=e=>B(G)?G.value=e:null)},null,8,["expiredTime"])):(x(),w("div",n_,_(h(dt))+" "+_(e.$t("days1")),1))])):f("",!0)])],32),g(k("div",o_,[k("div",s_,[(x(!0),w(T,null,C(h(ae),(e,l)=>(x(),w("button",{key:l,class:V(["tab-item",{active:e.value===h(le)}]),type:"button",onClick:L(l=>le.value=e.value,["stop"])},_(e.name),11,i_))),128))]),g(S(Vg,{class:"mt-5px",tableList:h(te),onRefresh:ze},null,8,["tableList"]),[[ue,"limit"===h(le)]])],512),[[ue,2!==h(l).swapType]]),S(Pk,{visible:h(Y),"onUpdate:visible":t[20]||(t[20]=e=>B(Y)?Y.value=e:null),limitInfo:h(se),loading:h(K),chain:h(a).chain,limitGasU:h(U),activeShow:h(X),onSubmit:Ue},null,8,["visible","limitInfo","loading","chain","limitGasU","activeShow"])],64)}}}),[["__scopeId","data-v-a255978a"]]),u_=o({__name:"swap",setup(e){const l=Qx(),a=c(()=>0===l.swapType||1===l.swapType?r_:Bb);return(e,t)=>(x(),w(T,null,[S(Kf,{tab:h(l).swapType,"onUpdate:tab":t[0]||(t[0]=e=>h(l).swapType=e)},null,8,["tab"]),(x(),m(ht(h(a))))],64))}}),d_=o({__name:"index",setup(e){const l=W(),a=Qx(),t=j(),n=i();return d([()=>{var e;return(null==(e=t.token)?void 0:e.token)||""},()=>l.chain,()=>l.address],()=>{var e;a.init(null==(e=n.params)?void 0:e.id)},{immediate:!0}),u(()=>{}),(e,l)=>(x(),w("div",null,[S(_f),S(Yf,{activeTab:h(a).activeTab,"onUpdate:activeTab":l[0]||(l[0]=e=>h(a).activeTab=e)},null,8,["activeTab"]),S(u_)]))}}),c_={class:"flex flex-col h-[calc(100vh-94px)] v-scroller-container"},v_={class:"p-15px bg-[--secondary-bg] mt-.5px"},p_={class:"p-15px pb-5px bg-[--secondary-bg] mt-1px"},m_=o({__name:"index",setup(e){const l=v(!1),a=O(),t=v(""),n=W();j();const o=c(()=>n.address?d_:zf),s=[{id:"5m",name:"5M"},{id:"1h",name:"1H"},{id:"4h",name:"4H"},{id:"24h",name:"24H"}],i=ie("token_tab_active","24h"),r=e=>{l.value=!0,t.value=e};return(e,u)=>{const d=ke,c=Ue;return g((x(),w("div",null,[k("div",c_,[S(dv,{modelValue:h(i),"onUpdate:modelValue":u[0]||(u[0]=e=>B(i)?i.value=e:null),tabs:s},null,8,["modelValue"]),k("div",v_,[(x(),m(ht(h(o)),{key:h(n).address?"Swap":"BotSwap"}))]),k("div",p_,[S(jv,{onOpenFilterModal:r})]),S(Op,{class:"px-15px pb-10px pr-0 bg-[--secondary-bg] mt-1px"}),u[3]||(u[3]=k("div",{class:"bg-[--secondary-bg] flex-1"},null,-1))]),h(l)?(x(),m(c,{key:0,modelValue:h(l),"onUpdate:modelValue":u[2]||(u[2]=e=>B(l)?l.value=e:null),title:h(t),width:"480","destroy-on-close":""},{footer:b(()=>[S(d,{type:"primary",block:"",class:"w-full h-[48px]",size:"large",onClick:u[1]||(u[1]=e=>l.value=!1)},{default:b(()=>[I(_(e.$t("confirm")),1)]),_:1})]),default:b(()=>[S(jv,{search:h(t),isInModal:!0},null,8,["search"])]),_:1},8,["modelValue","title"])):f("",!0)],512)),[[ue,h(a).showRight]])}}});function f_(e="add"){const{$i18n:l}=n();return new Promise((a,t)=>{oe.prompt("",l.t("enterGroupName"),{confirmButtonText:l.t("confirm1"),cancelButtonText:l.t("cancel"),customClass:"w-320px p-16px inputPop",cancelButtonClass:"w-140px h-30px",confirmButtonClass:"w-140px h-30px ml-8px!",inputValidator:e=>e?!((null==e?void 0:e.length)>20)||(t(),l.t("maximum10characters")):(t(),l.t("enterGroupName"))}).then(({value:l})=>{"add"===e?function(e,l,a){const{evmAddress:t}=z(),{address:o}=W(),{$i18n:s}=n(),i=Ln.service();Fe(e,t||o).then(()=>{ne.success(s.t("success")),l(!0)}).catch(e=>{ne.error(s.t("fail")),a()}).finally(()=>{i.close()})}(l,a,t):a(l)})})}const h_={class:"flex h-420px"},x_={class:"w-240px h-full py-20px"},b_={class:"font-500 text-20px lh-[100%] mb-10px px-20px"},k_={class:"h-[310px]"},g_=["onClick"],__={class:"flex items-center gap-8px dragItemIcons invisible"},y_={class:"flex items-center px-20px"},w_={class:"w-480px h-full py-20px bg-[--secondary-bg]"},T_={class:"font-500 text-20px lh-[100%] mb-20px px-20px"},C_={class:"flex items-center"},A_={class:"flex flex-col items-start"},S_={class:"[&&]:color-[--main-text] text-12px flex lh-[1.15]"},N_={key:0,class:"mt-2px border-solid border-0.5px border-#286dff color-#286dff rounded-4px text-10px px-4px py-1px overflow-hidden text-ellipsis whitespace-nowrap max-w-100px lh-[1.15]"},$_={class:"flex items-center gap-8px justify-end"},I_=["infinite-scroll-disabled"],F_={key:0,class:"text-center px-0 pt-15px pb-10px text-12px color-[--third-text]"},L_={key:1,class:"text-center px-0 pt-15px pb-10px text-12px color-[--third-text]"},V_={class:"flex-between h-80px px-20px"},B_=o({__name:"dialogFavoriteManage2",props:{list:{type:Array,default:()=>[]},getData:{type:Function,default:()=>{}},visible:Boolean},setup(e){const l=e,t=R(l.list);d(()=>l.list,e=>{t.value=e});const n=ve(Pe.FAV_DIALOG),{t:o}=s(),i=z(),r=W(),p=c(()=>i.evmAddress||r.address);j();const A=v(0),N=v([]),$=v({loading:!1,finished:!1,pageNo:1}),F=v(!1),D=R(!0),M=R([]);async function P(){if(!$.value.loading)try{$.value.loading=!0;const e=await xt(A.value,$.value.pageNo,p.value),l=(e||[]).map(e=>({...e,id:e.token+"-"+e.chain,address:e.token,network:e.chain,priceChange24h:(null==e?void 0:e.price_change)?Number(null==e?void 0:e.price_change)/100:0,priceUSD:(null==e?void 0:e.current_price_usd)||0,activeGroup:A.value}));1===$.value.pageNo?N.value=l:N.value=[...N.value,...l],0===(null==e?void 0:e.length)&&($.value.finished=!0),$.value.finished||$.value.pageNo++}catch(e){}finally{$.value.loading=!1}}async function E(e,l,a){const t=e.token+"-"+e.chain,s=l+a;if(s<0||s+1>N.value.length)return;const i=N.value[s],r=i.token+"-"+i.chain;try{await yt(t,r,A.value,p.value),ne.success(o("success")),U(),n.emit({type:"order",tokenId:t})}catch(u){ne.error(o("fail"))}}function U(){$.value.pageNo=1,$.value.finished=!1,P()}async function O(e){const l=e.token+"-"+e.chain,{value:a}=await oe.prompt("",o("enterRemark"),{confirmButtonText:o("confirm1"),cancelButtonText:o("cancel"),customClass:"w-320px p-16px inputPop",cancelButtonClass:"w-140px h-30px",confirmButtonClass:"w-140px h-30px ml-8px!",inputValidator:e=>!((null==e?void 0:e.length)>50)||o("maximum10characters")});!async function(e,l,a){try{await De(l,e,p.value),a.remark=e,wt(N),ne.success(o("success")),n.emit({type:"remark",tokenId:l})}catch(t){}}(a,l,e)}function H(){!function(e){At({address:p.value,group:e}).then(()=>{ne.success(o("success")),l.getData()}).catch(e=>{ne.error(String(e))})}(t.value.map(e=>e.group_id))}async function q(){await f_(),l.getData(),n.emit({type:"changeFavoriteGroupName"})}async function G(e){const{value:a}=await oe.prompt("",o("enterGroupName"),{confirmButtonText:o("confirm1"),cancelButtonText:o("cancel"),customClass:"w-320px p-16px inputPop",cancelButtonClass:"w-140px h-30px",confirmButtonClass:"w-140px h-30px ml-8px!",inputValidator:e=>e?!((null==e?void 0:e.length)>20)||o("maximum10characters"):o("cannotBeEmpty")});!async function(e,a){try{await St(e,a,p.value),ne.success(o("success")),l.getData(),n.emit({type:"changeFavoriteGroupName"})}catch(t){ne.error(t+""||o("fail"))}}(a,e.group_id)}async function Y(){await oe.confirm(o("removeTokenTips"),o("tips"),{confirmButtonText:o("confirm"),cancelButtonText:o("cancel"),customClass:"w-320px p-16px inputPop",cancelButtonClass:"w-140px h-30px",confirmButtonClass:"w-140px h-30px ml-8px!",dangerouslyUseHTMLString:!0}),Ct({address:p.value,token_ids:M.value}).then(()=>{ne.success(o("success")),U(),M.value=[],F.value=!1,D.value=!1,n.emit({type:"delete"})}).catch(e=>{ne.error(String(e))})}d([M,N],e=>{const l=e[0],a=e[1];l.length===a.length&&a.length>0?F.value=!0:F.value=!1,D.value=l.length>0&&l.length<a.length}),u(()=>{P()}),d(()=>[p.value,l.visible],()=>{U(),M.value=[],F.value=!1,D.value=!1});const Q=e=>{M.value=e?N.value.map(e=>e.token+"-"+e.chain):[],D.value=!1};return(s,i)=>{const r=y,u=a,d=ke,c=gt,v=tl,R=co,j=Tn,z=wn,W=uo,K=Nl,X=kt;return x(),w("div",h_,[k("div",x_,[k("div",b_,_(h(o)("favoritesGroup")),1),k("div",k_,[S(u,{"wrap-class":"mb-0px"},{default:b(()=>[S(h(po),bt({modelValue:h(t),"onUpdate:modelValue":i[0]||(i[0]=e=>B(t)?t.value=e:null),class:"flex flex-col",tag:"ul"},{animation:300},{"item-key":"show_index",handle:".handle1",onEnd:H}),{default:b(()=>[(x(!0),w(T,null,C(h(t),e=>(x(),w("li",{key:null==e?void 0:e.show_index,class:V(`dragItem flex-between font-400 py-12px px-20px hover:bg-[--d-2A2A2A-l-F2F2F2] cursor-pointer ${h(A)===e.group_id&&"bg-[--dialog-list-hover]"}`),onClick:l=>{return a=e.group_id,A.value=a,U(),M.value=[],F.value=!1,void(D.value=!1);var a}},[k("span",null,_(null==e?void 0:e.name),1),k("div",__,[(null==e?void 0:e.group_id)?(x(),m(r,{key:0,name:"material-symbols:dehaze",class:"text-16px text-[--third-text] cursor-move handle1"})):f("",!0),(null==e?void 0:e.group_id)?(x(),m(r,{key:1,name:"bxs:edit-alt",class:"text-13px clickable color-[--third-text]",onClick:L(l=>G(e),["stop","prevent"])},null,8,["onClick"])):f("",!0),(null==e?void 0:e.group_id)?(x(),m(r,{key:2,name:"bx:bxs-trash-alt",class:"text-13px clickable color-[--third-text]",onClick:L(a=>async function(e){await oe.confirm(o("removeFavGroupTips"),o("tips"),{confirmButtonText:o("confirm"),cancelButtonText:o("cancel"),customClass:"w-320px p-16px inputPop",cancelButtonClass:"w-140px h-30px",confirmButtonClass:"w-140px h-30px ml-8px!",dangerouslyUseHTMLString:!0});try{await Tt(e.group_id,p.value),ne.success(o("success")),l.getData(),n.emit({type:"removeFavoriteGroup",groupId:e.group_id})}catch(a){}}(e),["stop","prevent"])},null,8,["onClick"])):f("",!0)])],10,g_))),128))]),_:1},16,["modelValue"])]),_:1})]),k("div",y_,[S(d,{type:"primary",color:"#3F80F7",class:"w-100% h-40px",onClick:q},{default:b(()=>[I(_(h(o)("newGroup")),1)]),_:1})])]),k("div",w_,[k("div",T_,_(h(o)("groupDetails")),1),S(K,{modelValue:h(M),"onUpdate:modelValue":i[1]||(i[1]=e=>B(M)?M.value=e:null)},{default:b(()=>[S(W,{id:"table_fav",ref:"table_ref",data:h(N),height:"280px",class:"w-full table-container [&&]:text-12px","highlight-current-row":""},{empty:b(()=>[S(c)]),append:b(()=>{var e,l;return[g(k("div",{class:"text-0 lh-0 h-0","infinite-scroll-disabled":h($).loading||h($).finished,"infinite-scroll-distance":20,"infinite-scroll-delay":200,"infinite-scroll-immediate":!0},null,8,I_),[[X,P]]),h($).loading&&(null==(e=h(N))?void 0:e.length)>0?(x(),w("div",F_,_(s.$t("loading")),1)):h($).finished&&(null==(l=h(N))?void 0:l.length)>0?(x(),w("div",L_,_(s.$t("noMore")),1)):f("",!0)]}),default:b(()=>[S(R,{label:s.$t("token")},{default:b(({row:e})=>[k("div",C_,[S(v,{value:(null==e?void 0:e.token)+"-"+(null==e?void 0:e.chain),size:"large"},null,8,["value"]),S($l,{class:"mr-8px",row:e},null,8,["row"]),k("div",A_,[k("span",S_,_(e.symbol),1),e.remark?(x(),w("span",N_,_(e.remark||"-"),1)):f("",!0)])])]),_:1},8,["label"]),S(R,{label:s.$t("changeGroup"),align:"right"},{default:b(({row:l})=>[S(z,{modelValue:l.activeGroup,"onUpdate:modelValue":e=>l.activeGroup=e,class:"[&&]:[--el-fill-color-blank:--border]",placeholder:s.$t("pleaseSelectGroup"),persistent:!1,onChange:e=>async function(e,l){try{const a=e.token+"-"+e.chain;await Be(a,l,p.value),ne.success(o("success")),U(),n.emit({type:"confirmSwitchGroup",tokenId:a})}catch(a){ne.error(o("fail"))}}(l,e)},{default:b(()=>[(x(!0),w(T,null,C(e.list,e=>(x(),m(j,{key:e.group_id,label:e.name,value:e.group_id,disabled:h(A)===e.group_id},null,8,["label","value","disabled"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","placeholder","onChange"])]),_:1},8,["label"]),S(R,{label:s.$t("operate"),align:"right"},{default:b(({row:e,$index:a})=>[k("div",$_,[S(r,{name:"bx:arrow-to-top",class:V("text-16px clickable "+(0===a?"color-[--third-text] cursor-not-allowed":"color-[--main-text]")),onClick:L(l=>async function(e,l){if(0!==l)try{const l=e.token+"-"+e.chain;await _t(l,A.value,p.value),ne.success(o("success")),U(),n.emit({type:"order",tokenId:l})}catch(a){ne.error(o("fail"))}}(e,a),["stop"])},null,8,["class","onClick"]),S(r,{name:"material-symbols:arrow-upward",class:V("text-16px clickable "+(0===a?"color-[--third-text] cursor-not-allowed":"color-[--main-text]")),onClick:L(l=>E(e,a,-1),["stop"])},null,8,["class","onClick"]),S(r,{name:"material-symbols:arrow-downward",class:V("text-16px clickable "+(a+1===h(N).length?"color-[--third-text] cursor-not-allowed":"color-[--main-text]")),onClick:L(l=>E(e,a,1),["stop"])},null,8,["class","onClick"]),S(r,{name:"bxs:edit-alt",class:"text-13px clickable color-[--main-text]",onClick:L(l=>O(e),["stop","prevent"])},null,8,["onClick"]),S(r,{name:"bx:bxs-trash-alt",class:"text-13px clickable color-[--main-text]",onClick:L(a=>function(e){Me(`${e.token}-${e.chain}`,p.value).then(()=>{n.emit({type:"delete"}),U(),ne.success(o("cancelled1")),l.getData()}).catch(e=>{})}(e),["stop","prevent"])},null,8,["onClick"])])]),_:1},8,["label"])]),_:1},8,["data"])]),_:1},8,["modelValue"]),k("div",V_,[S(v,{modelValue:h(F),"onUpdate:modelValue":i[2]||(i[2]=e=>B(F)?F.value=e:null),indeterminate:h(D),onChange:Q,label:h(o)("selectAll"),size:"large"},null,8,["modelValue","indeterminate","label"]),S(d,{type:"primary",color:"#3F80F7",class:"h-40px",onClick:Y,disabled:!h(M).length},{default:b(()=>[I(_(h(o)("batchDelete")),1)]),_:1},8,["disabled"])])])])}}}),D_=M(B_,[["__scopeId","data-v-06d4fd65"]]),M_=o({__name:"favDialog2",props:{visible:Boolean,isScroll:Boolean,loading:Boolean,list:{type:Array,default:()=>[]},getData:{type:Function,default:()=>{}}},emits:["update:visible"],setup(e,{emit:l}){const a=e,{t:t}=s(),n=l,{theme:o}=G(),i=c({get:()=>a.visible,set(e){n("update:visible",e)}});return d(i,e=>{e&&a.getData()}),(l,a)=>{const t=Ue;return h(i)?(x(),m(t,{key:0,modelValue:h(i),"onUpdate:modelValue":a[0]||(a[0]=e=>B(i)?i.value=e:null),"append-to-body":"","show-close":!0,"align-center":"",width:"720px","destroy-on-close":"",class:V(`${h(o)} [--el-message-close-size:24px] favDialog2`)},{default:b(()=>[S(D_,{visible:h(i),list:e.list,"get-data":e.getData,loading:e.loading},null,8,["visible","list","get-data","loading"])]),_:1},8,["modelValue","class"])):f("",!0)}}}),P_={class:"flex items-center justify-between pr-15px pl-12px mt-10px"},E_={class:"flex items-center min-w-0"},U_=["onClick"],R_=["infinite-scroll-disabled"],O_={class:"pb-20px"},H_={class:"flex items-center flex-1"},j_={class:"flex flex-col items-start"},z_={class:"text-12px flex items-center"},W_={class:"ellipsis"},q_=["src"],G_={key:0,class:"mt-2px border-solid border-0.5px border-#286dff color-#286dff rounded-4px text-10px px-4px py-1px overflow-hidden text-ellipsis whitespace-nowrap max-w-100px"},Y_={class:"flex-1 text-12px text-right"},Q_={key:0},K_={key:1},X_={key:0,class:"color-#959a9f text-12px text-center"},Z_=o({__name:"favoriteTable",props:{height:{type:[Number,String],default:0}},setup(l){const t=ve(Pe.TOP_FAV_CHANGE);t.on($);const n=ve(Pe.FAV_DIALOG);n.on($);const o=ve(Pe.TOP_ADD_GROUP);o.on(fe);const N=R();function $(e){-1===e?function(){const e=H.value.address+"-"+H.value.chain,l=ie.value.findIndex(l=>l.token+"-"+l.chain===e);-1!==l&&ie.value.splice(l,1);wt(ie)}():(ye(),_e())}re(()=>{t.off($),n.off($),o.off($)});const{t:F}=s(),D=je(),M=vo(),{token:P}=q(j()),E=i(),{zone:U}=q(O()),H=c(()=>{var e,l;const a=E.params.id;return a?r(a):{address:(null==(e=P.value)?void 0:e.token)||"",chain:(null==(l=P.value)?void 0:l.chain)||""}});d(()=>D.wsResult[Cl.PRICEV2],e=>{ie.value=ie.value.map(l=>{const a=e.prices.find(e=>l.token===e.token&&l.chain===e.chain);return a?{...l,current_price_usd:a.uprice,price_change:a.price_change,price_change_v2:a.price_change_v2}:l}),"price_change"!==ne.value.sortBy&&"price_change_v2"!==ne.value.sortBy||ie.value.sort((e,l)=>((l[ne.value.sortBy]||0)-(e[ne.value.sortBy]||0))*ne.value.activeSort),wt(ie)});const G=l,Y=c(()=>Number(G.height)-110),K=z(),X=W(),Z=c(()=>K.evmAddress||X.address),J=v(!1),ee=v(!1),le=v([]),ae=v(0),te=Nt("favoriteCondition",{currentMode:"mcap"}),ne=v({activeSort:0,sortBy:null}),oe={sort:"",sort_dir:""},se=R({finished:!1,loading:!1,pageNo:1,error:!1}),ie=v([]),de=c(()=>[{label:F("token"),value:"symbol",flex:"flex-1",sort:!0},{label:("mcap"===te.value.currentMode?F("mCap"):F("price"))+"{currentMode}/"+F("Chg")+"%",value:"24h"===U.value?"price_change_v2":"price_change",currentMode:te.value.currentMode,flex:"flex-1 justify-end",sort:!0}]),ce=c(()=>0!==ne.value.activeSort&&ne.value.sortBy?"symbol"===ne.value.sortBy?ie.value.toSorted((e,l)=>((l.symbol[0].toLowerCase().charCodeAt(0)||0)-(e.symbol[0].toLowerCase().charCodeAt(0)||0))*ne.value.activeSort):"price_change"===ne.value.sortBy||"price_change_v2"===ne.value.sortBy?ie.value.toSorted((e,l)=>((l[ne.value.sortBy]||0)-(e[ne.value.sortBy]||0))*ne.value.activeSort):ie.value:ie.value);u(()=>{Z.value&&fe()}),d(()=>Z.value,()=>{fe(),ke(0,0)}),d(()=>U.value,e=>{!oe.sort_dir||"price_change_v2"!==oe.sort&&"price_change"!==oe.sort||(oe.sort="24h"===e?"price_change_v2":"price_change",ne.value.sortBy="24h"===e?"price_change_v2":"price_change",ye(),_e())}),d(()=>ne.value,e=>{"price_change"===e.sortBy||"price_change_v2"===e.sortBy?(oe.sort_dir=["asc","","desc"][(e.activeSort||0)+1],oe.sort=e.sortBy):(oe.sort_dir="",oe.sort=""),ye(),_e()}),d(()=>X.walletSignature[X.address],()=>{ye(),_e()});const pe=R(!1);async function fe(){try{ee.value=!0;const e=await me(Z.value);le.value=[{group_id:0,name:F("defaultGroup")}].concat((e||[]).filter(e=>!!e.name)),setTimeout(()=>{var e;pe.value=Number(null==(e=xe.value)?void 0:e.offsetWidth)>212})}catch(e){}finally{ee.value=!1}}function he(){J.value=!0}u(()=>{_e()});const xe=R(null);function ke(e,l){ae.value=e,ye(),_e(),$t(xe,l)}async function _e(){try{se.value.loading=!0;const e=se.value.pageNo,l=await xt(ae.value,e,Z.value,oe.sort_dir,oe.sort);if(Array.isArray(l)){const a=l.map(e=>({...e,id:e.token+"-"+e.chain,price_change:e.price_change,price_change_v2:e.price_change_v2,pool_circulating_supply:(e.total-e.lock_amount-e.burn_amount-e.other_amount)*e.current_price_usd})).filter(e=>{var l,a;return"brc20"!==(null==e?void 0:e.chain)&&"runes"!==(null==e?void 0:e.chain)&&!(null==(l=null==e?void 0:e.token)?void 0:l.includes("inscription:"))&&!(null==(a=null==e?void 0:e.token)?void 0:a.includes("("))});ie.value=1===e?a:ie.value.concat(a),M.setMultiPriceParams("favorite",ie.value.map(e=>e.id)),M.sendPriceWs(),se.value.finished=0===(null==l?void 0:l.length),se.value.finished||se.value.pageNo++}}catch(e){se.value.error=!0}finally{se.value.loading=!1}}function ye(){N.value.setScrollTop(0),se.value.finished=!1,se.value.pageNo=1}function we(e){"mcap"===te.value.currentMode?te.value.currentMode="price":te.value.currentMode="mcap"}return(l,t)=>{const n=y,o=A,s=gt,i=a,r=p("tooltip"),u=kt,d=ge;return g((x(),w("div",null,[k("div",P_,[k("div",E_,[g(k("span",{class:"w-20px h-20px rounded-2px color-[--third-text] hover:color-[--secondary-text] bg-[--secondary-bg] flex items-center justify-center cursor-pointer",onClick:t[0]||(t[0]=e=>("scrollElement"in l?l.scrollElement:h(It))(h(xe),-200))},[S(n,{name:"material-symbols:arrow-back-ios-new-rounded"})],512),[[ue,h(pe)]]),k("div",{ref_key:"tabsContainer",ref:xe,class:"flex items-center gap-10px whitespace-nowrap overflow-x-auto overflow-y-hidden scrollbar-hide"},[k("span",{class:V("decoration-none shrink-0 text-12px lh-16px text-center px-4px py-2px rounded-4px cursor-pointer "+(0===h(ae)?"bg-[--border] color-[--main-text]":"color-[--third-text]")),onClick:t[1]||(t[1]=e=>ke(0,0))},_(l.$t("defaultGroup")),3),(x(!0),w(T,null,C(h(le).slice(1),(e,l)=>(x(),w("span",{key:l,class:V("decoration-none shrink-0 text-12px lh-16px text-center px-4px py-2px rounded-4px cursor-pointer "+(h(ae)===e.group_id?"bg-[--border] color-[--main-text]":"color-[--third-text]")),onClick:a=>ke(e.group_id,l+1)},_(e.name),11,U_))),128))],512),g(k("span",{class:"mr-4px w-20px h-20px rounded-2px color-[--third-text] hover:color-[--secondary-text] bg-[--secondary-bg] flex items-center justify-center cursor-pointer",onClick:t[2]||(t[2]=e=>("scrollElement"in l?l.scrollElement:h(It))(h(xe),200))},[S(n,{name:"material-symbols:arrow-forward-ios-rounded"})],512),[[ue,h(pe)]])]),S(n,{name:"custom:remark",class:"shrink-0 text-12px mr-0 cursor-pointer color-[--third-text] hover:color-#286DFF",onClick:L(he,["self"])})]),S(e,{sort:h(ne),"onUpdate:sort":t[3]||(t[3]=e=>B(ne)?ne.value=e:null),columns:h(de),toggleMode:we},null,8,["sort","columns"]),S(i,{ref_key:"otherListArea",ref:N,height:h(Y)},{default:b(()=>[g((x(),w("div",{"infinite-scroll-disabled":h(se).loading||h(se).finished,"infinite-scroll-distance":"200","infinite-scroll-delay":10,"infinite-scroll-immediate":!1},[k("div",O_,[(x(!0),w(T,null,C(h(ce),(e,a)=>(x(),m(o,{key:`${e.token}-${e.chain}`,class:"px-10px flex items-center h-40px cursor-pointer hover:bg-[--dialog-bg]",to:`/token/${e.token}-${e.chain}`},{default:b(()=>[k("div",H_,[g(S($l,{class:"mr-8px",row:{...e,issue_platform:""}},null,8,["row"]),[[r,{content:{is:$l,props:{row:e,"chain-class":"hidden","token-class":"w-240px h-240px [&&]:mr-0 rounded-16px"}},props:{placement:"bottom-start","show-arrow":!1,"popper-class":"tooltip-pd-0"}}]]),k("div",j_,[k("span",z_,[k("span",W_,_(e.symbol),1),e.issue_platform?g((x(),w("img",{key:0,class:"ml-5px w-10px h-10px rounded-full",src:("formatIconTag"in l?l.formatIconTag:h(be))(e.issue_platform),alt:""},null,8,q_)),[[r,e.issue_platform]]):f("",!0)]),e.remark?(x(),w("span",G_,_(e.remark),1)):f("",!0)])]),k("div",Y_,["mcap"!==h(te).currentMode?(x(),w("div",Q_," $"+_(h(Q)(e.current_price_usd||0,4)),1)):(x(),w("div",K_,"$"+_(h(Q)(e.pool_circulating_supply||0,2)),1)),k("div",{class:V(`flex-1 text-right text-12px\n                ${("getColorClass"in l?l.getColorClass:h(Ft))("24h"===h(U)?e.price_change_v2:e.price_change)}\n            `)},[0===Number("24h"===h(U)?e.price_change_v2:e.price_change)?(x(),w(T,{key:0},[I("0%")],64)):("24h"===h(U)?e.price_change_v2:e.price_change)&&"--"!==("24h"===h(U)?e.price_change_v2:e.price_change)?(x(),w(T,{key:2},[I(_(Number("24h"===h(U)?e.price_change_v2:e.price_change)>0?"+":"-")+_(h(Q)(Math.abs(Number("24h"===h(U)?e.price_change_v2:e.price_change))||0,2))+"% ",1)],64)):(x(),w(T,{key:1},[I("--")],64))],2)])]),_:2},1032,["to"]))),128)),0!==h(ce).length||h(se).loading?f("",!0):(x(),m(s,{key:0}))]),h(se).loading&&h(se).pageNo>1?(x(),w("div",X_,_(l.$t("loading")),1)):f("",!0)],8,R_)),[[u,_e]])]),_:1},8,["height"]),S(M_,{visible:h(J),"onUpdate:visible":t[4]||(t[4]=e=>B(J)?J.value=e:null),loading:h(ee),"get-data":fe,list:h(le)},null,8,["visible","loading","list"])])),[[d,1===h(se).pageNo&&h(se).loading]])}}}),J_={class:"pt-10px flex items-center px-12px gap-20px border-b-solid border-b-1px border-b-#FFFFFF08"},ey=["onClick"],ly={class:"text-12px mt-10px"},ay=o({__name:"topLeftTable",props:{height:{type:Number,default:370}},setup(e){const{t:l}=s(),a=e,t=z(),n=W(),o=v("FavoriteTable"),i=c(()=>[{name:l("favorites"),component:"FavoriteTable"},{name:l("positions"),component:"PositionsTable"}]),r={FavoriteTable:Z_,PositionsTable:Ee(()=>se(()=>import("./CRTtWgSO.js"),__vite__mapDeps([7,4,5,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64]),import.meta.url))},u=c(()=>r[o.value]),d=c(()=>"PositionsTable"===o.value?a.height-4:a.height);return(l,s)=>{const r=ke,c=gt;return x(),w("div",{style:N(`height: ${Math.max(e.height,0)}px;`),class:V("color-[--main-text] bg-[--secondary-bg] rounded-2px text-14px overflow-hidden\n    ")},[k("div",J_,[(x(!0),w(T,null,C(h(i),e=>(x(),w("a",{key:e.component,href:"javascript:;",class:V("decoration-none text-12px lh-16px pb-8px text-center b-b-solid b-b-2px font-500\n         "+(h(o)===e.component?"color-[--main-text] b-b-[--main-text]":"color-[--third-text] b-b-transparent")),onClick:l=>o.value=e.component},_(e.name),11,ey))),128))]),h(t).evmAddress||h(n).address?(x(),m(ht(h(u)),{key:0,height:h(d)},null,8,["height"])):(x(),m(c,{key:1,style:N({height:a.height-50+"px"}),class:"overflow-hidden"},{default:b(()=>[k("span",ly,_(l.$t("noWalletTip")),1),S(r,{class:"mt-10px",onClick:s[0]||(s[0]=e=>h(t).$patch({connectVisible:!0}))},{default:b(()=>[I(_(l.$t("connectWallet")),1)]),_:1})]),_:1},8,["style"]))],4)}}}),ty={class:"color-[--main-text]"},ny={class:"flex-1 flex items-center"},oy={class:"ml-6px"},sy={class:"flex items-center"},iy={class:"color-[--main-text] max-w-80px overflow-hidden text-ellipsis whitespace-nowrap"},ry=["src"],uy=["src"],dy={class:"mt-2px color-[--third-text]"},cy={class:"flex flex-col items-end"},vy=o({__name:"trending",props:{finalHeight:{type:Number,required:!0}},setup(l){const{t:t}=s();u(()=>{});const{hotList:n}=q(O()),{zone:o}=q(O()),i=v({activeSort:0,sortBy:""}),r=c(()=>n.value||[]),N=c(()=>{const{activeSort:e,sortBy:l}=i.value;return 0!==e&&l?r.value.toSorted((a,t)=>{if("symbol"===l){return((t.symbol[0].toLowerCase().charCodeAt(0)||0)-(a.symbol[0].toLowerCase().charCodeAt(0)||0))*e}return"mcap"===l?(Number(Lt(t))-Number(Lt(a)))*e:(Number(t[l]||0)-Number(a[l]||0))*e}):r.value}),$=c(()=>[{label:t("token")+"/"+t("mCap"),value:"mcap",flex:"flex-[3]",sort:!0},{label:t("price"),value:"current_price_usd",flex:"flex-1 justify-end",sort:!0},{label:t("Chg")+"%",value:"24h"===o.value?"price_change_v2":"price_change",flex:"flex-1 justify-end",sort:!0}]);return d(()=>o.value,e=>{i.value.sortBy="24h"===e?"price_change_v2":"price_change"}),(t,n)=>{const s=ee,r=y,u=A,d=a,c=p("tooltip");return x(),w("div",ty,[S(e,{sort:h(i),"onUpdate:sort":n[0]||(n[0]=e=>B(i)?i.value=e:null),columns:h($)},null,8,["sort","columns"]),S(d,{height:Math.max(500,l.finalHeight-130),class:"[&&]:h-auto"},{default:b(()=>[(x(!0),w(T,null,C(h(N),(e,l)=>(x(),m(u,{key:l,class:"px-10px flex items-center h-40px cursor-pointer hover:bg-[--dialog-bg] text-12px",to:`/token/${e.token}-${e.chain}`},{default:b(()=>{var l;return[k("div",ny,[S(s,{"popper-class":"tooltip-pd-0",placement:"bottom-start","show-arrow":!1,persistent:!1},{default:b(()=>[S($l,{row:e},null,8,["row"])]),content:b(()=>[S($l,{row:e,"chain-class":"hidden","token-class":"w-240px h-240px [&&]:mr-0 rd-16px"},null,8,["row"])]),_:2},1024),k("div",oy,[k("div",sy,[k("span",iy,_(e.symbol),1),e.launchpad?g((x(),w("img",{key:0,class:"ml-5px w-10px h-10px rounded-full",src:("formatIconTag"in t?t.formatIconTag:h(be))(e.launchpad),alt:""},null,8,ry)),[[c,e.launchpad]]):f("",!0),(null==(l=e.badges)?void 0:l.length)>0?(x(!0),w(T,{key:1},C(e.badges,(e,l)=>g((x(),w("img",{key:l,class:"ml-5px rd-50%",src:("formatIconTag"in t?t.formatIconTag:h(be))(e.tag),alt:"",width:10,onerror:"this.src='/icon-default.png'"},null,8,uy)),[[c,t.$t(`${e.tag}`)]])),128)):f("",!0),e.risk_score>55?(x(),m(r,{key:2,name:"custom:danger",class:"font-14 ml-2px color-#F72121"})):f("",!0)]),k("div",dy,[0===e.current_price_usd?(x(),w(T,{key:0},[I("0")],64)):"--"===e.current_price_usd?(x(),w(T,{key:1},[I("--")],64)):(x(),w(T,{key:2},[I(" $"+_(h(Q)(h(Lt)(e),2)),1)],64))])])]),k("div",cy,[k("div",null,[0===Number(e.current_price_usd)?(x(),w(T,{key:0},[I("0")],64)):"--"===e.current_price_usd?(x(),w(T,{key:1},[I("--")],64)):(x(),w(T,{key:2},[I(" $"+_(h(Q)(e.current_price_usd,4)),1)],64))]),k("div",{class:V(("getColorClass"in t?t.getColorClass:h(Ft))("24h"===h(o)?e.price_change_v2:e.price_change))},[0===Number("24h"===h(o)?e.price_change_v2:e.price_change)?(x(),w(T,{key:0},[I("0")],64)):"--"===("24h"===h(o)?e.price_change_v2:e.price_change)?(x(),w(T,{key:1},[I("--")],64)):(x(),w(T,{key:2},[I(_(Number("24h"===h(o)?e.price_change_v2:e.price_change)>0?"+":"-")+_(h(Q)(Math.abs(Number("24h"===h(o)?e.price_change_v2:e.price_change)),2))+"% ",1)],64))],2)])]}),_:2},1032,["to"]))),128))]),_:1},8,["height"])])}}}),py={class:"bg-[--secondary-bg] rounded-2px text-14px pt-10px flex-1 flex flex-col"},my={class:"flex items-center px-12px gap-20px border-b-#FFFFFF08"},fy=["onClick"],hy=o({__name:"bottomLeftTable",setup(e){const{t:l}=s(),{height:a}=Re(),t=Nt("topLeftHeight",Vt.TOPLEFT),n=c(()=>a.value-t.value),o=v("Trending"),i=c(()=>[{name:l("trending"),component:"Trending"}]),r={Trending:vy},u=c(()=>r[o.value]);return(e,l)=>(x(),w("div",py,[k("div",my,[(x(!0),w(T,null,C(h(i),e=>(x(),w("a",{key:e.component,href:"javascript:;",class:V("decoration-none text-12px lh-16px pb-8px text-center b-b-solid b-b-2px font-500\n        "+(h(o)===e.component?"color-[--main-text] b-b-[--main-text]":"color-[--third-text] b-b-transparent")),onClick:l=>o.value=e.component},_(e.name),11,fy))),128))]),(x(),m(ht(h(u)),{class:"flex-1 relative",finalHeight:h(n)},null,8,["finalHeight"]))]))}}),xy={key:0},by={class:"relative"},ky=o({__name:"left",setup(e){const l=Nt("topLeftHeight",Vt.TOPLEFT),a=v(!1),t=O(),{height:n}=Re();function o(e){let t=e.clientY;return a.value=!0,document.onmousemove=e=>{if(!a.value)return;const{clientY:o}=e,s=o<t?l.value-(t-o):l.value+o-t;s<=n.value-164&&(l.value=s),t=o},document.onmouseup=()=>{a.value=!1,document.onmousemove=null,document.onmouseup=null},!1}return(e,a)=>h(t).showLeft?(x(),w("div",xy,[k("div",by,[S(ay,{height:h(l)},null,8,["height"]),k("div",{class:"w-full cursor-row-resize bg-[--border] gap-1px hover:bg-[--third-text] flex items-center justify-center h-4px",onMousedown:L(o,["stop","prevent"])},[(x(),w(T,null,C(4,e=>k("span",{key:e,class:"bg-[--icon-color] w-2px h-2px rounded-full"})),64))],32)]),S(hy)])):f("",!0)}}),gy={key:1,class:"color-#F2AD41 mt-5px"},_y={class:"block mt-5px"},yy={class:"block mt-5px"},wy={class:"block mt-5px"},Ty=o({__name:"tagsContent",props:{tags:{type:Array,default:()=>[]}},setup(e){const{locale:l}=Oe();return(a,t)=>(x(),w("div",null,[(x(!0),w(T,null,C(e.tags,(e,t)=>{var n;return x(),w(T,{key:t},[Number(e.type)?(x(),w("span",{key:0,class:"mr-3px text-12px",style:N({color:e.color})}," ["+_(null==e?void 0:e[h(Bt)(h(l))])+"] ",5)):f("",!0),(null==(n=e.extra_info)?void 0:n.length)>0&&"9"==e.type?(x(),w("div",gy,[(x(!0),w(T,null,C(null==e?void 0:e.extra_info,(e,l)=>(x(),w(T,{key:l},[k("span",_y,_(a.$t("lockAmount"))+": "+_(("formatNumber"in a?a.formatNumber:h(Q))(e.amount,4)),1),k("span",yy,_(a.$t("lockDate"))+": "+_(h(it)(e.lockDate,"YYYY-MM-DD")),1),k("span",wy,_(a.$t("unlockDate"))+": "+_(h(it)(e.unlockDate,"YYYY-MM-DD")),1)],64))),128))])):f("",!0)],64)}),128))]))}}),Cy=["src"],Ay=o({__name:"index",props:{tags:{type:Array,default:()=>[]},tagClass:{type:String,default:"ml-3px"},walletAddress:{type:String,default:""},chain:{type:String,default:""}},setup(e){const{$tooltip:l}=n(),a=e,{getPublicPortrait:t}=Dt(),o=c(()=>{var e;if(!a.walletAddress||!a.chain)return a.tags;const l=(null==(e=t(a.walletAddress,a.chain))?void 0:e.new_tags)||[];return((null==l?void 0:l.length)>0?l:a.tags)||[]}),s=c(()=>o.value.filter(e=>{var l,a;return(null==(l=e.type)?void 0:l.includes("TOP"))&&(null==(a=e.type)?void 0:a.slice(3))<25||Number(e.type)}));function i(e){var l,t;let n=-1,i=0;for(let a=0;a<=e;a++){const s=o.value[a];s&&((null==(l=s.type)?void 0:l.includes("TOP"))&&(null==(t=s.type)?void 0:t.slice(3))<25||Number(s.type))&&(a===e&&(n=i),i++)}return n===s.value.length-1?"":a.tagClass}function r(e){o.value.some(e=>Number(e.type))&&l.show({content:{is:Ty,props:{tags:o.value}},target:e.target,props:{placement:"top","popper-class":"signal-tags-tooltip"}})}function u(){l.hide()}return(e,l)=>{var a;return(null==(a=h(o))?void 0:a.length)>0?(x(),w("div",{key:0,class:"flex cursor-pointer",onMouseover:L(r,["stop"]),onMouseleave:L(u,["stop"])},[(x(!0),w(T,null,C(h(o),(e,l)=>{var a,t;return x(),w(T,{key:l},[(null==(a=e.type)?void 0:a.includes("TOP"))&&(null==(t=e.type)?void 0:t.slice(3))<25||Number(e.type)?(x(),w("img",{key:0,style:{"pointer-events":"none"},class:V(i(l)+" signal-tag-hover"),src:h($)(e.icon),alt:"",height:"15"},null,10,Cy)):f("",!0)],64)}),128))],32)):f("",!0)}}}),Sy={class:"text-14px font-400 color-[--main-text]"},Ny={class:"mt-10px flex color-[--secondary-text] text-12px"},$y={class:"flex-[1.2]"},Iy={class:"flex-1"},Fy={class:"mt-5px flex items-center gap-4px text-12px"},Ly={key:0,class:"text-12px text-[--down-color] mt-4px"},Vy={class:"flex mt-20px"},By=o({__name:"tableDateFilter",props:{visible:Boolean,modelValue:{type:Array,default:()=>[]},boundary:{type:HTMLElement,default:void 0}},emits:["update:visible","confirm","reset"],setup(e,{emit:l}){const{isDark:a}=q(G()),t=e,n=l,o=c({get:()=>t.visible,set(e){n("update:visible",e)}}),s=R([]),i=e=>!!s.value[1]&&it(e).isAfter(it(1e3*s.value[1])),r=e=>{if(s.value[0]){const l=it(1e3*s.value[0]);return it(e).isBefore(l)&&!it(e).isSame(l,"day")}return!1},u=c(()=>!(!s.value[1]||!s.value[0])&&s.value[1]<s.value[0]);return d(()=>t.modelValue,e=>{s.value=e}),(l,t)=>{const d=y,c=Yn,v=ke,p=D;return x(),m(p,{visible:h(o),"onUpdate:visible":t[4]||(t[4]=e=>B(o)?o.value=e:null),placement:"bottom",persistent:!1,width:420,trigger:"click",teleported:"","popper-style":"max-width: 420px;--el-text-color-primary:--third-text","popper-class":"transaction-popover","popper-options":{modifiers:[{name:"preventOverflow",options:{boundary:e.boundary,padding:0}}]}},{reference:b(()=>[S(d,{name:"custom:filter",class:V((e.modelValue.length?"color-[--primary-color]":"color-[--third-text]")+" cursor-pointer text-10px")},null,8,["class"])]),default:b(()=>[k("div",Sy,_(l.$t("filterTime")),1),k("div",Ny,[k("span",$y,_(l.$t("startTime")),1),k("span",Iy,_(l.$t("endTime1")),1)]),k("div",Fy,[S(c,{modelValue:h(s)[0],"onUpdate:modelValue":t[0]||(t[0]=e=>h(s)[0]=e),"disabled-date":i,class:"[--el-font-size-base:12px]",type:"datetime","range-separator":"To","start-placeholder":"yyyy/mm/dd hh:mm:ss","end-placeholder":"yyyy/mm/dd hh:mm:ss",format:"YYYY-MM-DD HH:mm:ss","value-format":"X","prefix-icon":"Calendar",teleported:!1},null,8,["modelValue"]),I(" "+_(l.$t("to"))+" ",1),S(c,{modelValue:h(s)[1],"onUpdate:modelValue":t[1]||(t[1]=e=>h(s)[1]=e),"disabled-date":r,class:"[--el-font-size-base:12px]",type:"datetime","range-separator":"To","start-placeholder":"yyyy/mm/dd hh:mm:ss","end-placeholder":"yyyy/mm/dd hh:mm:ss",format:"YYYY-MM-DD HH:mm:ss","value-format":"X","prefix-icon":"Calendar",teleported:!1},null,8,["modelValue"])]),h(u)?(x(),w("div",Ly,_(l.$t("selectCorrectTimeRange")),1)):f("",!0),k("div",Vy,[S(v,{class:"h-30px flex-1 m-l-auto",color:h(a)?"#252E3C":"#D9E8FF",onClick:t[2]||(t[2]=e=>{h(s).length=0,n("confirm")})},{default:b(()=>[I(_(l.$t("reset")),1)]),_:1},8,["color"]),S(v,{disabled:h(u),type:"primary",class:"h-30px flex-1 m-l-auto",onClick:t[3]||(t[3]=e=>n("confirm",h(s).slice()))},{default:b(()=>[I(_(l.$t("confirm")),1)]),_:1},8,["disabled"])])]),_:1},8,["visible","popper-options"])}}}),Dy={class:"text-12px font-400"},My={class:"flex mt-10px"},Py={class:"flex mt-10px"},Ey={class:"flex mt-10px"},Uy=o({__name:"volFilter",props:{visible:Boolean,modelValue:{type:Array,default:()=>[]}},emits:["update:visible","confirm","reset"],setup(e,{emit:l}){const{isDark:a}=q(G()),t=e,n=l,o=c({get:()=>t.visible,set(e){n("update:visible",e)}}),s=R([]),i=c(()=>t.modelValue.filter(e=>!!e).length>0),r=G();function u(e){const l=Number(s.value[0]),a=Number(s.value[1])<=l;0===e&&a?s.value[0]=void 0:1===e&&a&&(s.value[1]=void 0)}return(e,l)=>{const a=y,t=ke,d=lo,c=D;return x(),m(c,{visible:h(o),"onUpdate:visible":l[6]||(l[6]=e=>B(o)?o.value=e:null),placement:"bottom",width:350,trigger:"click",persistent:!1},{reference:b(()=>[S(a,{name:"custom:filter",class:V((h(i)?"color-[--primary-color]":"color-[--third-text]")+" cursor-pointer text-10px")},null,8,["class"])]),default:b(()=>[k("div",Dy,_(e.$t("amountU"))+"($) ",1),k("div",My,[(x(),w(T,null,C([10,100,200],(e,l)=>S(t,{key:l,plain:"",size:"default",class:"flex-1 h-30px font-400",onClick:L(l=>{h(s)[0]=e,h(s)[1]=void 0},["stop"])},{default:b(()=>[I(" ≥"+_(e),1)]),_:2},1032,["onClick"])),64))]),k("div",Py,[S(d,{modelValue:h(s)[0],"onUpdate:modelValue":l[0]||(l[0]=e=>h(s)[0]=e),min:0,controls:!1,placeholder:e.$t("minor"),clearable:"",required:"",onBlur:l[1]||(l[1]=e=>u(0))},null,8,["modelValue","placeholder"]),l[7]||(l[7]=k("span",{class:"ml-10px mr-10px"},"~",-1)),S(d,{modelValue:h(s)[1],"onUpdate:modelValue":l[2]||(l[2]=e=>h(s)[1]=e),min:0,controls:!1,placeholder:e.$t("max1"),clearable:"",required:"",onBlur:l[3]||(l[3]=e=>u(1))},null,8,["modelValue","placeholder"])]),k("div",Ey,[(x(),m(t,{key:h(r).theme,class:"h-30px flex-1 m-l-auto",color:"var(--border)",onClick:l[4]||(l[4]=e=>{h(s).length=0,n("confirm")})},{default:b(()=>[I(_(e.$t("reset")),1)]),_:1})),S(t,{type:"primary",class:"h-30px flex-1 m-l-auto",onClick:l[5]||(l[5]=e=>n("confirm",h(s).slice()))},{default:b(()=>[I(_(e.$t("confirm")),1)]),_:1})])]),_:1},8,["visible"])}}}),Ry={class:"flex"},Oy={class:"flex mt-20px"},Hy=o({__name:"makersFilter",props:{visible:Boolean,modelValue:{type:String,default:""},chain:{type:String,default:""}},emits:["update:visible","confirm","reset"],setup(e,{emit:l}){const a=e,t=l,{evmAddress:n,getWalletAddress:o}=z(),s=G(),i=v(""),r=c({get:()=>a.visible,set(e){t("update:visible",e)}});return d(()=>a.modelValue,()=>{i.value=a.modelValue}),(l,a)=>{const u=y,d=_e,c=ke,v=D;return x(),m(v,{visible:h(r),"onUpdate:visible":a[4]||(a[4]=e=>B(r)?r.value=e:null),placement:"bottom",width:215,trigger:"click",persistent:!1},{reference:b(()=>[S(u,{name:"custom:filter",class:V((e.modelValue?"color-[--primary-color]":"color-[--third-text]")+" cursor-pointer text-10px")},null,8,["class"])]),default:b(()=>[k("div",Ry,[S(d,{modelValue:h(i),"onUpdate:modelValue":a[0]||(a[0]=e=>B(i)?i.value=e:null),modelModifiers:{trim:!0},style:{"--el-input-bg-color":"var(--dialog-list-hover)"},placeholder:l.$t("enterAddress"),clearable:""},null,8,["modelValue","placeholder"])]),h(n)?(x(),m(c,{key:h(s).theme,class:"h-30px mt-20px w-full",size:"default",color:"var(--border)",onClick:a[1]||(a[1]=l=>i.value=h(o)(e.chain)||"")},{default:b(()=>[I(_(l.$t("filterWallet")),1)]),_:1})):f("",!0),k("div",Oy,[(x(),m(c,{key:h(s).theme,class:"h-30px flex-1 m-l-auto",color:"var(--border)",onClick:a[2]||(a[2]=e=>{i.value="",t("confirm")})},{default:b(()=>[I(_(l.$t("reset")),1)]),_:1})),S(c,{type:"primary",class:"h-30px flex-1 m-l-auto",onClick:a[3]||(a[3]=e=>t("confirm",h(i)))},{default:b(()=>[I(_(l.$t("confirm")),1)]),_:1})])]),_:1},8,["visible"])}}}),jy=""+new URL("aveai.BpE2-HFd.svg",import.meta.url).href,zy=""+new URL("aveai-b.DJfoTmOb.svg",import.meta.url).href,Wy={key:1,class:"flex flex-col gap-6px w-210px color-[--main-text]"},qy={class:"flex gap-6px items-center"},Gy={class:"flex justify-between"},Yy={class:"color-[--secondary-text]"},Qy={class:"color-[--third-text]"},Ky={class:"color-[--main-text]"},Xy={class:"flex justify-between"},Zy={class:"color-[--secondary-text]"},Jy={class:"flex justify-between"},ew={class:"color-[--secondary-text]"},lw={class:"flex justify-between whitespace-nowrap"},aw={class:"color-[--secondary-text]"},tw={class:"color-[--third-text] mr-10px"},nw={class:"color-#12B886"},ow={class:"flex justify-between whitespace-nowrap"},sw={class:"color-[--secondary-text]"},iw={class:"color-[--third-text] mr-10px"},rw={class:"color-#F6465D"},uw={class:"flex justify-between"},dw={class:"color-[--secondary-text]"},cw={class:"color-#12B886"},vw={class:"flex justify-between"},pw={class:"color-[--secondary-text]"},mw={class:"flex justify-between"},fw={class:"color-[--secondary-text]"},hw={class:"color-[--third-text]"},xw={class:"flex justify-between"},bw={class:"color-[--secondary-text]"},kw={class:"color-[--third-text]"},gw={key:1,class:"color-[--third-text]"},_w={key:0},yw={class:"color-[--secondary-text] lh-16px mb-8px"},ww={class:"flex-wrap flex items-center gap-x-20px gap-y-6px"},Tw={class:"ml-4px"},Cw={class:"flex justify-center my-12px"},Aw={key:0,src:jy,alt:"",class:"h-14px"},Sw={key:1,src:zy,alt:"",class:"h-14px"},Nw=o({__name:"markerTooltip",props:{virtualRef:{type:HTMLElement,default:null},currentRow:{type:Object,default:()=>({})},addressAndChain:{type:Object,default:()=>({})},modelValue:Boolean},emits:["update:modelValue"],setup(e,{emit:l}){const a=l,t=e,n=G(),o=c({get:()=>t.modelValue,set(e){a("update:modelValue",e)}}),s=v(!1),i=R();return d(()=>{var e;return(null==(e=t.currentRow)?void 0:e.wallet_address)||""},()=>{t.currentRow&&async function(){const e={user_address:t.currentRow.wallet_address,chain:t.addressAndChain.chain,token:t.addressAndChain.address};s.value=!0;try{const l=await Mt(e);l&&(i.value={...l,ratio:Number(l.history_max_balance_amount)>0?Math.min(new Ae(l.balance_amount).dividedBy(new Ae(l.history_max_balance_amount)).multipliedBy(100).toNumber(),100):0,isLoading:""===l.total_sold_usd&&""===l.total_purchase_usd})}catch(l){}finally{s.value=!1}}()}),(l,a)=>{const t=Et,r=Pt,u=Ut,d=Rt,c=y,v=Cn,N=Ht,$=jt,F=$l,D=A,M=ee,P=p("copy");return x(),m(M,{ref:"tooltipRef",visible:h(o),"onUpdate:visible":a[1]||(a[1]=e=>B(o)?o.value=e:null),placement:"left","virtual-ref":e.virtualRef,"virtual-triggering":"",trigger:"hover","raw-content":"",persistent:!1,"popper-class":"[&&]:p-12px [&&]:[--el-text-color-primary:--dialog-bg]!",style:{"--el-text-color-primary":"var(--d-222-l-FFF)"}},{content:b(()=>{var p;return[!h(i)||h(i).isLoading||h(s)?(x(),m(r,{key:0,animated:"",class:"relative inline-block [&&]:w-210px text-12px font-400 box-border px-4px py-6px"},{template:b(()=>[(x(),w(T,null,C(10,e=>S(t,{key:e,variant:"p",style:{width:"100%"}})),64))]),_:1})):(x(),w("div",Wy,[k("div",qy,[S(u,{class:"relative",chain:e.currentRow.chain,address:e.currentRow.address,"icon-size":"20px"},null,8,["chain","address"]),S(d,{canEdit:!1,remark:e.currentRow.remark,address:e.currentRow.wallet_address,chain:e.currentRow.chain,wallet_logo:e.currentRow.wallet_logo,class:"color-[--d-CCC-l-333]",formatAddress:e=>e.slice(0,4)+"..."+e.slice(-4)},null,8,["remark","address","chain","wallet_logo","formatAddress"]),g(S(c,{name:"bxs:copy",class:"cursor-pointer color-[--third-text] text-10px"},null,512),[[P,e.currentRow.wallet_address]]),al(l.$slots,"default")]),k("div",Gy,[k("span",Yy,_(l.$t("position1"))+":",1),k("div",null,[k("span",Qy,"("+_(("formatNumber"in l?l.formatNumber:h(Q))(h(i).balance_amount||0,3))+"/"+_(("formatNumber"in l?l.formatNumber:h(Q))(h(i).history_max_balance_amount||0,3))+")",1),a[2]||(a[2]=I()),k("span",Ky,"$"+_(("formatNumber"in l?l.formatNumber:h(Q))(h(i).balance_usd||0,2)),1),S(v,{color:"var(--main-text)","show-text":!1,percentage:h(i).ratio||0,"stroke-width":4},null,8,["percentage"])])]),k("div",Xy,[k("span",Zy,_(l.$t("profit2"))+":",1),k("span",{class:V(`${("getColorClass"in l?l.getColorClass:h(Ft))(h(i).total_profit)}`)},["0"===h(i).total_profit?(x(),w(T,{key:0},[I("--")],64)):(x(),w(T,{key:1},[I(_(("addSign"in l?l.addSign:h(Ot))(h(i).total_profit))+"$"+_(("formatNumber"in l?l.formatNumber:h(Q))(Math.abs(h(i).total_profit),1)),1)],64))],2)]),k("div",Jy,[k("span",ew,_(l.$t("unrealized_profit"))+":",1),k("span",{class:V(`${("getColorClass"in l?l.getColorClass:h(Ft))(h(i).unrealized_profit)}`)},["0"===h(i).unrealized_profit?(x(),w(T,{key:0},[I("--")],64)):(x(),w(T,{key:1},[I(_(("addSign"in l?l.addSign:h(Ot))(h(i).unrealized_profit))+"$"+_(("formatNumber"in l?l.formatNumber:h(Q))(Math.abs(h(i).unrealized_profit),1)),1)],64))],2)]),k("div",lw,[k("span",aw,[I(_(l.$t("totalBuy2"))+" ",1),"--"!==h(i).total_purchase&&0!==Number.parseFloat(h(i).total_purchase)?(x(),w(T,{key:0},[I(" ("+_(h(i).total_purchase)+") ",1)],64)):f("",!0),a[3]||(a[3]=I(":",-1))]),k("span",null,[k("span",tw,_(h(i).total_purchase_amount?("formatNumber"in l?l.formatNumber:h(Q))(h(i).total_purchase_amount,2):"--"),1),k("span",nw,_(h(i).total_purchase_usd?`$${("formatNumber"in l?l.formatNumber:h(Q))(h(i).total_purchase_usd,2)}`:"--"),1)])]),k("div",ow,[k("span",sw,[I(_(l.$t("totalSell2"))+" ",1),"--"!==h(i).total_sold&&0!==Number.parseFloat(h(i).total_sold)?(x(),w(T,{key:0},[I(" ("+_(h(i).total_sold)+") ",1)],64)):f("",!0),a[4]||(a[4]=I(":",-1))]),k("span",null,[k("span",iw,_(h(i).total_sold_amount?("formatNumber"in l?l.formatNumber:h(Q))(h(i).total_sold_amount,2):"--"),1),k("span",rw,_(h(i).total_sold_usd?`$${("formatNumber"in l?l.formatNumber:h(Q))(h(i).total_sold_usd,2)}`:"--"),1)])]),S(N,{class:"[--el-border-color:--dialog-divider]",style:{margin:"0"}}),k("div",uw,[k("span",dw,"7D "+_(l.$t("winRate2"))+":",1),k("span",cw,_(("formatNumber"in l?l.formatNumber:h(Q))(h(i).win_ratio,1))+"%",1)]),k("div",vw,[k("span",pw,"7D "+_(l.$t("profit2"))+":",1),k("span",{class:V(`${("getColorClass"in l?l.getColorClass:h(Ft))(h(i).profit)}`)},["0"===h(i).profit?(x(),w(T,{key:0},[I("--")],64)):h(i).profit<0?(x(),w(T,{key:1},[I("-")],64)):f("",!0),I("$"+_(("formatNumber"in l?l.formatNumber:h(Q))(Math.abs(h(i).profit),2)),1)],2)]),k("div",mw,[k("span",fw,"7D "+_(l.$t("token"))+":",1),k("span",hw,_(("formatNumber"in l?l.formatNumber:h(Q))(h(i).token_txns)),1)]),k("div",xw,[k("span",bw,_(l.$t("walletAge"))+":",1),h(i).wallet_age&&Number(("formatTimeFromNow"in l?l.formatTimeFromNow:h(ye))(h(i).wallet_age,!0))<60?(x(),m($,{key:h(i).wallet_age,timestamp:Number(h(i).wallet_age),"end-time":60},{default:b(({seconds:e})=>[k("span",kw,[e<60?(x(),w(T,{key:0},[I(_(e)+_(l.$t("ss")),1)],64)):(x(),w(T,{key:1},[I(_(h(it)(1e3*h(i).wallet_age).fromNow()),1)],64))])]),_:1},8,["timestamp"])):(x(),w("span",gw,_(Number(h(i).wallet_age||0)?h(it)(1e3*h(i).wallet_age).fromNow():"--"),1))]),S(N,{class:"[--el-border-color:--dialog-divider]",style:{margin:"0"}}),(null==(p=h(i).top3_blue_chip)?void 0:p.length)>0?(x(),w("div",_w,[k("div",yw,"TOP3 "+_(l.$t("blueChips"))+":",1),k("div",ww,[(x(!0),w(T,null,C(h(i).top3_blue_chip,e=>(x(),m(D,{key:e.token,class:"flex items-center [&&]:color-[--secondary-text]",to:`/token/${e.token}-${e.chain}`,onClick:a[0]||(a[0]=L(e=>o.value=!1,["self"]))},{default:b(()=>[S(F,{row:{logo_url:e.logoUrl},"token-class":"w-16px h-16px [&&]:mr-0 color-[--secondary-text]"},null,8,["row"]),k("span",Tw,_(e.symbol),1)]),_:2},1032,["to"]))),128))])])):f("",!0),k("div",Cw,[h(n).isDark?(x(),w("img",Aw)):(x(),w("img",Sw))])]))]}),_:3},8,["visible","virtual-ref"])}}}),$w={class:"px-12px lh-20px flex justify-between items-center mb-12px text-13px color-[--secondary-text]"},Iw={class:"ml-4px color-[--main-text]"},Fw={class:"ml-4px color-[--main-text]"},Lw={class:"color-#12B886 ml-4px"},Vw={class:"color-#F6465D ml-4px"},Bw={class:"color-#12B886 ml-4px"},Dw={class:"color-#F6465D ml-4px"},Mw=o({__name:"userTxsFilterHead",props:{makerAddress:{type:String,default:""},isLiquidity:Boolean,pairLiq:{type:Array,default:()=>[]},tokenTxs:{type:Array,default:()=>[]},tagType:{type:String,default:""},chain:{type:String,default:""},isBuy:{type:Function,default:()=>{}},getAmount:{type:Function,default:()=>{}},getPrice:{type:Function,default:()=>{}}},setup(e){const l=e,a=j(),t=i(),n=v(0),o=v(0),s=c(()=>{let e=0,a=0,t=0,n=0;return l.tokenTxs.forEach(o=>{l.isBuy(o)?(e+=l.getAmount(o,!0,!0),t+=l.getAmount(o)):(a+=l.getAmount(o,!0,!0),n+=l.getAmount(o))}),{buyUSD:e,sellUSD:a,buyAmount:t,sellAmount:n}}),u=c(()=>{var e;let l=((null==(e=a.tokenInfoExtra)?void 0:e.sell_tax)||0)/100;return l=l>1?1:l,(a.tokenPrice||o.value||0)*(n.value||0)*(1-l)}),p=c(()=>{const{buyUSD:e,sellUSD:l}=s.value;return l+u.value-e}),m=c(()=>{const{buyUSD:e}=s.value;return e>0?p.value/e:0}),f=c(()=>{const{sellAmount:e,sellUSD:l}=s.value;return e>0?l/e:0}),b=c(()=>{const{buyAmount:e,buyUSD:l}=s.value;return e>0?l/e:0});return d(()=>l.makerAddress,()=>{!async function(){try{const e=t.params.id;if(e){const{chain:a}=r(e),t=await zt(e,[l.makerAddress+"-"+a]);if(t&&t[0]){const{value:e,current_price_usd:l}=t[0];n.value=e,o.value=l}}}finally{}}()},{immediate:!0}),(e,l)=>(x(),w("div",$w,[k("div",null,[k("span",null,_(e.$t("balance1"))+":",1),k("span",Iw,_(("formatNumber"in e?e.formatNumber:h(Q))(h(n),3)),1),k("span",Fw,"$"+_(("formatNumber"in e?e.formatNumber:h(Q))((h(a).tokenPrice||h(o)||0)*(h(n)||0),3)),1)]),k("div",null,[k("span",null,_(e.$t("profit"))+":",1),k("span",{class:V(`ml-4px ${("getColorClass"in e?e.getColorClass:h(Ft))(String(h(p)))}`)},_(("addSign"in e?e.addSign:h(Ot))(h(p)))+"$"+_(("formatNumber"in e?e.formatNumber:h(Q))(Math.abs(h(p)),2)),3),k("span",{class:V(`ml-4px ${("getColorClass"in e?e.getColorClass:h(Ft))(String(h(m)))}`)},_(("formatNumber"in e?e.formatNumber:h(Q))(100*h(m),1))+"%",3)]),k("div",null,[k("span",null,_(e.$t("totalBuy"))+":",1),k("span",Lw,"$"+_(("formatNumber"in e?e.formatNumber:h(Q))(h(s).buyUSD||0,2)),1)]),k("div",null,[k("span",null,_(e.$t("totalSell"))+":",1),k("span",Vw,"$"+_(("formatNumber"in e?e.formatNumber:h(Q))(h(s).sellUSD||0,2)),1)]),k("div",null,[k("span",null,_(e.$t("avgBuyPrice"))+":",1),k("span",Bw,"$"+_(("formatNumber"in e?e.formatNumber:h(Q))(h(b)||0,2)),1)]),k("div",null,[k("span",null,_(e.$t("avgSellPrice"))+":",1),k("span",Dw,"$"+_(("formatNumber"in e?e.formatNumber:h(Q))(h(f)||0,2)),1)])]))}}),Pw={class:"h-24px flex items-center justify-center bg-[--main-input-button-bg] color-[--secondary-text] mb-12px text-12px gap-8px"},Ew=o({__name:"dateFilterCard",props:{timestamp:{},timestampModifiers:{}},emits:["update:timestamp"],setup(e){const l=Wt(e,"timestamp"),a=c(()=>{const[e,a]=l.value||[];if(!e||!a)return"--";const[n,o]=t(e),[s,i]=t(a);return n===s?`${n} ${o} - ${i}`:`${n} ${o} - ${s} ${i}`});function t(e){const l=it(1e3*Number(e));return[l.format("MM/DD"),l.format("HH:mm:ss")]}function n(){l.value&&(l.value=[])}function o(e){const[a,t]=l.value||[];if(!a||!t)return"--";const n=localStorage.getItem("tv_resolution")||"15";{const o=qt[n]||{val:n,unit:"m"},s=it(1e3*Number(a)).add(e*o.val,o.unit).unix(),i=it(1e3*Number(t)).add(e*o.val,o.unit).unix();l.value=[String(s),String(i)]}}return(e,l)=>{const t=y;return x(),w("div",Pw,[k("span",null,_(h(a)),1),k("span",{class:"color-[--main-text] cursor-pointer",onClick:n},_(e.$t("reset")),1),S(t,{name:"tabler:arrow-left",class:"cursor-pointer hover:color-[--main-text]",onClick:l[0]||(l[0]=e=>o(-1))}),S(t,{name:"tabler:arrow-right",class:"cursor-pointer hover:color-[--main-text]",onClick:l[1]||(l[1]=e=>o(1))})])}}}),Uw=Hl("tagStore",()=>{const e=v([]),l=v({});return{tagArr:e,getTagArr:async function(){try{const a=await Gt();e.value=a||[],e.value.forEach(e=>{l.value[e.type]=e})}catch(a){}},matchTag:function(e){return l.value[e]}}}),Rw={ref:"txs-container",class:"transactions"},Ow={class:"px-12px mb-10px flex justify-between"},Hw=["onClick"],jw=["onClick"],zw={class:"flex items-center gap-12px"},Ww={class:"flex items-center color-#FFA622 text-12px"},qw={class:"ml-3px"},Gw={key:0,class:"lh-20px text-13px py-6px bg-#3F80F71A text-center mb-12px"},Yw={class:"lh-20px text-13px py-6px bg-#3F80F71A text-center mb-12px flex justify-center text-[--third-text]"},Qw=["innerHTML"],Kw={class:"text-12px","element-loading-background":"transparent"},Xw={key:0,class:"h-full flex flex-col items-center justify-center pt-100px"},Zw={key:0,src:le,alt:""},Jw={key:1,src:ae,alt:""},eT={class:"mt-10px color-[--third-text]"},lT={key:1},aT={class:"flex items-center gap-2px"},tT={class:"color-[--secondary-text]"},nT={key:1,class:"color-[--secondary-text]"},oT={key:0},sT={key:1},iT={key:2},rT={class:"flex items-center gap-2px"},uT={key:1},dT={class:"color-[--secondary-text]"},cT={class:"color-[--secondary-text]"},vT={class:"flex items-center gap-2px"},pT={class:"color-[--secondary-text]"},mT={class:"color-[--secondary-text]"},fT={class:"mr-2px"},hT={key:0},xT={key:0,class:"color-[--secondary-text]"},bT={class:"flex justify-end gap-8px"},kT=["src"],gT=["src","onClick"],_T=M(o({__name:"transactions",setup(e){const l=O(),a=ce(Yt.KLINE_DATE_FILTER),t=ce("orderBookVisible",R(!1)),{lang:n}=q(O()),{t:o}=s(),A=j(),$=Qt(),F=je(),D=Uw(),M=i(),P=R(null),E=R(!0),U=Y(),H=G();u(()=>{!E.value&&P.value&&P.value.scrollToTop(0),E.value=!1});const z=c(()=>Math.max(500,A.commonHeight-250)),W=v(r(M.params.id).address),K=c(()=>{const e=[];return Array.isArray(A.totalHolders)&&A.totalHolders.forEach(l=>{const a=l.total_address;a>0&&e.push({...l,label:(null==l?void 0:l[Bt(Oe().locale)])+`(${a})`,value:l.type})}),[{label:o("all"),value:"all"},{label:o("buy3"),value:"buy"},{label:o("sell3"),value:"sell"},{label:o("followed")+`(${l.headFollowsNum.all})`,value:"-100"},{label:o("liquidity2"),value:"liquidity"},...e]}),X=v("all"),ee=c(()=>!["all","buy","sell"].includes(X.value)),le=v(!1),ae=c(()=>"liquidity"===X.value),te=Ll("txs-container"),ne=c(()=>{var e;const l="solana"===(null==(e=A.token)?void 0:e.chain)&&!ae.value;return[{key:"time",dataKey:"time",title:o("time"),minWidth:80},{key:"type",dataKey:"type",title:o("type"),minWidth:80},{key:"swapPrice",dataKey:"swapPrice",title:o("swapPrice"),minWidth:100},{key:"amountB",dataKey:"amountB",title:o("amountB"),minWidth:120},{key:"amountU",dataKey:"amountU",title:o("amountU"),align:"right",class:"relative",minWidth:120},{key:"makers",dataKey:"makers",title:o("makers"),align:"right",minWidth:220},{key:"SOLBalance",dataKey:"SOLBalance",title:o("makers")+" SOL",align:"right",hidden:!l,minWidth:86},{key:"DEX",dataKey:"DEX",title:"DEX/TXN",align:"right",minWidth:70}].filter(e=>!e.hidden)}),oe=R({loadingTxs:!1,loadingTxs1:!1,loadingLiq:!1,finished:!1,page_token:"",pageSize:100}),se=v([]),ie=v([]),de=v([]),ve=v([]),pe=R({timestamp:[],amountU:[],markerAddress:"",tag_type:""}),me={all:()=>(we.value.isShowLiq?[...se.value,...de.value]:[...se.value]).toSorted((e,l)=>"asc"===Ve.value.sort_dir?e.time-l.time:l.time-e.time),liquidity:()=>[...de.value].toSorted((e,l)=>"asc"===Ve.value.sort_dir?e.time-l.time:l.time-e.time),buy:()=>[...se.value.filter(e=>Xe(e))].toSorted((e,l)=>"asc"===Ve.value.sort_dir?e.time-l.time:l.time-e.time),sell:()=>[...se.value.filter(e=>!Xe(e))].toSorted((e,l)=>"asc"===Ve.value.sort_dir?e.time-l.time:l.time-e.time)},fe=c(()=>oe.value.loadingTxs1||oe.value.loadingLiq),he=R(!1),xe=c(()=>oe.value.loadingTxs?o("loading"):oe.value.finished?o("noMore"):"");function be(e){he.value=e<=20,e<=20&&!oe.value.loadingTxs&&!oe.value.finished&&De()}const ke=c(()=>{let e=[];e=X.value in me?me[X.value]():se.value;const{timestamp:l,amountU:a,markerAddress:t}=pe.value,[n,o]=l||[],[s,i]=a||[];return n&&(e=e.filter(e=>e.time>=Number(n))),o&&(e=e.filter(e=>e.time<=Number(o))),t&&(e=e.filter(e=>(null==e?void 0:e.wallet_address)===t)),s&&(e=e.filter(e=>{if("type"in e){return e.amount0*e.token0_price_usd+e.amount1*e.token1_price_usd>=Number(s)}return el(e,!0,!0)>=Number(s)})),i&&(e=e.filter(e=>{if("type"in e){return e.amount0*e.token0_price_usd+e.amount1*e.token1_price_usd<=Number(i)}return el(e,!0,!0)<=Number(i)})),e}),_e=v({}),we=R({isShowDate:!1,isShowLiq:!0}),Te=R({timestamp:!1,amountU:!1,markers:!1}),Ne=R(),$e=v(!1),Ie=v({}),Fe=c(()=>le.value||$.drawerVisible||$e.value||"asc"===Ve.value.sort_dir),Le=c(()=>{var e,l;const a=M.params.id;return a?r(a):{address:(null==(e=A.token)?void 0:e.token)||"",chain:(null==(l=A.token)?void 0:l.chain)||""}}),Ve=R({sort:"",sort_dir:""});function Be(){oe.value.page_token="",oe.value.loadingTxs=!1,oe.value.finished=!1,De(),P.value&&P.value.scrollToTop(0)}const De=Kt(async()=>{var e,l,a;try{if(oe.value.loadingTxs)return;oe.value.loadingTxs=!0;const{tag_type:t}=pe.value,n={token_id:M.params.id,tag_type:["buy","sell"].includes(t)?"":t,direction:["buy","sell"].includes(t)?t:"",sender:pe.value.markerAddress,target_price_u_min:pe.value.amountU[0],target_price_u_max:pe.value.amountU[1],time_min:pe.value.timestamp[0],time_max:pe.value.timestamp[1],page_token:oe.value.page_token,sort_dir:Ve.value.sort_dir};if("-100"===t&&!U.currentAddress)return Ue(),void(oe.value.loadingTxs=!1);const o=await Xt(A.pairAddress+"-"+Le.value.chain,n)||[];W.value=r(n.token_id).address;const s=(null==(e=o[o.length-1])?void 0:e.page_token)||"";_e.value={},Array.isArray(o)&&(null==o?void 0:o.length)>0?(oe.value.page_token?se.value=[...se.value].concat(null==(a=null==(l=o.filter)?void 0:l.call(o,e=>{var l,a;return null==(a=null==(l=se.value)?void 0:l.every)?void 0:a.call(l,l=>l.txhash!==e.txhash)}))?void 0:a.map(e=>Ge(e))).reverse().map(e=>(_e.value[e.maker]=(_e.value[e.maker]||0)+1,{...e,count:_e.value[e.maker]})).reverse():se.value=o.reverse().map(e=>(_e.value[e.maker]=(_e.value[e.maker]||0)+1,{...Ge(e),count:_e.value[e.maker]})).reverse(),oe.value.finished||(oe.value.page_token=s),"asc"===Ve.value.sort_dir?se.value=[...se.value].toSorted((e,l)=>e.time-l.time):se.value=[...se.value].toSorted((e,l)=>l.time-e.time)):(oe.value.page_token||(se.value=[]),oe.value.finished=!0)}catch(t){Ue()}finally{oe.value.loadingTxs1=!1,he.value=!1,oe.value.loadingTxs=!1}},500),Me=c(()=>"time"===Ve.value.sort?Ve.value.sort_dir:"");function Pe(e){Ve.value={sort:e?"time":"",sort_dir:e},Be()}function Ee(){_e.value={},ie.value.length=0,ve.value.length=0}function Ue(){se.value=[],oe.value.page_token=""}d(()=>null==a?void 0:a.value,e=>{e&&!t.value&&(pe.value.timestamp=e,Be())}),d(()=>A.pairAddress,(e,l)=>{A.pairAddress&&(pe.value.tag_type="all",X.value="all",oe.value.loadingTxs1=!0,Ee(),Ke(),function(e,l){l&&F.send({jsonrpc:"2.0",params:["liq",l],id:1,method:"unsubscribe"});setTimeout(()=>{F.send({jsonrpc:"2.0",params:["liq",e],id:1,method:"subscribe"})},20)}(e,l),pe.value.markerAddress="",Be())},{immediate:!0}),d(()=>U.currentAddress,()=>{"-100"===X.value&&Be()}),d(t,(e,l)=>{l&&!e&&(Ee(),pe.value.markerAddress="",Be())}),fo(()=>{Ee(),Be(),Ke()}),d(()=>F.wsResult[Cl.TX],e=>{if(!e||oe.value.loadingTxs||ee.value)return;const{wallet_address:l,from_address:a,to_address:t}=e.tx;if(a!==W.value&&t!==W.value)return;const{timestamp:n,markerAddress:o}=pe.value,[s,i]=n||[];if(s&&e.tx.time<Number(s))return;if(i&&e.tx.time>Number(i))return;if(o&&l!==o)return;_e.value[l]=(_e.value[l]||0)+1;const{topN:r,wallet_tag:u}=Qe(e.tx),d={...e.tx,topN:r,wallet_tag:u,senderProfile:JSON.parse(e.tx.profile||"{}"),count:_e.value[l],time:Math.min(Math.floor(Date.now()/1e3),e.tx.time),uuid:Zt()};ie.value.unshift(d),Fe.value||Re()}),d(()=>F.wsResult[Cl.SIMPLE_TX],e=>{if(!e||oe.value.loadingTxs||ee.value)return;const l=e.msg,{maker:a,target:t}=l;if(t!==W.value)return;if(!["buy","sell"].includes(l.direction))return;const{timestamp:n,markerAddress:o}=pe.value,[s,i]=n||[];if(s&&l.time<Number(s))return;if(i&&l.time>Number(i))return;if(o&&a!==o)return;_e.value[a]=(_e.value[a]||0)+1;const{topN:r,wallet_tag:u}=Qe(e.msg),d=function(e){if(e){const l=e.split(","),a={MEVBot:{type:"8"}};return l.map(e=>a[e]).filter(e=>!!e)}}(l.tag),c={...l,topN:r,wallet_tag:u,count:_e.value[a],time:Math.min(Math.floor(Date.now()/1e3),l.time),uuid:Zt(),wallet_address:a,transaction:l.txhash,senderProfile:{solTotalHolding:l.maker_eth},newTags:d};ie.value.unshift(c),Fe.value||Re()}),d(()=>F.wsResult[Cl.LIQ],e=>{e&&!oe.value.loadingLiq&&["all","liquidity"].includes(X.value)&&(ve.value.unshift({...e.liq,uuid:Zt()}),Fe.value||He(),de.value.length>1500&&de.value.pop())});const Re=Kt(()=>{var e;se.value.unshift(...ie.value),se.value.length>1500&&(se.value=se.value.slice(0,1500),oe.value.page_token=(null==(e=se.value[se.value.length-1])?void 0:e.page_token)||""),ie.value.length=0,wt(se)},100),He=Kt(()=>{de.value.unshift(...ve.value),ve.value.length=0,wt(de)},100);function ze(e=[]){_e.value={},Te.value.timestamp=!1,pe.value.timestamp=e,Be()}function We(e=[]){_e.value={},Te.value.amountU=!1,pe.value.amountU=e,Be()}function qe(e=""){_e.value={},Te.value.markers=!1,pe.value.markerAddress=e,Be()}function Ge(e){const{wallet_tag:l,topN:a}=Qe(e),t=(e.maker_type||"").split(",");let o="en";"zh-tw"===n.value?o="tw":"zh-cn"===n.value&&(o="cn");const s=D.tagArr.filter(e=>t.includes(e.type)).map(e=>({...e,type:e.type,tag_desc:null==e?void 0:e[o],icon:e.icon,color:e.color,extra_info:e.extra_info,nick_name:e.nick_name}));return{...e,wallet_tag:l,topN:a,senderProfile:JSON.parse((null==e?void 0:e.profile)||"{}"),uuid:Zt(),newTags:s,isSimple:!0,chain:Le.value.chain,id:e.page_token,transaction:e.txhash,wallet_address:e.maker}}function Qe(e){const l=e.wallet_tag_v2||"";let a="",t=[];return l.length>0&&(t=l.split(","),t.forEach((e,l)=>{new RegExp("^top.*$","gi").test(e)&&(a=e,t.splice(l,1))})),{topN:a,wallet_tag:t}}async function Ke(){try{oe.value.loadingLiq=!0;const e=await Jt(A.pairAddress+"-"+Le.value.chain);de.value=(e||[]).reverse().map(e=>({...e,uuid:Zt()})).reverse()}catch(e){}finally{oe.value.loadingLiq=!1}}function Xe(e){var l,a,t,n,o,s,i,r;return"direction"in e&&"target"in e?"buy"===e.direction:(!("from_address"in e)||!e.from_address||(null==(a=(l=W.value).toLowerCase)?void 0:a.call(l))!==(null==(n=null==(t=e.from_address)?void 0:t.toLowerCase)?void 0:n.call(t)))&&(!(!("to_address"in e)||!e.to_address||(null==(s=(o=W.value).toLowerCase)?void 0:s.call(o))!==(null==(r=(i=e.to_address).toLowerCase)?void 0:r.call(i)))||void 0)}function Ze(e){if("type"in e){if("addLiquidity"===e.type)return"color-#65C4ED";if("removeLiquidity"===e.type||"CollectFee"===e.type)return"color-#EF6DE2"}return Xe(e)?"color-#12B886":"color-#FF646D"}function Je(e,l=!1){var a,t,n,o,s,i;const r=W.value;if("isSimple"in e&&e.isSimple&&"target_price_u"in e)return null==e?void 0:e.target_price_u;if("direction"in e&&"target"in e&&"price_u"in e)return e.price_u;if("from_address"in e&&e.from_address&&(null==(a=r.toLowerCase)?void 0:a.call(r))===(null==(n=null==(t=e.from_address)?void 0:t.toLowerCase)?void 0:n.call(t)))return l?e.from_price_eth:e.from_price_usd;if("to_address"in e&&e.to_address&&(null==(o=r.toLowerCase)?void 0:o.call(r))===(null==(i=null==(s=e.to_address)?void 0:s.toLowerCase)?void 0:i.call(s)))return l?e.to_price_eth:e.to_price_usd;if("token0_address"in e){let l=0;return l=r===e.token0_address?e.token0_price_usd||0:e.token1_price_usd||0,l}return 0}function el(e,l=!1,a=!1){var t,n,o,s,i,r,u,d;return"direction"in e&&"target"in e?Number(e.target_amt||0)*(l?Number(a?e.price_u||e.target_price_u:e.price_m||e.target_price_m):1):"from_address"in e&&e.from_address&&(null==(n=(t=W.value).toLowerCase)?void 0:n.call(t))===(null==(s=null==(o=e.from_address)?void 0:o.toLowerCase)?void 0:s.call(o))?e.from_amount*(l?Number(a?e.from_price_usd:e.from_price_eth):1):"to_address"in e&&e.to_address&&(null==(r=(i=W.value).toLowerCase)?void 0:r.call(i))===(null==(d=(u=e.to_address).toLowerCase)?void 0:d.call(u))?e.to_amount*(l?Number(a?e.to_price_usd:e.to_price_eth):1):0}function ll(e){var l,a,t,n,o,s,i,r,u;return"direction"in e&&"target"in e?"buy"===e.direction&&new Ae(e.maker_bal).eq(e.target_amt):!(null==(a=null==(l=null==e?void 0:e.newTags)?void 0:l.some)?void 0:a.call(l,e=>"8"===(null==e?void 0:e.type)))&&((null==(n=(t=W.value).toLowerCase)?void 0:n.call(t))===(null==(i=null==(s=null==(o=e.senderProfile)?void 0:o.token0Address)?void 0:s.toLowerCase)?void 0:i.call(s))?null==(r=e.senderProfile)?void 0:r.token0HasNewAccount:null==(u=e.senderProfile)?void 0:u.token1HasNewAccount)}function al(e){var l,a,t,n,o,s,i,r,u;return"direction"in e&&"target"in e?"sell"===e.direction&&new Ae(e.maker_bal).eq(0):!Xe(e)&&!(null==(a=null==(l=e.newTags)?void 0:l.some)?void 0:a.call(l,e=>"8"===(null==e?void 0:e.type)))&&((null==(n=(t=W.value).toLowerCase)?void 0:n.call(t))===(null==(i=null==(s=null==(o=e.senderProfile)?void 0:o.token0Address)?void 0:s.toLowerCase)?void 0:i.call(s))?null==(r=e.senderProfile)?void 0:r.token0HasClearedAccount:null==(u=e.senderProfile)?void 0:u.token1HasClearedAccount)}function tl(e){var l,a,t;return"maker_eth"in e?Number(e.maker_eth||0)>=50:!(null==(a=null==(l=null==e?void 0:e.newTags)?void 0:l.some)?void 0:a.call(l,e=>"8"===e.type))&&Number(null==(t=e.senderProfile)?void 0:t.solTotalHolding)>50}function nl(e){return{"true-true":"bg-[linear-gradient(270deg,#111_0%,#12654C_70%,#12B886_100%)]","true-false":"bg-[linear-gradient(270deg,#111_0%,#7F2A36_70%,#F6465D_100%)]","false-false":"bg-[linear-gradient(270deg,#FFF_0%,#88DBC3_70%,#12B886_100%)]","false-true":"bg-[linear-gradient(270deg,#FFF_0%,#FBA2AE_70%,#F6465D_100%)]"}[`${G().isDark}-${Xe(e)}`]}function ol(e){var a,t;let n="_self";1===(null==(t=null==(a=l.audioSettings)?void 0:a.wallet)?void 0:t.clickAction)&&(n="_blank"),window.open(Z(e.chain,e.transaction,"tx"),n)}const sl=R(null);function il(e,l){e!==X.value&&(X.value=e,pe.value.tag_type=e,"liquidity"!==e?(oe.value.loadingTxs1=!0,Be()):(oe.value.loadingLiq=!0,Ke()),$t(sl,l))}function rl({rowData:e}){if(A.token)if(an.includes(A.token.chain)){const{symbol:l,logo_url:a,chain:t,token:n}=A.token,{target_token:o,token0_address:s,token0_symbol:i,token1_symbol:r,pair:u}=A.pair;$.$patch({drawerVisible:!0,tokenInfo:{id:M.params.id,symbol:l,logo_url:a,chain:t,address:n,remark:e.remark},pairInfo:{target_token:o,token0_address:s,token0_symbol:i,token1_symbol:r,pairAddress:u},user_address:e.wallet_address})}else window.open(Z(A.token.chain,e.transaction,"tx"))}function ul(){_e.value={},pe.value.markerAddress="",Be()}return re(()=>{F.send({jsonrpc:"2.0",params:["liq",A.pairAddress],id:1,method:"unsubscribe"}),se.value=[],Ee()}),(e,a)=>{var t;const n=y,s=zn,i=jt,r=Ay,u=Rt,d=mo,c=p("tooltip"),v=ge;return x(),w("div",Rw,[k("div",Ow,[k("div",{ref_key:"tabsContainer",ref:sl,class:"flex items-center whitespace-nowrap w-[80%] overflow-x-auto scrollbar-hide"},[(x(!0),w(T,null,C(h(K),(l,a)=>(x(),w(T,{key:l.value},[("holdersTooltip"in e?e.holdersTooltip:h(en))(h(o))[l.type]?g((x(),w("a",{key:0,href:"javascript:;",class:V("decoration-none shrink-0 text-12px lh-16px text-center px-12px py-4px rounded-4px\n         "+(h(X)===l.value?"bg-[--border] color-[--main-text]":"color-[--third-text]")),onClick:e=>il(l.value,a)},[I(_(l.label),1)],10,Hw)),[[c,("holdersTooltip"in e?e.holdersTooltip:h(en))(h(o))[l.type]]]):(x(),w("a",{key:1,href:"javascript:;",class:V("decoration-none shrink-0 text-12px lh-16px text-center px-12px py-4px rounded-4px\n         "+(h(X)===l.value?"bg-[--border] color-[--main-text]":"color-[--third-text]")),onClick:e=>il(l.value,a)},_(l.label),11,jw))],64))),128))],512),k("div",zw,[g(k("div",Ww,[S(n,{name:"custom:stop"}),k("span",qw,_(e.$t("paused")),1)],512),[[ue,h(Fe)]]),g((x(),w("span",{class:V(["flex items-center justify-center w-12px h-12px rounded-2px color-[--reverse-color] text-10px cursor-pointer",h(l).isClickKlineFilter?"bg-[--primary-color]":"bg-[--third-text] hover:bg-[--secondary-text]"]),onClick:a[0]||(a[0]=e=>h(l).isClickKlineFilter=!h(l).isClickKlineFilter)},[S(n,{name:"custom:chart"})],2)),[[c,e.$t(h(l).isClickKlineFilter?"clickChartHideFilter":"clickChartFilter")]])])]),h(pe).timestamp.length&&h(pe).timestamp[0]&&h(pe).timestamp[1]?(x(),m(Ew,{key:0,timestamp:h(pe).timestamp,"onUpdate:timestamp":[a[1]||(a[1]=e=>h(pe).timestamp=e),Be]},null,8,["timestamp"])):f("",!0),h(pe).markerAddress?(x(),w(T,{key:1},[h(fe)?(x(),w("div",Gw,_(e.$t("loading")),1)):(x(),w(T,{key:1},[k("div",Yw,[k("div",{innerHTML:e.$t("filterTip",{address:`<span class='color-#3F80F7'> ${h(pe).markerAddress.slice(0,4)}...${h(pe).markerAddress.slice(-4)} </span>`,count:`<span> ${(null==(t=h(ke)[0])?void 0:t.count)||0} </span>`})},null,8,Qw),k("span",{class:"color-#3F80F7 decoration-underline cursor-pointer ml-2px",onClick:L(ul,["stop"])},_(e.$t("filterCancel")),1)]),S(Mw,{makerAddress:h(pe).markerAddress,isLiquidity:h(ae),pairLiq:h(de),isBuy:Xe,getAmount:el,getPrice:Je,chain:h(Le).chain,tagType:h(pe).tag_type,tokenTxs:h(se)},null,8,["makerAddress","isLiquidity","pairLiq","chain","tagType","tokenTxs"])],64))],64)):f("",!0),g((x(),w("div",Kw,[S(d,{ref_key:"aveTableRef",ref:P,rowKey:"uuid",fixed:"",data:h(ke),columns:h(ne),style:N({height:`${h(z)}px`,"--el-table-bg-color":"transparent",overflow:"visible",paddingBottom:h(he)?"20px":"0px"}),"row-class":"cursor-pointer",showFooter:h(he),footText:h(xe),rowEventHandlers:{onMouseenter:()=>le.value=!0,onMouseleave:()=>le.value=!1,onClick:rl},onEndReached:be},{empty:b(()=>[h(fe)?(x(),w("span",lT)):(x(),w("div",Xw,["light"===h(H).theme?(x(),w("img",Zw)):(x(),w("img",Jw)),k("span",eT,_(h(o)("emptyNoData")),1)]))]),"header-time":b(()=>[k("div",aT,[k("span",{class:"cursor-pointer",onClick:a[2]||(a[2]=e=>Pe({asc:"",desc:"asc","":"desc"}[h(Me)]||""))},_(e.$t("time")),1),S(n,{name:""+(h(we).isShowDate?"custom:calendar":"custom:countdown"),class:"color-[--third-text] cursor-pointer",onClick:a[3]||(a[3]=L(e=>h(we).isShowDate=!h(we).isShowDate,["self"]))},null,8,["name"]),S(By,{visible:h(Te).timestamp,"onUpdate:visible":a[4]||(a[4]=e=>h(Te).timestamp=e),modelValue:h(pe).timestamp,boundary:h(te)||void 0,onConfirm:ze},null,8,["visible","modelValue","boundary"]),S(s,{defaultSort:h(Me),onSortChange:Pe},null,8,["defaultSort"])])]),"cell-time":b(({row:e,rowIndex:l})=>[!h(we).isShowDate&&e.time&&Number(h(ye)(e.time,!0))<60?(x(),m(i,{key:`${e.time}${l}`,timestamp:e.time,"end-time":60},{default:b(({seconds:l})=>[k("span",tT,[l<60?(x(),w(T,{key:0},[I(_(l)+"s ",1)],64)):(x(),w(T,{key:1},[I(_(h(ye)(e.time)),1)],64))])]),_:2},1032,["timestamp"])):(x(),w("span",nT,_(h(we).isShowDate?h(J)(e.time,"HH:mm:ss"):h(ye)(e.time)),1))]),"header-type":b(()=>[k("div",{class:"flex items-center gap-2px",onClick:a[5]||(a[5]=()=>["","all"].includes(h(X))&&(h(we).isShowLiq=!h(we).isShowLiq))},[k("span",{class:V(["","all"].includes(h(X))&&"cursor-pointer")},_(e.$t("type")),3),["","all"].includes(h(X))?g((x(),m(n,{key:0,name:"custom:droplet",class:V("cursor-pointer "+(h(we).isShowLiq?"color-[--primary-color]":"color-[--third-text]"))},null,8,["class"])),[[c,h(we).isShowLiq?e.$t("hideLiq"):e.$t("showLiq")]]):f("",!0)])]),"cell-type":b(({row:l})=>[k("div",{class:V(Ze(l))},[void 0!==l.type?(x(),w("span",oT,["removeLiquidity"==l.type?(x(),w(T,{key:0},[I(_(e.$t("removeLiq")),1)],64)):"addLiquidity"==l.type?(x(),w(T,{key:1},[I(_(e.$t("addLiq")),1)],64)):"CollectFee"==l.type?(x(),w(T,{key:2},[I(_(e.$t("CollectFee")),1)],64)):"CreatePair"==l.type?(x(),w(T,{key:3},[I(_(e.$t("CreatePair")),1)],64)):(x(),w(T,{key:4},[I(_(l.type),1)],64))])):Xe(l)?(x(),w("span",sT,_(e.$t("buy")),1)):(x(),w("span",iT,_(e.$t("sell")),1))],2)]),"header-swapPrice":b(()=>[k("div",rT,[k("span",null,_(e.$t("swapPrice")),1)])]),"cell-swapPrice":b(({row:l})=>[void 0!==l.type?(x(),w(T,{key:0},[I("- -")],64)):(x(),w("div",{key:1,class:V(Ze(l))}," $"+_(("formatNumber"in e?e.formatNumber:h(Q))(Je(l),4)),3))]),"cell-amountB":b(({row:l})=>[void 0===l.type?(x(),w("span",{key:0,class:V(Ze(l))},_(("formatNumber"in e?e.formatNumber:h(Q))(el(l),2)),3)):(x(),w("div",uT,[k("div",{class:V(Ze(l))},[I(_(("formatNumber"in e?e.formatNumber:h(Q))(l.amount0||0))+" ",1),k("span",dT,_(l.token0_symbol),1)],2),k("div",{class:V(Ze(l))},[I(_(("formatNumber"in e?e.formatNumber:h(Q))(l.amount1||0))+" ",1),k("span",cT,_(l.token1_symbol),1)],2)]))]),"header-amountU":b(()=>[k("div",vT,[k("span",null,_(e.$t("amountU")),1),S(n,{name:"custom:price",class:V((h(l).isUSDT?"color-[--third-text]":"color-[--primary-color]")+" cursor-pointer"),onClick:a[6]||(a[6]=L(e=>h(l).isUSDT=!h(l).isUSDT,["self"]))},null,8,["class"]),S(Uy,{visible:h(Te).amountU,"onUpdate:visible":a[7]||(a[7]=e=>h(Te).amountU=e),modelValue:h(pe).amountU,onConfirm:We},null,8,["visible","modelValue"])])]),"cell-amountU":b(({row:a})=>{var t,n;return[void 0===a.type?(x(),w("div",{key:0,class:V(`absolute h-full ${nl(a)} opacity-15`),style:N(`width:${Math.min(el(a,!0,!0)/("solana"===h(Le).chain?10:20),100)}%`)},null,6)):f("",!0),void 0===a.type?(x(),w("div",{key:1,class:V(`${Ze(a)} w-full h-full flex items-center justify-end`)},[h(l).isUSDT?(x(),w(T,{key:0},[I(" $"+_(("formatNumber"in e?e.formatNumber:h(Q))(el(a,!0,!0),2)),1)],64)):(x(),w(T,{key:1},[I(_(("formatNumber"in e?e.formatNumber:h(Q))(el(a,!0,!1),3))+" ",1),k("span",pT,"  "+_(null==(t=h(Ye)(a.chain))?void 0:t.main_name),1)],64))],2)):(x(),w("div",{key:2,class:V(Ze(a))},[h(l).isUSDT?(x(),w(T,{key:0},[I(" $"+_(("formatNumber"in e?e.formatNumber:h(Q))(a.amount0*a.token0_price_usd+a.amount1*a.token1_price_usd,2)),1)],64)):(x(),w(T,{key:1},[I(_(("formatNumber"in e?e.formatNumber:h(Q))(a.amount0*a.token0_price_eth+a.amount1*a.token1_price_eth,2))+" ",1),k("span",mT,_(null==(n=h(Ye)(a.chain))?void 0:n.main_name),1)],64))],2))]}),"header-makers":b(()=>[k("span",fT,_(e.$t("makers")),1),S(Hy,{visible:h(Te).markers,"onUpdate:visible":a[8]||(a[8]=e=>h(Te).markers=e),modelValue:h(pe).markerAddress,chain:h(Le).chain,onConfirm:qe},null,8,["visible","modelValue","chain"])]),"cell-makers":b(({row:l,rowIndex:a})=>[["solana","bsc"].includes(l.chain)&&(l.senderProfile||l.maker_bal)?(x(),w(T,{key:0},[ll(l)&&!(l.newTags||[]).map(e=>e.type).includes("47")?g((x(),m(n,{key:0,name:"custom:new-account",class:"mr-3px shrink-0"},null,512)),[[c,{content:`<span style='color: #85E12F'>${e.$t("newTokenAccount")}</span>`,props:{"raw-content":!0,"popper-class":"signal-tags-tooltip"}}]]):f("",!0),al(l)&&!(l.newTags||[]).map(e=>e.type).includes("46")?g((x(),m(n,{key:1,name:"custom:cleared-account",class:"mr-3px shrink-0"},null,512)),[[c,{content:`<span style='color: #EB2B4B'>${e.$t("sellAl")}</span>`,props:{"raw-content":!0,"popper-class":"signal-tags-tooltip"}}]]):f("",!0),tl(l)?g((x(),m(n,{key:2,name:"custom:big",class:"mr-3px shrink-0"},null,512)),[[c,{content:`<span style='color: #ccc'>${e.$t("whales")}</span>`,props:{"raw-content":!0,"popper-class":"signal-tags-tooltip"}}]]):f("",!0)],64)):f("",!0),S(r,{tagClass:"mr-3px",tags:(l.newTags||[]).map(e=>h(D).matchTag(e.type)||e),walletAddress:l.wallet_address,chain:l.chain},null,8,["tags","walletAddress","chain"]),(x(),w("div",{key:l.wallet_address,class:"flex items-center gap-4px"},[S(u,{remark:l.remark,address:l.wallet_address,addressClass:h($e)&&h(Ie).wallet_address===l.wallet_address?"bg-#12B88633":"",maxRemarkLength:8,chain:l.chain,wallet_logo:l.wallet_logo,class:"color-[--secondary-text]",mouseoverAddress:e=>function(e,l){e&&an.includes(e.chain)&&(Ne.value=l.currentTarget,Ie.value=e)}(l,e)},{default:b(()=>[l.count&&l.count>1?(x(),w("div",hT," ("+_(l.count)+") ",1)):f("",!0)]),_:2},1032,["remark","address","addressClass","chain","wallet_logo","mouseoverAddress"]),S(n,{name:"custom:filter",class:V((h(pe).markerAddress?"color-[--secondary-text]":"color-[--third-text]")+" cursor-pointer text-10px shrink-0"),onClick:L(e=>{return a=l.wallet_address,_e.value={},pe.value.markerAddress=pe.value.markerAddress?"":a,void Be();var a},["self","stop"])},null,8,["class","onClick"])]))]),"cell-SOLBalance":b(({row:l})=>[l.senderProfile?(x(),w("span",xT,_(("formatNumber"in e?e.formatNumber:h(Q))(l.maker_eth||0,2)),1)):f("",!0)]),"cell-DEX":b(({row:l})=>{var a,t;return[k("div",bT,["unknown"===l.amm?g((x(),w("img",{key:0,class:"w-16px h-16px cursor-pointer rounded-full",src:h(ln),alt:""},null,8,kT)),[[c,null==(a=("getSwapInfo"in e?e.getSwapInfo:h(Se))(l.chain,l.amm))?void 0:a.show_name]]):g((x(),w("img",{key:1,class:"w-16px h-16px cursor-pointer rounded-full",src:("formatIconSwap"in e?e.formatIconSwap:h(Ce))(l.amm),alt:"",onClick:L(e=>ol(l),["stop","self"])},null,8,gT)),[[c,null==(t=("getSwapInfo"in e?e.getSwapInfo:h(Se))(l.chain,l.amm))?void 0:t.show_name]]),S(n,{name:"custom:browser",class:"text-16px color-[--third-text] cursor-pointer",onClick:L(e=>ol(l),["stop","self"])},null,8,["onClick"])])]}),_:1},8,["data","columns","style","showFooter","footText","rowEventHandlers"]),S(Nw,{modelValue:h($e),"onUpdate:modelValue":a[9]||(a[9]=e=>B($e)?$e.value=e:null),"virtual-ref":h(Ne),currentRow:h(Ie),addressAndChain:h(Le)},{default:b(()=>[["solana","bsc"].includes(h(Ie).chain)&&(h(Ie).senderProfile||h(Ie).maker_bal)?(x(),w(T,{key:0},[ll(h(Ie))&&!(h(Ie).newTags||[]).map(e=>e.type).includes("47")?g((x(),m(n,{key:0,name:"custom:new-account",class:"mr-3px"},null,512)),[[c,`<span style='color: #85E12F'>${e.$t("newTokenAccount")}</span>`,void 0,{raw:!0}]]):f("",!0),al(h(Ie))&&!(h(Ie).newTags||[]).map(e=>e.type).includes("46")?g((x(),m(n,{key:1,name:"custom:cleared-account",class:"mr-3px"},null,512)),[[c,`<span style='color: #EB2B4B'>${e.$t("sellAl")}</span>`,void 0,{raw:!0}]]):f("",!0),tl(h(Ie))?g((x(),m(n,{key:2,name:"custom:big"},null,512)),[[c,`<span style='color: #C5842B'>${e.$t("whales")}</span>`,void 0,{raw:!0}]]):f("",!0)],64)):f("",!0),S(r,{tagClass:"mr-3px",tags:h(Ie).newTags,walletAddress:h(Ie).wallet_address,chain:h(Ie).chain},null,8,["tags","walletAddress","chain"])]),_:1},8,["modelValue","virtual-ref","currentRow","addressAndChain"])])),[[v,h(fe)]])],512)}}}),[["__scopeId","data-v-c5caed7c"]]),yT={key:0,class:"flex flex-col items-center justify-center py-30px"},wT={key:0,src:le},TT={key:1,src:ae},CT={key:1},AT=["onClick"],ST={class:"icon-token-container mr-5px"},NT={class:"relative"},$T=["src"],IT=["src"],FT=["src"],LT={class:"text-[var(--d-eaecef-l-333333)] text-13px"},VT={class:"flex flex-row-reverse"},BT={class:"flex items-center"},DT={key:0,class:"text-13px text-[#F6465D] text-center px-5px py-2px rounded-4px",style:{background:"rgba(246, 70, 93, 0.10)"}},MT={key:1,class:"text-13px text-[#12B886] text-center px-5px py-2px rounded-4px",style:{background:"rgba(18, 184, 134, 0.10)"}},PT={key:0,class:"text-[--secondary-text]"},ET={key:1},UT={class:"text-[--secondary-text]"},RT={class:"text-[--secondary-text]"},OT={class:"text-[--secondary-text] text-right"},HT={key:0,class:"text-[--secondary-text]"},jT={key:1,class:"text-[--secondary-text]"},zT={key:2,class:"text-[--secondary-text]"},WT={key:3,class:"text-[--secondary-text]"},qT={class:"color-[--third-text]"},GT={class:"color-[--third-text]"},YT=["onClick"],QT={key:1},KT=M(o({__name:"unified",props:{chain:{type:String,required:!0},currentToken:{type:Boolean,required:!0},userAddress:{type:String,required:!0}},setup(e,{expose:l}){const{formatUnits:a}=on,t=e,n=z(),o=j(),v=i(),p=tn(),{mode:C}=q(O()),{t:A}=s(),N=de(),$=R({swapType:["buy","sell"],statusType:["waiting","confirmed","error","cancelled","sent"]}),F=R([]),B=R(!1),D=c(()=>Math.max(o.commonHeight-260,450));d([()=>t.currentToken,()=>t.userAddress||"",()=>null==o?void 0:o.placeOrderUpdate],()=>{W()});const M=ve("updateLimitOrder").on(e=>{e===t.chain&&W()});function P(e){const l={1:A("buy"),2:A("sell"),3:A("limitBuy1"),4:A("limitSell1"),5:`${A("limit")}/${A("buy")}`,6:`${A("limit")}/${A("sell")}`,7:A("followBuy"),8:A("followSell"),12:A("trailingStop"),13:A("listingOnDex"),14:A("devSell")};return l[e]?l[e]:""}function E(e){return 1===e||5===e||7===e}re(()=>{M&&M()});function U(e){"all"===e?$.value.swapType=["buy","sell"]:"5"===e?$.value.swapType=["buy"]:"6"===e&&($.value.swapType=["sell"]),W()}function H(e){const l=E(e.swapType)?e.outTokenAddress:null==e?void 0:e.inTokenAddress;l&&p.push(`/token/${l}-${e.chain}`)}const W=async e=>{var l,a,s;B.value=!0;const i=e||t.chain;try{if(!n.accessToken)return;const e={chain:i,token:t.currentToken?null==(l=r(v.params.id))?void 0:l.address:"",walletAddress:t.userAddress||(null==(s=null==(a=n.userInfo)?void 0:a.addresses.find(e=>e.chain===i))?void 0:s.address)||""};if(!e.walletAddress||!e.chain)return;const u=await nn({...e});F.value=u||[],1===$.value.swapType.length&&("buy"===$.value.swapType[0]&&(F.value=F.value.filter(e=>E(e.swapType))),"sell"===$.value.swapType[0]&&(F.value=F.value.filter(e=>!E(e.swapType)))),o.registrationNum=F.value.length}catch(u){}finally{B.value=!1}};return u(()=>{W()}),l({txOrder:F,getUserPendingTx:W}),(e,l)=>{var n;const o=he,s=co,i=y,r=Jn,u=Zn,d=Xn,c=uo,v=ge;return x(),w("div",null,[g((x(),m(c,{data:F.value,fit:"",stripe:"",height:h(D),"row-class-name":"text-12px","header-row-class-name":"text-12px",style:{width:"100%"},onRowClick:H},{empty:b(()=>[B.value?(x(),w("span",CT)):(x(),w("div",yT,["light"===h(C)?(x(),w("img",wT)):f("",!0),"dark"===h(C)?(x(),w("img",TT)):f("",!0),k("span",null,_(h(A)("emptyNoData")),1)]))]),default:b(()=>[S(s,{label:h(A)("token"),align:"left"},{default:b(({row:l})=>[k("div",{class:"flex items-center justify-start",onClick:e=>(e=>{const l=E(e.swapType)?e.outTokenAddress:null==e?void 0:e.inTokenAddress;l&&p.push(`/token/${l}-${e.chain}`)})(l)},[k("div",ST,[k("div",NT,[S(o,{class:"w-32px h-32px rounded-full",src:("getSymbolDefaultIcon"in e?e.getSymbolDefaultIcon:h(fe))({chain:null==l?void 0:l.chain,symbol:E(l.swapType)?l.outTokenSymbol:null==l?void 0:l.inTokenSymbol,logo_url:E(l.swapType)?l.outTokenLogoUrl:null==l?void 0:l.inTokenLogoUrl})},{error:b(()=>[k("img",{class:"w-32px h-32px",src:h(xe)(null==l?void 0:l.chain,E(l.swapType)?l.outTokenSymbol:null==l?void 0:l.inTokenSymbol),alt:"",srcset:""},null,8,$T)]),placeholder:b(()=>[k("img",{class:"w-32px h-32px",src:h(xe)(null==l?void 0:l.chain,E(l.swapType)?l.outTokenSymbol:null==l?void 0:l.inTokenSymbol),alt:"",srcset:""},null,8,IT)]),_:2},1032,["src"]),(null==l?void 0:l.chain)?(x(),w("img",{key:0,class:"w-12px h-12px absolute bottom-3px right-0 rd-50%",src:`${h(N).token_logo_url}chain/${l.chain}.png`,alt:"",srcset:""},null,8,FT)):f("",!0)])]),k("span",LT,_(E(l.swapType)?l.outTokenSymbol:null==l?void 0:l.inTokenSymbol),1)],8,AT)]),_:1},8,["label"]),S(s,{label:h(A)("type"),align:"right",prop:"isBuy"},{header:b(()=>[k("div",VT,[k("div",BT,[k("div",null,_(h(A)("type")),1),S(d,{persistent:!1,trigger:"click",onCommand:U},{dropdown:b(()=>[S(u,null,{default:b(()=>[S(r,{command:"all"},{default:b(()=>[I(_(h(A)("all")),1)]),_:1}),S(r,{class:V([1===$.value.swapType.length&&"buy"===$.value.swapType[0]&&"active-dropdown-item"]),command:"5"},{default:b(()=>[I(_(h(A)("limitBuy")),1)]),_:1},8,["class"]),S(r,{class:V([1===$.value.swapType.length&&"sell"===$.value.swapType[0]&&"active-dropdown-item"]),command:"6"},{default:b(()=>[I(_(h(A)("limitSell")),1)]),_:1},8,["class"])]),_:1})]),default:b(()=>{var e;return[S(i,{name:"custom:filter",class:V([[1===(null==(e=$.value.swapType)?void 0:e.length)&&"color-#286DFF"],"color-[--third-text] cursor-pointer text-10px"])},null,8,["class"])]}),_:1})])])]),default:b(({row:e})=>[E(e.swapType)?(x(),w("div",MT,_(P(e.swapType)),1)):(x(),w("div",DT,_(P(e.swapType)),1))]),_:1},8,["label"]),S(s,{label:h(A)("price"),align:"right"},{header:b(()=>[k("span",null,_(h(A)("price")),1)]),default:b(({row:e})=>[13!==e.swapType&&14!==e.swapType?(x(),w("span",PT,"$"+_(h(Q)((null==e?void 0:e.PriceLimit)||0)),1)):(x(),w("span",ET,"--"))]),_:1},8,["label"]),S(s,{label:h(A)("volume4"),align:"right"},{default:b(({row:e})=>[k("span",UT,"$"+_(h(Q)(Number(null==e?void 0:e.inValue)||0,2)),1)]),_:1},8,["label"]),S(s,{label:h(A)("amount1"),align:"right"},{header:b(()=>[k("span",null,_(h(A)("amountB")),1)]),default:b(({row:e})=>[k("span",RT,[k("span",OT,[E(e.swapType)?(x(),w(T,{key:1},[I(_(Number(null==e?void 0:e.outputAmount)?h(Q)(h(a)(new(h(Ae))((null==e?void 0:e.outAmount)||0).toFixed(0),e.outTokenDecimals||0),4):"--")+" "+_(Number(null==e?void 0:e.outputAmount)?null==e?void 0:e.outTokenSymbol:""),1)],64)):(x(),w(T,{key:0},[I(_(Number(null==e?void 0:e.inAmount)?h(Q)(h(a)(new(h(Ae))((null==e?void 0:e.inAmount)||0).toFixed(0),e.inTokenDecimals||0),4):"--")+" "+_(Number(null==e?void 0:e.inAmount)?null==e?void 0:e.inTokenSymbol:""),1)],64))])])]),_:1},8,["label"]),S(s,{label:h(A)("status"),align:"right"},{header:b(()=>[k("span",null,_(h(A)("status")),1)]),default:b(({row:e})=>["confirmed"===e.status?(x(),w("span",HT,_(h(A)("completed")),1)):"cancelled"===e.status?(x(),w("span",jT,_(h(A)("cancelled1")),1)):"sent"===e.status?(x(),w("span",zT,_(h(A)("sent")),1)):"waiting"===e.status?(x(),w("span",WT,_(h(A)("pendingOrder")),1)):f("",!0)]),_:1},8,["label"]),S(s,{label:h(A)("CreateTime"),align:"right"},{default:b(({row:e})=>[k("span",qT,_(h(J)(e.createTime,"YYYY/MM/DD HH:mm")),1)]),_:1},8,["label"]),S(s,{label:h(A)("ExpirationTime"),align:"right"},{default:b(({row:e})=>[k("span",GT,_(h(J)(new Date(e.createTime).getTime()+6048e5,"YYYY/MM/DD HH:mm")),1)]),_:1},8,["label"]),S(s,{label:h(A)("operate"),align:"right"},{default:b(({row:e})=>["waiting"===e.status?(x(),w("div",{key:0,class:"text-[#F6465D] text-14px cursor-pointer",onClick:L(l=>function(e){oe.confirm(A("botCancelOrder"),"",{confirmButtonText:A("confirm"),cancelButtonText:A("cancel")}).then(async()=>{await sn({chain:t.chain,batchId:e.batchId}),W(),ve("updateKlineLimitLine").emit()}).catch(()=>{})}(e),["stop"])},_(h(A)("cancel")),9,YT)):(x(),w("div",QT," - "))]),_:1},8,["label"])]),_:1},8,["data","height"])),[[v,B.value&&!(null==(n=F.value)?void 0:n.length)]])])}}}),[["__scopeId","data-v-49eb5f5e"]]),XT={class:"ml-20px flex items-center clickable"},ZT={class:"text-12px color-[--main-text] mx-3px whitespace-nowrap"},JT={class:"text-10px color-[--third-text]"},eC=["src"],lC={class:"text-12px color-[--main-text]"},aC={class:"color-[--third-text] text-12px max-h-500px overflow-y-auto"},tC={class:"px-12px"},nC=["onClick"],oC={class:"flex justify-between flex-1 clickable"},sC={class:"text-12px lh-14px inline-block"},iC={class:"color-[--main-text] flex"},rC={class:"color-[--third-text] flex items-center"},uC={class:"ml-auto lh-14px inline-flex items-center color-[--main-text] text-12px justify-end"},dC=["src"],cC=M(o({__name:"selectWallet",props:{chain:{type:String,default:""},boundary:{type:HTMLElement,default:null}},setup(e,{expose:l}){const a=de(),t=j(),n=z(),o=R(!1),s=R(n.evmAddress||""),i=c(()=>s.value||n.evmAddress),r=c(()=>{var e,l;return null==(l=null==(e=n.walletList)?void 0:e.find)?void 0:l.call(e,e=>e.evmAddress===i.value)});function u(e,l){var a;return null==(a=null==l?void 0:l.find)?void 0:a.call(l,l=>(null==l?void 0:l.chain)===e)}function v(e,l,a){var t,n,o,s,i;return(null==(t=il)?void 0:t.includes(a||""))||!a?(null==(n=u(e,l))?void 0:n.balance)||0:(null==(i=null==(s=null==(o=u(e,l))?void 0:o.tokenBalances)?void 0:s[a])?void 0:i.balance)||0}return d(()=>n.evmAddress,()=>{s.value=n.evmAddress}),l({evmAddress:i}),(l,i)=>{const d=y,c=xo,f=ho,A=D,N=p("copy");return x(),m(A,{visible:h(o),"onUpdate:visible":i[2]||(i[2]=e=>B(o)?o.value=e:null),placement:"bottom",width:"305",trigger:"click",persistent:!1,"popper-class":"[&&]:[--el-popover-padding:0]","popper-options":{modifiers:[{name:"preventOverflow",options:{boundary:e.boundary,padding:0}}]}},{reference:b(()=>{var c,p,m,f,x,b,y,w,T,C,A;return[k("div",XT,[S(d,{name:"ri:wallet-fill",class:"color-[--secondary-text] text-14px"}),k("span",ZT,_((null==(p=null==(c=h(n).walletList)?void 0:c.find(e=>e.evmAddress===h(s)))?void 0:p.name)||(null==(m=h(n).userInfo)?void 0:m.name)||""),1),k("span",JT,_(null==(b=null==(x=u(e.chain,(null==(f=h(r))?void 0:f.addresses)||[]))?void 0:x.address)?void 0:b.replace(new RegExp("(.{6})(.+)(.{4})"),"$1...$3")),1),g(S(d,{name:"bxs:copy",class:"clickable ml-5px text-12px color-[--third-text]"},null,512),[[N,null==(w=u(e.chain,(null==(y=h(r))?void 0:y.addresses)||[]))?void 0:w.address]]),i[3]||(i[3]=k("div",{class:"border-l-solid border-l-1px border-l-[--icon-color] h-8px mx-8px"},null,-1)),k("img",{src:`${h(a).token_logo_url}token_icon/${e.chain}/${(null==(T=("getChainInfo"in l?l.getChainInfo:h(Ye))(e.chain))?void 0:T.wmain_wrapper)||""}.png`,class:"rd-50% mr-2px",height:"12",alt:"",srcset:""},null,8,eC),k("span",lC,_(("formatNumber"in l?l.formatNumber:h(Q))(v(e.chain,(null==(C=h(r))?void 0:C.addresses)||[],null==(A=h(t).swap.native)?void 0:A.address)||0)),1),S(d,{name:"prime:sort-down-fill",class:V(["color-[--main-text] text-14px transition-all-300",{"rotate-180":h(o)}])},null,8,["class"])])]}),default:b(()=>[k("div",aC,[k("div",tC,[S(f,{modelValue:h(s),"onUpdate:modelValue":i[1]||(i[1]=e=>B(s)?s.value=e:null),class:"w-100%"},{default:b(()=>{var r,p;return[(x(!0),w(T,null,C(null==(p=null==(r=h(n))?void 0:r.walletList)?void 0:p.toSorted(e=>e.evmAddress===h(n).evmAddress?-1:1),(r,p)=>{var m,f,b,y,T,C;return x(),w("div",{key:r.evmAddress,class:V(["flex items-center h-50px w-100%",{"b-b-solid b-b-1px b-b-[--border]":p!==(null==(m=h(n))?void 0:m.walletList.length)-1}]),onClick:L(e=>{s.value=r.evmAddress,o.value=!1},["stop"])},[S(c,{class:"[&&]:[--el-checkbox-disabled-checked-icon-color:#FFF] [&&]:[--el-checkbox-disabled-checked-input-fill:#3F80F7] [&&]:[--el-checkbox-disabled-checked-input-border-color:#3F80F7] batch-checkbox",value:r.evmAddress},null,8,["value"]),k("div",oC,[k("div",sC,[k("div",iC,_(r.name),1),k("div",rC,[k("span",null,_(null==(b=null==(f=u(e.chain,r.addresses))?void 0:f.address)?void 0:b.replace(new RegExp("(.{6})(.+)(.{4})"),"$1...$3")),1),g(S(d,{name:"bxs:copy",class:"clickable ml-5px text-12px",onClick:i[0]||(i[0]=L(()=>{},["stop"]))},null,512),[[N,null==(y=u(e.chain,r.addresses))?void 0:y.address]])])]),k("div",uC,[k("img",{src:`${h(a).token_logo_url}token_icon/${e.chain}/${(null==(T=("getChainInfo"in l?l.getChainInfo:h(Ye))(e.chain))?void 0:T.wmain_wrapper)||""}.png`,class:"rd-50% mr-2px",height:"12",alt:"",srcset:""},null,8,dC),k("span",null,_(("formatNumber"in l?l.formatNumber:h(Q))(v(e.chain,r.addresses,null==(C=h(t).swap.payToken)?void 0:C.address)||0)),1)])])],10,nC)}),128))]}),_:1},8,["modelValue"])])])]),_:1},8,["visible","popper-options"])}}}),[["__scopeId","data-v-4c97ea57"]]),vC={ref:"myOrders"},pC={class:"px-12px mb-10px flex justify-between"},mC={class:"flex items-center whitespace-nowrap w-[80%] overflow-x-auto scrollbar-hide"},fC=["onClick"],hC={class:"flex items-center gap-3px"},xC=o({__name:"index",props:{currentActiveTab:{type:String,required:!0}},setup(e){const l=e;j();const a=z(),{t:t}=s(),n=i(),o=je(),r=R(),v=R("solana"),p=R(!1),b=Ll("myOrders"),g=c(()=>{var e;return[...(null==(e=a.userInfo)?void 0:e.addresses)||[]].sort((e,l)=>"solana"===e.chain?-1:"solana"===l.chain?1:"bsc"===e.chain?-1:"bsc"===l.chain?1:0)}),y=Ll("selectWallet"),A=c(()=>{var e,l,t,n,o,s,i,r;if(null==(e=y.value)?void 0:e.evmAddress)return(null==(i=null==(s=null==(o=null==(n=null==(t=null==(l=null==a?void 0:a.walletList)?void 0:l.find)?void 0:t.call(l,e=>{var l;return e.evmAddress===(null==(l=y.value)?void 0:l.evmAddress)}))?void 0:n.addresses)?void 0:o.find)?void 0:s.call(o,e=>e.chain===v.value))?void 0:i.address)||"";const u=null==(r=a.userInfo)?void 0:r.addresses.find(e=>e.chain===v.value);return(null==u?void 0:u.address)||""});function $(){var e,l;(null==(l=null==(e=r.value)?void 0:e.txOrder)?void 0:l.length)&&oe.confirm(t("botCancelAllOrder"),"",{confirmButtonText:t("confirm"),cancelButtonText:t("cancel")}).then(async()=>{await rn({chain:v.value}),r.value.getUserPendingTx(),ve("updateKlineLimitLine").emit()}).catch(()=>{})}return d(()=>l.currentActiveTab,()=>{if("Orders"===l.currentActiveTab){const e=String(n.params.id).split("-")[1];g.value.find(l=>(null==l?void 0:l.chain)===e)&&(v.value=e),U(()=>{r.value.getUserPendingTx(v.value)})}}),d([()=>n.params.id,()=>{var e;return null==(e=o.wsResult)?void 0:e.tgbot}],()=>{const e=String(n.params.id).split("-")[1];g.value.find(l=>(null==l?void 0:l.chain)===e)&&(v.value=e),U(()=>{r.value.getUserPendingTx(v.value)})}),u(()=>{const e=String(n.params.id).split("-")[1];g.value.find(l=>(null==l?void 0:l.chain)===e)&&(v.value=e)}),(e,l)=>{var n,o,s,i;const u=tl;return x(),w("div",vC,[k("div",pC,[k("div",mC,[(x(!0),w(T,null,C(g.value,e=>(x(),w("a",{key:e.chain,href:"javascript:;",class:V("decoration-none shrink-0 text-12px lh-16px text-center px-12px py-4px rounded-4px "+(v.value===e.chain?"bg-[--border] color-[--main-text]":"color-[--third-text]")),onClick:l=>{return a=e.chain,v.value=a,void U(()=>{r.value.getUserPendingTx(v.value)});var a}},_(h(Ye)(e.chain).name),11,fC))),128))]),k("div",hC,[S(u,{modelValue:p.value,"onUpdate:modelValue":l[0]||(l[0]=e=>p.value=e),label:h(t)("currentToken"),size:"small",style:{"font-size":"12px",color:"var(--third-text)"}},null,8,["modelValue","label"]),k("button",{style:N({background:(null==(o=null==(n=r.value)?void 0:n.txOrder)?void 0:o.length)>0?"rgba(246, 70, 93, 0.10)":"var(--border)"}),class:V(["h-6 text-xs rounded border-0 px-2.5 cursor-pointer text-[--third-text] whitespace-nowrap",[(null==(i=null==(s=r.value)?void 0:s.txOrder)?void 0:i.length)>0&&"!text-[#F6465D]"]]),onClick:$},_(h(t)("cancelAll")),7)]),h(a).evmAddress?(x(),m(cC,{key:0,ref:"selectWallet",chain:v.value,boundary:h(b)},null,8,["chain","boundary"])):f("",!0)]),S(KT,{ref_key:"unifiedRef",ref:r,chain:v.value,currentToken:p.value,userAddress:A.value},null,8,["chain","currentToken","userAddress"])],512)}}}),bC={class:"text-16px lh-24px"},kC={class:"flex items-center mt-24px"},gC=o({__name:"confirmSellAll",emits:["success","cancel"],setup(e,{emit:l}){const a=l;return(e,l)=>{const t=ke;return x(),w(T,null,[k("div",bC,_(e.$t("confirmSellAlTips")),1),k("div",kC,[S(t,{class:"flex-1",size:"large",onClick:l[0]||(l[0]=L(e=>a("cancel"),["stop"]))},{default:b(()=>[I(_(e.$t("cancel")),1)]),_:1}),S(t,{class:"flex-1",type:"primary",size:"large",onClick:l[1]||(l[1]=L(e=>a("success"),["stop"]))},{default:b(()=>[I(_(e.$t("confirm")),1)]),_:1})])],64)}}}),_C={class:"ml-5px"},yC={class:"flex-between"},wC={class:"flex-start"},TC={class:"content flex-1 flex flex-col"},CC={class:"flex-between mt-10px"},AC={class:"tabs-1 ml-5px mr-auto"},SC=["onClick"],NC={key:0,class:"mr-5px"},$C={class:"color-[--secondary-text]"},IC={class:"flex-between mt-10px"},FC={class:"tabs-1 ml-5px mr-auto"},LC=["onClick"],VC={key:0,class:"mr-5px"},BC={class:"color-[--secondary-text]"},DC={key:2,class:"mt-10px tabs flex-1 flex-wrap"},MC={key:0,class:"bg-[--border] color-[--third-text] border-none px-5px py-2px text-11px ml-auto rd-2px cursor-not-allowed",disabled:""},PC={key:0,class:"el-icon is-loading mr-2px"},EC=M(o({__name:"oneClick",setup(e){const l=z(),a=j(),o=ll(),v=ol(),{botSettings:A}=q(o),$=je(),F=i(),{t:D}=s(),{executing:M}=cl(),P=R([!1,!1,!1,!1,!1]),E=R([!1,!1,!1,!1,!1]),O=ie("oneClickVisible",!1),W=R(!1),G=ie("isEnableHotkey",!1),Y=ie("isEnablePnL",!0),K=ie("isEnableShowsReflected",!1),{getTokenBalance:X,updateBalanceFromWs:Z}=jp(),J=c(()=>{var e,l,t;return(null==(l=r(null==(e=F.params)?void 0:e.id))?void 0:l.chain)||(null==(t=a.token)?void 0:t.chain)});function ee(){var e,l,t;return(null==(l=r(null==(e=F.params)?void 0:e.id))?void 0:l.chain)||(null==(t=a.token)?void 0:t.chain)||""}const le=c(()=>{var e,l;const t=ee();return(null==(l=null==(e=v.mainTokensPrice)?void 0:e.find(e=>{var l;return e.chain===t&&e.token===(null==(l=Ye(t))?void 0:l.wmain_wrapper)}))?void 0:l.current_price_usd)||a.swap.native.price||0}),ae=c(()=>{var e;return a.price||(null==(e=a.swap.token)?void 0:e.price)||0}),te=R(null),ne=c(()=>{var e,l,t,n;if(!te.value)return!1;const o=new Ae(Number(null==(e=a.swap.token)?void 0:e.balance)||Number(null==(l=te.value)?void 0:l.balance_amount)||0).gt(0),s=new Ae(Number(null==(t=te.value)?void 0:t.total_purchase_usd)||0).minus(new Ae(Number(null==(n=te.value)?void 0:n.total_sold_usd)||0));return o&&s.gt(.001)});function oe(){var e,t,o,s;if((null==(e=l.userInfo)?void 0:e.evmAddress)&&l.accessToken){if(ne.value){const e=a.swap.token,l=new Ae((null==e?void 0:e.balance)||Number(null==(t=te.value)?void 0:t.balance_amount)||0),i=new Ae(Number(null==(o=te.value)?void 0:o.total_purchase_usd)||0).minus(new Ae(Number(null==(s=te.value)?void 0:s.total_sold_usd)||0)),r=ae.value;let u=i.div(r);if(u.gt(l)){u=l;const{$dialog:e}=n();return void e.show({content:{is:gC,props:{onSuccess:()=>{e.hide(),ve(u.toFixed(),"sell",20)},onCancel:()=>{e.hide()}}},props:{width:"420px",class:"perp-dialog",title:D("soldAll"),onOpened:()=>{},onClosed:()=>{}}})}ve(u.toFixed(),"sell",20)}}else l.changeConnectVisible(!0)}const se=R(""),re=R(""),de=c(()=>new Ae(se.value||0).times(le.value).div(ae.value).toFixed()),ce=c(()=>{var e;return new Ae(re.value||0).times((null==(e=a.swap.token)?void 0:e.balance)||0).times(ae.value).div(le.value).div(100).toFixed()});async function ve(e,n,s=0){var i,r,u,c,p,m,f,h,x,b,k,g,_;if(!(null==(i=l.userInfo)?void 0:i.evmAddress)||!l.accessToken)return void l.changeConnectVisible(!0);const y="buy"==n;if(y){if(null==(r=P.value)?void 0:r.some(e=>e))return}else if(null==(u=E.value)?void 0:u.some(e=>e))return;if(new Ae(e||0).lte(0))return void t({title:"Error",type:"error",message:D("amountMustG0")});const w=y?a.swap.native:a.swap.token,T=y?a.swap.token:a.swap.native,C=(null==(c=new Ae(e||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${(null==w?void 0:w.decimals)||18}})?`)))?void 0:c[0])||"";if((Number(C)||0)<=0)return void t({title:"Error",type:"error",message:D("amountTooSmall")});if(new Ae(C||0).gt((null==w?void 0:w.balance)||0))return void t({title:"Error",type:"error",message:D("insufficientBalance")});y?P.value[s]=!0:E.value[s]=!0;const A=ee(),S=(null==(p=l.getWalletAddress)?void 0:p.call(l,A))||l.evmAddress||"",N=Date.now();let I=null,F=null,L=!1;const V=()=>{I&&(clearInterval(I),I=null)},B=()=>{F&&(clearTimeout(F),F=null)},U=M({avatarAddress:S,avatarChain:A}),R=()=>{L||(L=!0,V(),B(),U.close())},O=e=>{if(L)return;L=!0,V(),B();const l=(Date.now()-N)/1e3,a=(null==e?void 0:e.fromAmount)?wl(e.fromAmount,(null==w?void 0:w.decimals)||0):C,t=(null==e?void 0:e.outputAmount)?wl(e.outputAmount,(null==T?void 0:T.decimals)||0):"";U.success({chain:A,txHash:(null==e?void 0:e.txHash)||(null==e?void 0:e.hash)||"",elapsedSec:l,isBuy:y,fromSymbol:(null==w?void 0:w.symbol)||"",fromAmount:a,toSymbol:(null==T?void 0:T.symbol)||"",toAmount:t,avatarAddress:S,avatarChain:A})};I=vl(()=>{U.update(Date.now()-N)},100),F=setTimeout(()=>{L||(V(),U.close(),F=null)},12e4);const H={solana:"sol",ton:"TON"},j=(null==H?void 0:H[A])||Ge,z=null==(x=null==(h=null==(f=null==(m=l.userInfo)?void 0:m.addresses)?void 0:f.find)?void 0:h.call(f,e=>(null==e?void 0:e.chain)===A))?void 0:x.address;if("solana"===A||"ton"===A){const e=null==(k=null==(b=o.botSettings)?void 0:b[A])?void 0:k[n],l=null==e?void 0:e.selected,t=null==e?void 0:e[l],i=null==t?void 0:t.mev,r=(null==t?void 0:t.slippage)||"9",{gasTip1List:u,gasTip2List:c}=sl(v.gasTip,A),p=i?u:c,m=i?null==t?void 0:t.gas[0]:null==t?void 0:t.gas[1];let f=(null==m?void 0:m.customFee)||(null==p?void 0:p[null==m?void 0:m.level])||"0.002";i&&new Ae(f).lt("0.002")&&(f="0.002");const h=new Ae(f).times(10**9).toFixed(0),x=Date.now().toString(),g={swapList:[{batchId:x,creatorAddress:z||"",inAmount:new Ae(C||0).times(10**((null==w?void 0:w.decimals)||0)).toFixed(0)}],inTokenAddress:(y?j:w.address)||"",outTokenAddress:(y?T.address:j)||"",swapType:y?1:2,isPrivate:i||!1,priorityFee:h,slippage:"auto"!==r?Number(new Ae(r).times(100).toFixed(0)):900,autoSlippage:"auto"===r,autoSell:y&&o.autoSellConfig_autoSell||!1,autoSellConfig:null==o?void 0:o.selectedAutoSellConfig,autoGas:(null==m?void 0:m.customFee)?0:((null==m?void 0:m.level)||0)+1,autoSellGas:(null==m?void 0:m.customFee)?0:((null==m?void 0:m.level)||0)+1,autoSellPriorityFee:h};({solana:ml,ton:pl})[A](g).then(e=>{if(e){let l=setTimeout(()=>{y?P.value[s]=!1:E.value[s]=!1},500);const t=(null==e?void 0:e[0])||{},n={solana:"/botapi/swap/createSolTx",ton:"/botapi/swap/createSwapTonTx"};to({txInfo:t,chain:A,destination:(null==n?void 0:n[A])||"/botapi/swap/createSwapEvmTx",type:10});const o={[null==t?void 0:t.batchId]:null==t?void 0:t.id},i=d(()=>null==$?void 0:$.wsResult.tgbot,e=>{var t,n,r,u,d;const c=e.batchId;if(c===x){if(l&&(clearTimeout(l),l=null),a.placeOrderSuccess++,null==(n=null==(t=null==e?void 0:e.txList)?void 0:t[0])?void 0:n.success){const l=null==(r=null==e?void 0:e.txList)?void 0:r[0];no({...l,chain:null==e?void 0:e.chain},(null==o?void 0:o[c])||"");pe(y?new Ae((null==l?void 0:l.outAmount)||0).shiftedBy(-1*((null==l?void 0:l.outDecimals)||(null==l?void 0:l.outTokenDecimals)||0)).toFixed():new Ae((null==l?void 0:l.inAmount)||0).shiftedBy(-1*((null==l?void 0:l.inDecimals)||(null==l?void 0:l.inTokenDecimals)||0)).toFixed(),y),O(l)}else dl((null==(d=null==(u=null==e?void 0:e.txList)?void 0:u[0])?void 0:d.failMessage)||"swap error"),R();i(),y?P.value[s]=!1:E.value[s]=!1}setTimeout(()=>{X()},1e3)})}}).catch(e=>{dl(e||"swap error"),R(),y?P.value[s]=!1:E.value[s]=!1})}else if(Qe(A)){const e=null==(_=null==(g=o.botSettings)?void 0:g[A])?void 0:_[n],t=null==e?void 0:e.selected,i=null==e?void 0:e[t],r=null==i?void 0:i.mev,u=(null==i?void 0:i.slippage)||"9",{gasTip1List:c,gasTip2List:p}=sl(v.gasTip,A),m=r?c:p,f=r?null==i?void 0:i.gas[0]:null==i?void 0:i.gas[1],h=(null==f?void 0:f.customFee)?(null==f?void 0:f.customFee)||(null==m?void 0:m[null==f?void 0:f.level])||"3":"0",x=Number(new Ae(h).times(10**9).toFixed(0)),b=Date.now().toString(),k={chain:A,swapList:[{batchId:b,creatorAddress:z||"",inAmount:new Ae(C||0).times(10**((null==w?void 0:w.decimals)||0)).toFixed(0)}],inTokenAddress:(y?j:w.address)||"",outTokenAddress:(y?T.address:j)||"",swapType:y?1:2,contractType:0,isPrivate:r||!1,gasTip:x,preApprove:!0,slippage:"auto"!==u?Number(new Ae(u).times(100).toFixed(0)):900,autoSlippage:"auto"===u,autoSell:y&&o.autoSellConfig_autoSell||!1,autoSellConfig:null==o?void 0:o.selectedAutoSellConfig,autoGas:(null==f?void 0:f.customFee)?0:((null==f?void 0:f.level)||0)+1,autoSellGas:(null==f?void 0:f.customFee)?0:((null==f?void 0:f.level)||0)+1,autoSellPriorityFee:x};hl(k).then(e=>{var t,n,o;if(e){const i=(null==e?void 0:e[0])||{};if(xl(i)){const e=(null==(o=null==(n=null==(t=l.walletList)?void 0:t.find)?void 0:n.call(t,e=>{var l,a,t,n;return(null==(a=null==(l=null==e?void 0:e.evmAddress)?void 0:l.toLowerCase)?void 0:a.call(l))===(null==(n=null==(t=null==i?void 0:i.creatorAddress)?void 0:t.toLowerCase)?void 0:n.call(t))}))?void 0:o.name)||"";return dl(e?e+" "+bl(i):bl(i)),R(),void(y?P.value[s]=!1:E.value[s]=!1)}let r=setTimeout(()=>{y?P.value[s]=!1:E.value[s]=!1},500);to({txInfo:i,chain:A,destination:"/botapi/swap/createSwapEvmTx",type:10});const u={[null==i?void 0:i.batchId]:null==i?void 0:i.id},c=d(()=>null==$?void 0:$.wsResult.tgbot,e=>{var l,t,n,o,i;const d=e.batchId;if(d===b){if(r&&(clearTimeout(r),r=null),a.placeOrderSuccess++,null==(t=null==(l=null==e?void 0:e.txList)?void 0:l[0])?void 0:t.success){c();const l=null==(n=null==e?void 0:e.txList)?void 0:n[0];no({...l,chain:null==e?void 0:e.chain},(null==u?void 0:u[d])||"");pe(y?new Ae((null==l?void 0:l.outAmount)||(null==l?void 0:l.outputAmount)||0).shiftedBy(-1*((null==T?void 0:T.decimals)||0)).toFixed():C,y),Z({chain:k.chain,inTokenAddress:k.inTokenAddress,outTokenAddress:k.outTokenAddress,...l}),O(l)}else dl((null==(i=null==(o=null==e?void 0:e.txList)?void 0:o[0])?void 0:i.failMessage)||"swap error"),c(),R();y?P.value[s]=!1:E.value[s]=!1}setTimeout(()=>{X()},1e3)})}}).catch(e=>{dl(e||"swap error"),R(),y?P.value[s]=!1:E.value[s]=!1})}}function pe(e,l){var t,n,o,s,i,r;if(null===te.value&&(te.value={balance_amount:"0",balance_usd:"0",total_purchase_usd:"0",total_sold_usd:"0",total_profit:"0",total_profit_ratio:"0"}),l)te.value={...te.value,balance_amount:new Ae(Number(null==(t=te.value)?void 0:t.balance_amount)||0).plus(e||0).toFixed(),total_purchase_usd:new Ae(Number(null==(n=te.value)?void 0:n.total_purchase_usd)||0).plus(new Ae(e||0).times(ae.value)).toFixed()};else{let l=new Ae(Number(null==(s=null==(o=a.swap)?void 0:o.token)?void 0:s.balance)||Number(null==(i=te.value)?void 0:i.balance_amount)||0).minus(e||0);l.lt(0)&&(l=new Ae(0)),te.value={...te.value,balance_amount:l.toFixed(),total_sold_usd:new Ae(Number(null==(r=te.value)?void 0:r.total_sold_usd)||0).plus(new Ae(e||0).times(ae.value)).toFixed()}}}async function me(e,t){var n,o,s;if(!(null==(n=l.userInfo)?void 0:n.evmAddress)||!l.accessToken)return void l.changeConnectVisible(!0);const i=new Ae(e).div(100).toFixed(),r=a.swap.token;let u=r.balance||0;if(i){const e=r.decimals||0;u=(null==(o=new Ae(u).times(i).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${e}})?`)))?void 0:o[0])||"",0===Number(u)&&(u="")}else u="";u=Number(u)<0?0:u,(null==(s=E.value)?void 0:s.some(e=>e))||ve(u,"sell",t)}let fe=null,he=null,xe=null;const be=R(!1),ge=R(Number(localStorage.getItem("fixed-one-click-height"))||327),ye=R(Number(localStorage.getItem("fixed-one-click-width"))||360),we=c(()=>({height:ge.value+"px",width:ye.value+"px"})),Te=c(()=>ge.value>=420),Ce=c(()=>{var e,l,a,t;const n=ee(),s=o.botSettings,i=null==(t=null==(a=null==s?void 0:s[n])?void 0:a.buy[(null==(l=null==(e=null==s?void 0:s[n])?void 0:e.buy)?void 0:l.selected)||"s1"])?void 0:t.buyValueList;return Te.value?i:(null==i?void 0:i.slice(0,4))||[]}),Se=c(()=>{var e,l,a,t;const n=ee(),s=o.botSettings,i=null==(t=null==(a=null==s?void 0:s[n])?void 0:a.sell[(null==(l=null==(e=null==s?void 0:s[n])?void 0:e.sell)?void 0:l.selected)||"s1"])?void 0:t.sellPerList;return Te.value?i:(null==i?void 0:i.slice(0,4))||[]});function Ne(e,l){e.preventDefault();const a=e.clientY,t=e.clientX,n=ge.value,o=ye.value,s=document.querySelector(".fixed-one-click"),i=parseInt((null==s?void 0:s.style.top)||"210",10),r=parseInt((null==s?void 0:s.style.left)||"350",10);let u=null;function d(e){u||(u=requestAnimationFrame(()=>{u=null,document.getElementById("tv_chart_container")&&(document.getElementById("tv_chart_container").style.pointerEvents="none");const d=e.clientX-t,c=e.clientY-a;let v=o,p=n,m=i,f=r;l.includes("r")&&(v=Math.max(360,Math.min(900,o+d))),l.includes("l")&&(v=Math.max(360,Math.min(900,o-d)),f=r+(o-v)),l.includes("b")&&(p=Math.max(327,Math.min(800,n+c))),l.includes("t")&&(p=Math.max(327,Math.min(800,n-c)),m=i+(n-p)),v!==ye.value&&(ye.value=v,l.includes("l")&&s&&(s.style.left=`${f}px`)),p!==ge.value&&(ge.value=p,l.includes("t")&&s&&(s.style.top=`${m}px`))}))}window.addEventListener("mousemove",d),window.addEventListener("mouseup",function e(){u&&(cancelAnimationFrame(u),u=null),document.getElementById("tv_chart_container")&&(document.getElementById("tv_chart_container").style.pointerEvents="auto"),window.removeEventListener("mousemove",d),window.removeEventListener("mouseup",e),localStorage.setItem("fixed-one-click-height",String(ge.value)),localStorage.setItem("fixed-one-click-width",String(ye.value))})}const $e=R(!1);return d(O,e=>{e||($e.value=!1)}),u(()=>{!function(){const e=document.querySelector(".fixed-one-click");if(!e)return;const l=localStorage.getItem("fixed-one-click-position"),a=l?JSON.parse(l):{x:0,y:0};let t,n=a.x,o=a.y,s=0,i=0,r=!1;Object.assign(e.style,{position:"fixed",cursor:"grab",zIndex:"33",outline:"none",willChange:"transform",transform:`translate3d(${n}px, ${o}px, 0)`}),e.setAttribute("tabindex","0"),xe||(xe=document.createElement("div"),Object.assign(xe.style,{position:"fixed",inset:"0",zIndex:"9998",cursor:"grabbing",display:"none",background:"transparent"}),document.body.appendChild(xe));const u=xe,d=()=>{r&&(e.style.transform=`translate3d(${n}px, ${o}px, 0)`,t=requestAnimationFrame(d))};he=()=>{r&&(r=!1,cancelAnimationFrame(t),u.style.display="none",e.style.cursor="grab",localStorage.setItem("fixed-one-click-position",JSON.stringify({x:n,y:o})))},e.onmousedown=l=>{l.target.closest(".resize-handle")||(r=!0,s=l.clientX-n,i=l.clientY-o,u.style.display="block",e.style.cursor="grabbing",e.focus(),t=requestAnimationFrame(d),l.preventDefault())},fe=l=>{if(!r)return;const a=l.clientX-s,t=l.clientY-i,u=e.getBoundingClientRect(),d=u.width,c=u.height,v=e.offsetLeft,p=e.offsetTop,m=-v,f=window.innerWidth-v-d,h=-p,x=window.innerHeight-p-c;n=Math.max(m,Math.min(a,f)),o=Math.max(h,Math.min(t,x))},e.onblur=he,window.addEventListener("mousemove",fe),window.addEventListener("mouseup",he)}(),cn(document,"keydown",e=>{"Space"===e.code&&(W.value=!0)}),cn(document,"keyup",e=>{"Space"===e.code&&(W.value=!1)}),cn(document,"keydown",e=>{var l,a,t,n,s,i;if(W.value&&G.value){const r=["q","w","e","r"].indexOf(e.key);if(r>=0){const e=null==(a=null==(l=o.botSettings)?void 0:l[J.value])?void 0:a.buy,n=(null==e?void 0:e.selected)||"s1";ve((null==(t=null==e?void 0:e[n])?void 0:t.buyValueList[r])||"","buy",r)}const u=["a","s","d","f"].indexOf(e.key);if(u>=0){const e=null==(s=null==(n=o.botSettings)?void 0:n[J.value])?void 0:s.sell,l=(null==e?void 0:e.selected)||"s1";me((null==(i=null==e?void 0:e[l])?void 0:i.sellPerList[u])||"",u)}}}),U(()=>{be.value=!0})}),H(()=>{!function(){const e=document.querySelector(".fixed-one-click");e&&(e.onmousedown=null,e.onblur=null),fe&&window.removeEventListener("mousemove",fe),he&&window.removeEventListener("mouseup",he),fe=null,he=null,xe&&(xe.remove(),xe=null)}(),be.value=!1}),(e,t)=>{var n,s,i,r,u,d,c,v,$,F;const D=y,M=Ht,U=ke,R=_e,H=p("tooltip");return x(),w(T,null,[g(k("button",{class:V(["one-click-btn clickable",{active:h(O)}]),onKeyup:t[0]||(t[0]=L(()=>{},["prevent"])),onKeydown:t[1]||(t[1]=Dl(L(()=>{},["prevent"]),["enter"])),onClick:t[2]||(t[2]=L(e=>O.value=!h(O),["stop"]))},[S(D,{name:"ion:flash"}),k("span",_C,_(e.$t("oneClick")),1)],34),[[ue,null==(n=h(l).isSupportChains)?void 0:n.includes(h(J))]]),(x(),m(dn,{to:"body"},[g(k("div",{class:"fixed-one-click flex flex-col",style:N(h(we))},[(null==(s=h(l).isSupportChains)?void 0:s.includes(h(J)))&&h(O)?(x(),w(T,{key:0},[k("div",yC,[k("div",wC,[g((x(),m(D,{key:h(G),class:V(["text-14px color-[--secondary-text] clickable",{"color-[--primary-color]!":h(G)}]),name:"ri:keyboard-box-fill",onClick:t[3]||(t[3]=L(e=>G.value=!h(G),["stop"])),onMousedown:t[4]||(t[4]=L(()=>{},["stop"]))},null,8,["class"])),[[H,h(G)?e.$t("hotkeyTips"):e.$t("hotkeyTips1")]]),g((x(),m(D,{key:h(Y),name:"bx:bxs-bar-chart-alt-2",class:V(["text-14px color-[--secondary-text] clickable ml-5px",{"color-[--primary-color]!":h(Y)}]),onMousedown:t[5]||(t[5]=L(()=>{},["stop"])),onClick:t[6]||(t[6]=L(e=>Y.value=!h(Y),["stop"]))},null,8,["class"])),[[H,h(Y)?e.$t("enablePnLTips2"):e.$t("enablePnLTips1")]]),g((x(),m(D,{key:h(K),name:"ph:approximate-equals-bold",class:V(["text-14px color-[--secondary-text] clickable ml-5px",{"color-[--primary-color]!":h(K)}]),onMousedown:t[7]||(t[7]=L(()=>{},["stop"])),onClick:t[8]||(t[8]=L(e=>K.value=!h(K),["stop"]))},null,8,["class"])),[[H,h(K)?e.$t("disableShowsReflected"):e.$t("enableShowsReflected")]]),h($e)?(x(),m(D,{key:1,name:"ic:baseline-check",class:"text-14px color-[--secondary-text] clickable ml-5px",onClick:t[11]||(t[11]=L(e=>$e.value=!1,["stop"])),onMousedown:t[12]||(t[12]=L(()=>{},["stop"]))})):(x(),m(D,{key:0,name:"fe:edit",class:"text-14px color-[--secondary-text] clickable ml-5px",onClick:t[9]||(t[9]=L(e=>$e.value=!0,["stop"])),onMousedown:t[10]||(t[10]=L(()=>{},["stop"]))}))]),S(bo,{class:"mr-10px ml-auto",chain:h(J),onMousedown:t[13]||(t[13]=L(()=>{},["stop"]))},null,8,["chain"]),S(D,{class:"text-14px clickable color-[--main-text] clickable",name:"ri:close-large-fill",onClick:t[14]||(t[14]=L(e=>O.value=!1,["stop"])),onMousedown:t[15]||(t[15]=L(()=>{},["stop"]))})]),S(M,{class:"b-t-color-[--dialog-divider]! mt-10px! mb-5px!"}),k("div",TC,[k("div",CC,[k("span",null,_(e.$t("buy")),1),k("div",AC,[(x(!0),w(T,null,C("BotSettingsArr"in e?e.BotSettingsArr:h(Vl),e=>{var l,a,n;return x(),w("button",{key:e.value,class:V({active:e.value===(null==(n=null==(a=null==(l=h(A))?void 0:l[h(J)])?void 0:a.buy)?void 0:n.selected)}),type:"button",onMousedown:t[16]||(t[16]=L(()=>{},["stop"])),onClick:L(l=>h(A)[h(J)].buy.selected=e.value,["stop"])},_(e.label),43,SC)}),128))]),h(K)&&Number(h(de))>0?(x(),w("span",NC,"≈"+_(h(Q)(h(de),3))+" "+_((null==(i=h(a).swap.token)?void 0:i.symbol)||(null==(r=h(a).token)?void 0:r.symbol)||""),1)):f("",!0),k("span",$C,_(e.$t("balance1"))+": "+_(h(Q)((null==(u=h(a).swap.native)?void 0:u.balance)||0))+" "+_(null==(d=h(Ye)(h(J)))?void 0:d.main_name),1),S(zp,{class:"color-[--secondary-text]",type:0,onMousedown:t[17]||(t[17]=L(()=>{},["stop"]))})]),h($e)?(x(),w("ul",{key:1,class:"mt-10px tabs flex-1 flex-wrap",onMousedown:t[21]||(t[21]=L(()=>{},["stop"]))},[(x(!0),w(T,null,C(h(Ce),(e,l)=>{var a,t;return x(),w("li",{key:l,class:"w-[calc((100%-30px)/4)]",style:N({height:h(Te)?"calc(50% - 4px)":"100%"})},[S(R,{modelValue:h(A)[h(J)].buy[(null==(t=null==(a=h(A))?void 0:a[h(J)])?void 0:t.buy.selected)||"s1"].buyValueList[l],"onUpdate:modelValue":e=>{var a,t;return h(A)[h(J)].buy[(null==(t=null==(a=h(A))?void 0:a[h(J)])?void 0:t.buy.selected)||"s1"].buyValueList[l]=e},class:"input-number h-full",inputmode:"decimal",placeholder:"0.0",onInput:e=>function(e,l){var a,t;const n=e.replace(/-|[^\d.]/g,""),s=ee(),i=null==(a=o.botSettings)?void 0:a[s],r=(null==(t=null==i?void 0:i.buy)?void 0:t.selected)||"s1";i.buy[r].buyValueList[l]=n}(e,l),onBlur:e=>function(e){var l,a,t,n,s,i,r,u;const d=ee(),c=null==(l=o.botSettings)?void 0:l[d],v=(null==(a=null==c?void 0:c.buy)?void 0:a.selected)||"s1",p=null==(s=null==(n=null==(t=null==c?void 0:c.buy)?void 0:t[v])?void 0:n.buyValueList)?void 0:s[e],m=null==(u=null==(r=null==(i=new Ae(p||0).toFixed())?void 0:i.match)?void 0:r.call(i,new RegExp("[0-9]*(\\.[0-9]{0,4})?")))?void 0:u[0];String(p)!==String(m)&&(null==c?void 0:c.buy)&&(0===Number(m)?c.buy[v].buyValueList[e]="0":c.buy[v].buyValueList[e]=m||"0")}(l)},null,8,["modelValue","onUpdate:modelValue","onInput","onBlur"])],4)}),128))],32)):(x(),w("div",{key:0,class:"mt-10px tabs flex-1 flex-wrap",onMousedown:t[20]||(t[20]=L(()=>{},["stop"]))},[(x(!0),w(T,null,C(h(Ce),(e,l)=>(x(),m(U,{key:l,class:V(["one-click-button green clickable",{active:h(W)&&h(G)}]),style:N({height:h(Te)?"calc(50% - 4px)":"100%"}),loading:h(P)[l],disabled:h(P)[l],onClick:L(a=>ve(e,"buy",l),["stop","prevent"]),onMousedown:t[18]||(t[18]=L(()=>{},["stop"])),onMouseover:L(l=>se.value=e,["stop"]),onMouseleave:t[19]||(t[19]=L(e=>se.value="",["stop"]))},{default:b(()=>[I(_(h(P)[l]?"":e),1)]),_:2},1032,["class","style","loading","disabled","onClick","onMouseover"]))),128))],32)),S(um,{activeTab:"buy",gasPrice:h(a).gasPrice,onMousedown:t[22]||(t[22]=L(()=>{},["stop"]))},null,8,["gasPrice"]),S(M,{class:"b-t-color-[--dialog-divider]! mt-10px! mb-5px!"}),k("div",IC,[k("span",null,_(e.$t("sell")),1),k("div",FC,[(x(!0),w(T,null,C("BotSettingsArr"in e?e.BotSettingsArr:h(Vl),e=>{var l,a,n;return x(),w("button",{key:e.value,class:V({active:e.value===(null==(n=null==(a=null==(l=h(A))?void 0:l[h(J)])?void 0:a.sell)?void 0:n.selected)}),type:"button",onMousedown:t[23]||(t[23]=L(()=>{},["stop"])),onClick:L(l=>h(A)[h(J)].sell.selected=e.value,["stop"])},_(e.label),43,LC)}),128))]),h(K)&&Number(h(ce))>0?(x(),w("span",VC,"≈"+_(h(Q)(h(ce),3))+" "+_((null==(c=h(Ye)(h(J)))?void 0:c.main_name)||""),1)):f("",!0),k("span",BC,_(e.$t("balance1"))+": "+_(h(Q)((null==(v=h(a).swap.token)?void 0:v.balance)||0))+" "+_((null==($=h(a).token)?void 0:$.symbol)||""),1),S(zp,{class:"color-[--secondary-text]",type:1,onMousedown:t[24]||(t[24]=L(()=>{},["stop"]))})]),h($e)?(x(),w("ul",{key:3,class:"mt-10px tabs flex-1 flex-wrap",onMousedown:t[27]||(t[27]=L(()=>{},["stop"]))},[(x(!0),w(T,null,C(h(Ce),(e,l)=>{var a,n;return x(),w("li",{key:l,class:"w-[calc((100%-30px)/4)]",style:N({height:h(Te)?"calc(50% - 4px)":"100%"})},[S(R,{modelValue:h(A)[h(J)].sell[(null==(n=null==(a=h(A))?void 0:a[h(J)])?void 0:n.sell.selected)||"s1"].sellPerList[l],"onUpdate:modelValue":e=>{var a,t;return h(A)[h(J)].sell[(null==(t=null==(a=h(A))?void 0:a[h(J)])?void 0:t.sell.selected)||"s1"].sellPerList[l]=e},class:"input-number h-full",inputmode:"decimal",placeholder:"0",onInput:e=>function(e,l){var a,t;let n=e.replace(/-|[^\d.]/g,"");Number(n)>100?n="100":Number(n)<0&&(n="0");const s=ee(),i=null==(a=o.botSettings)?void 0:a[s],r=(null==(t=null==i?void 0:i.sell)?void 0:t.selected)||"s1";(null==i?void 0:i.sell)&&(i.sell[r].sellPerList[l]=n||"0")}(e,l)},{suffix:b(()=>[...t[38]||(t[38]=[k("span",{class:"color-text-1"},"%",-1)])]),_:1},8,["modelValue","onUpdate:modelValue","onInput"])],4)}),128))],32)):(x(),w("div",DC,[(x(!0),w(T,null,C(h(Se),(e,l)=>(x(),m(U,{key:l,class:V(["one-click-button red clickable",{active:h(W)&&h(G)}]),loading:h(E)[l],style:N({height:h(Te)?"calc(50% - 4px)":"100%"}),disabled:h(E)[l],onClick:L(a=>me(e,l),["stop","prevent"]),onMousedown:t[25]||(t[25]=L(()=>{},["stop"])),onMouseover:L(l=>re.value=e,["stop"]),onMouseleave:t[26]||(t[26]=L(e=>re.value="",["stop"]))},{default:b(()=>[I(_(h(E)[l]?"":e+"%"),1)]),_:2},1032,["class","loading","style","disabled","onClick","onMouseover"]))),128))])),S(um,{activeTab:"sell",gasPrice:h(a).gasPrice,onMousedown:t[28]||(t[28]=L(()=>{},["stop"]))},{default:b(()=>[h(ne)?(x(),w("button",{key:1,class:"bg-[#F6465D1A] color-[--down-color] border-none px-5px py-2px text-11px ml-auto clickable rd-2px flex items-center flex-nowrap",onClick:L(oe,["stop"])},[h(E)[20]?(x(),w("i",PC,[S(h(un))])):f("",!0),k("span",null,_(e.$t("sellInits")),1)])):(x(),w("button",MC,_(e.$t("sellInits")),1))]),_:1},8,["gasPrice"])]),g(S(Zm,{walletTokenInfo:h(te),"onUpdate:walletTokenInfo":t[29]||(t[29]=e=>B(te)?te.value=e:null),isForceShow:"",class:"b-t-solid b-t-1px b-color-[--dialog-divider] mt-10px rd-0! pb-0! mb-0! gap-8px bg-transparent!"},null,8,["walletTokenInfo"]),[[ue,h(Y)]]),k("div",{class:"resize-handle resize-handle-b",onMousedown:t[30]||(t[30]=L(e=>Ne(e,"b"),["stop"]))},null,32),k("div",{class:"resize-handle resize-handle-r",onMousedown:t[31]||(t[31]=L(e=>Ne(e,"r"),["stop"]))},null,32),k("div",{class:"resize-handle resize-handle-t",onMousedown:t[32]||(t[32]=L(e=>Ne(e,"t"),["stop"]))},null,32),k("div",{class:"resize-handle resize-handle-l",onMousedown:t[33]||(t[33]=L(e=>Ne(e,"l"),["stop"]))},null,32),k("div",{class:"resize-handle resize-handle-tl",onMousedown:t[34]||(t[34]=L(e=>Ne(e,"tl"),["stop"]))},null,32),k("div",{class:"resize-handle resize-handle-tr",onMousedown:t[35]||(t[35]=L(e=>Ne(e,"tr"),["stop"]))},null,32),k("div",{class:"resize-handle resize-handle-bl",onMousedown:t[36]||(t[36]=L(e=>Ne(e,"bl"),["stop"]))},null,32),k("div",{class:"resize-handle resize-handle-br",onMousedown:t[37]||(t[37]=L(e=>Ne(e,"br"),["stop"]))},null,32)],64)):f("",!0)],4),[[ue,(null==(F=h(l).isSupportChains)?void 0:F.includes(h(J)))&&h(O)&&h(be)]])]))],64)}}}),[["__scopeId","data-v-396bb4d3"]]),UC={class:"ml-5px"},RC=M(o({__name:"orderBookButton",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:l}){const a=e,t=l;function n(){const e=!a.modelValue;t("update:modelValue",e)}return(l,a)=>{const t=y;return x(),w("button",{class:V(["order-book-btn mr--12px clickable",{active:e.modelValue}]),onClick:L(n,["stop"])},[S(t,{name:"i-codicon:layout-sidebar-left",class:V({"rotate-90":!e.modelValue})},null,8,["class"]),k("span",UC,_(l.$t("orderBook")),1)],2)}}}),[["__scopeId","data-v-4bb15e89"]]),OC=["src"],HC=M(o({__name:"bubble",setup(e){const l=i(),{token:a}=q(j()),t=v(!1),n=c(()=>{var e,t;const n=l.params.id;return n?r(n):{address:(null==(e=a.value)?void 0:e.token)||"",chain:(null==(t=a.value)?void 0:t.chain)||""}}),o=c(()=>{var e;return null==(e=n.value)?void 0:e.address}),s=c(()=>{var e;return null==(e=n.value)?void 0:e.chain});function u(){}return(e,l)=>{var a;const n=y,i=Ue;return x(),w(T,null,[(null==(a=["solana","bsc"])?void 0:a.includes(h(s)))?(x(),w("a",{key:0,class:"bubble ml--12px",href:"",onClick:l[0]||(l[0]=L(e=>t.value=!h(t),["stop","prevent"]))},[S(n,{name:"custom:bubble",class:"color-[--third-text] icon-bubble"})])):f("",!0),h(t)?(x(),m(i,{key:1,modelValue:h(t),"onUpdate:modelValue":l[1]||(l[1]=e=>B(t)?t.value=e:null),width:"860",height:"600",class:"search-dialog","header-class":"p-0! pl-20px! p-0!",title:e.$t("holderBubble"),"destroy-on-close":"",onOpened:u},{default:b(()=>[k("iframe",{class:"mt-20px",style:{width:"100%",height:"700px",border:"none","min-height":"500px","max-height":"700px"},src:`https://app.insightx.network/bubblemaps/${"bsc"==h(s)?56:h(s)}/${h(o)}?embed_id=9Pt12qHMl1KDeK`,allow:"clipboard-write"},null,8,OC)]),_:1},8,["modelValue","title"])):f("",!0)],64)}}}),[["__scopeId","data-v-a8243162"]]),jC={class:"bg-[--secondary-bg] rounded-2px text-14px pt-12px flex-1"},zC={class:"flex items-center px-12px gap-20px border-b-1px border-b-solid border-b-[--main-divider] mb-12px"},WC=["onClick"],qC={key:0,class:"w-1px h-20px bg-[var(--custom-br-1-color)] mr-20px mb-8px"},GC={key:0},YC={key:1},QC={key:2,class:"flex-start"},KC={key:3},XC={key:4},ZC={class:"flex gap-20px mt--12px items-stretch"},JC=o({__name:"belowChartTable",setup(e){const l=ce("orderBookVisible",R(!1)),{globalConfig:a}=q(de()),t=i(),n=j(),o=z(),{t:p}=s(),b=O(),{token:A,tokenInfoExtra:N,pairAddress:$,commonHeight:F}=q(j()),L=v("Transactions"),D={Transactions:_T,Holders:Ee(()=>se(()=>import("./tBPvsF-I.js"),__vite__mapDeps([65,4,5,66,56,9,10,20,21,28,57,19,22,23,26,27,29,15,16,67,68,30,31,32,33,34,35,36,37,11,12,17,18,24,25,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,13,55,14,58,59,60,61,62,63,64,69]),import.meta.url)),LP:Ee(()=>se(()=>import("./CtR5MlI-.js"),__vite__mapDeps([70,61,4,5,62,71,72,56,9,10,20,21,28,57,68,30,31,73,74]),import.meta.url)),Attention:Ee(()=>se(()=>import("./ieUkxp-u.js"),__vite__mapDeps([75,4,5,66,56,9,10,20,21,28,57,19,22,23,26,27,29,15,16,67,11,12,17,18,24,25,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,13,55,14,58,59,60,61,62,63,64,76]),import.meta.url)),Orders:xC,MySwap:Ee(()=>se(()=>import("./DqEoxiWt.js"),__vite__mapDeps([77,4,5,56,9,10,20,21,28,57,48,27,49,11,12,15,16,17,18,19,22,23,24,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,50,51,52,53,54,13,55,14,58,59,60,61,62,63,64,78]),import.meta.url)),DevTokens:Ee(()=>se(()=>import("./BLQXvzHV.js"),__vite__mapDeps([79,56,9,4,5,10,20,21,28,57,24,25,80,44,45,33,34,46,81]),import.meta.url))},M=c(()=>[{name:p("transactions"),component:"Transactions"},{name:p("holders"),component:"Holders"},{name:"LP",component:"LP"},{name:p("attention1")+`(${b.headFollowsNum.all})`,component:"Attention"},{name:p("orders"),component:"Orders"},{name:p("mySwap"),component:"MySwap"},{name:p("devTokens"),component:"DevTokens"}]),P=c(()=>{var e;return null==(e=t.params)?void 0:e.id});d(P,()=>{b.getFollowsNum()});const E=Y();d(()=>E.currentAddress,e=>{e?b.getFollowsNum():b.headFollowsNum={all:0,subAll:0}}),d(()=>n.placeOrderUpdate,()=>{"Orders"!==L.value&&(L.value="Orders")}),d(()=>n.placeOrderSuccess,()=>{"MySwap"!==L.value&&(L.value="MySwap")});const U=R("Transactions");d(()=>l.value,e=>{e?"Transactions"===L.value?(U.value="Transactions",L.value="Holders"):"Orders"===L.value&&(U.value="Orders",L.value="Holders"):L.value=U.value||"Transactions"},{immediate:!0});const H=c(()=>M.value.filter(e=>{var a;return!("Orders"===e.component&&!(null==(a=null==o?void 0:o.userInfo)?void 0:a.evmAddress))&&("Transactions"!==e.component||!l.value)})),W=c(()=>"Orders"===L.value?xC:D[L.value]),G=c(()=>{var e;return(null==(e=null==A?void 0:A.value)?void 0:e.holders)||0}),K=c(()=>{var e;return(null==(e=null==N?void 0:N.value)?void 0:e.pair_holders)||0}),X=c(()=>{var e,l;const a=t.params.id;return a?r(a):{address:(null==(e=A.value)?void 0:e.token)||"",chain:(null==(l=A.value)?void 0:l.chain)||""}}),Z=c(()=>{var e;const l=X.value.chain,t=null==(e=a.value)?void 0:e.chains_support_data_analysis_insider_sniper;return(null==t?void 0:t.includes(l))||!1}),J=c(()=>({LP:{token:A.value,pairAddress:$.value,height:F.value},Transactions:{},Holders:{},Attention:{},Orders:{},MySwap:{}}[L.value]||{}));return u(()=>{b.getFollowsNum()}),re(()=>{b.headFollowsNum={all:0,subAll:0},L.value="Transactions"}),(e,a)=>{const o=y;return x(),w("div",jC,[k("div",zC,[(x(!0),w(T,null,C(h(H),l=>{var a,t,s,i,r,u,d,c,v;return x(),w("a",{key:l.component,href:"javascript:;",class:V("flex items-center decoration-none text-12px lh-20px text-center "+(h(L)===l.component?"color-[--main-text] b-b-[--main-text] font-500":"b-b-transparent color-[--third-text]")),onClick:e=>L.value=l.component},["Orders"==l.component?(x(),w("div",qC)):f("",!0),k("div",{class:V("b-b-solid b-b-2px pb-8px flex-start "+(h(L)===l.component?" b-b-[--main-text]":"b-b-transparent"))},["DevTokens"!==l.component||(null==(a=h(n).tokenInfoExtra)?void 0:a.dev_count)?(x(),w("strong",GC,_(l.name),1)):f("",!0),"Orders"===l.component?(x(),w("span",YC,"("+_(h(n).registrationNum)+")",1)):f("",!0),"LP"===l.component?(x(),w("span",QC,[I(" ("+_(h(K))+") ",1),h(K)?(x(),m(o,{key:0,color:"#B3920E",name:"material-symbols:lock"})):f("",!0)])):f("",!0),"DevTokens"===l.component&&(null==(t=h(n).tokenInfoExtra)?void 0:t.dev_count)?(x(),w("span",KC,"("+_(null==(s=h(n).tokenInfoExtra)?void 0:s.dev_count)+")",1)):f("",!0),"Holders"==l.component&&h(G)?(x(),w("span",XC,[I(" ("+_((null==(i=h(A))?void 0:i.holders)?("formatNumber"in e?e.formatNumber:h(Q))((null==(r=h(A))?void 0:r.holders)||0,{limit:10}):"")+") ",1),h(Z)&&((null==(u=h(N))?void 0:u.insiders_balance_ratio_cur)??0)>.01?(x(),w(T,{key:0},[S(o,{name:"custom:insiders",class:V(["text-12px align-middle",((null==(d=h(N))?void 0:d.insiders_balance_ratio_cur)??0)>.3?"#AC3EEC":""])},null,8,["class"]),100*((null==(c=h(N))?void 0:c.insiders_balance_ratio_cur)??0)>1?(x(),w(T,{key:0},[I(_(("formatNumber"in e?e.formatNumber:h(Q))(100*((null==(v=h(N))?void 0:v.insiders_balance_ratio_cur)??0),2)+"%"),1)],64)):(x(),w(T,{key:1},[I(_("<1%"))],64))],64)):f("",!0)])):f("",!0)],2)],10,WC)}),128)),a[1]||(a[1]=k("div",{class:"flex-1"},null,-1)),k("div",ZC,[S(RC,{modelValue:h(l),"onUpdate:modelValue":a[0]||(a[0]=e=>B(l)?l.value=e:null)},null,8,["modelValue"]),S(EC),S(HC)])]),g(S(xC,{currentActiveTab:h(L)},null,8,["currentActiveTab"]),[[ue,"Orders"===h(L)]]),"Orders"!==h(L)&&"token-id"===h(t).name?(x(),m(ht(h(W)),bt({key:0},h(J),{ref:"activeChild",currentActiveTab:h(L)}),null,16,["currentActiveTab"])):f("",!0)])}}}),eA={class:"mx-12px pb-12px flex border-b-1px border-b-solid border-b-[#f2f2f2] dark:border-b-[#222]"},lA=["onClick"],aA={class:"flex items-center gap-8px"},tA={class:"px-12px"},nA={class:"text-12px"},oA={class:"grid grid-cols-[minmax(0,1fr)_minmax(0,1fr)] items-center gap-15px mt-8px mb-4px text-12px color-[--d-5A5E64-l-A9B0BC]"},sA={class:"grid grid-cols-[minmax(0,0.8fr)_minmax(0,1fr)] items-center gap-15px"},iA={class:"min-w-0 text-left cursor-pointer flex items-center"},rA={class:"text-right text-nowrap min-w-0"},uA={class:"flex items-center justify-end gap-2px"},dA={key:0,width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"color-[--d-5A5E64-l-A9B0BC]"},cA={key:1,width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"color-[--d-5A5E64-l-A9B0BC]"},vA={class:"grid grid-cols-[minmax(0,1fr)_minmax(0,1fr)] items-center gap-15px"},pA={class:"flex items-center justify-end gap-2px text-nowrap min-w-0"},mA={key:0,width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"color-[--d-5A5E64-l-A9B0BC]"},fA={key:1,width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"color-[--d-5A5E64-l-A9B0BC]"},hA={class:"text-right min-w-0"},xA=["onClick"],bA={class:"grid grid-cols-[minmax(0,0.8fr)_minmax(0,1fr)] items-center gap-15px relative h-24px px-2px"},kA={class:"text-left min-w-0"},gA={class:"color-[--d-5A5E64-l-A9B0BC]"},_A={class:"color-[--d-5A5E64-l-A9B0BC]"},yA={key:1,class:"color-[--d-5A5E64-l-A9B0BC]"},wA={class:"text-right text-nowrap min-w-0"},TA={key:0},CA={key:1},AA={class:"color-[--d-5A5E64-l-A9B0BC] hidden sm:inline"},SA={class:"grid grid-cols-[minmax(0,1fr)_minmax(0,1fr)] items-center gap-15px h-24px"},NA={class:"text-right text-nowrap min-w-0 overflow-visible"},$A={class:"color-[--secondary-text]"},IA={key:0},FA={key:1},LA={class:"text-right overflow-hidden min-w-0"},VA={class:"flex items-center justify-end min-w-0"},BA={key:2,class:"color-[--secondary-text] !text-12px ml-2px whitespace-nowrap"},DA={class:"z-10 absolute bottom-0 h-24px w-100% flex items-center justify-center bg-[--main-input-button-bg] color-[#FFA622]"},MA={class:"flex items-center gap-x-7px"},PA={class:"text-xs"},EA={class:"mb-10px"},UA={for:"markerAddress"},RA={class:"mb-10px mt-20px"},OA={class:"flex items-center gap-20px"},HA={class:"mt-20px flex"},jA=M(o({__name:"orderBook",props:{modelValue:{type:Boolean},klineHeight:{}},emits:["update:modelValue"],setup(e){const l=j(),a=G(),t=["solana","bsc"],n=e,o=ce(Yt.KLINE_DATE_FILTER),{lang:i}=q(O()),{t:A}=s(),$=vn(),{totalHolders:F,pairAddress:B,pair:D,token:M}=q(j()),P=O(),E=z(),U=je(),H=Uw(),W=Qt(),Y=R(null),K=v("all"),X=v(!1),J=c(()=>X.value||"asc"===Ne.value.sort_dir),ee=v(!1),le=R({loadingTxs:!1,loadingTxs1:!1,finished:!1,page_token:"",pageSize:100}),te=R(null),ne=R(null),oe=v([]),se=v([]);pn(ne,([{isIntersecting:e}])=>{!n.modelValue||!e||le.value.loadingTxs||le.value.loadingTxs1||le.value.finished||0===Be.value.length||Re()},{root:te,threshold:0,rootMargin:"0px 0px 120px 0px"});const ie=R({markerAddress:"",tag_type:"all",minVol:"",maxVol:"",timestamp:[]}),de=v({}),ve=R(),pe=v({}),me=R({isAmount:!0}),fe=v(r($.params.id).address),he=v(!1),xe={markerAddress:"",minVol:"",maxVol:""},be=R({...xe}),we=c(()=>{const e=[];return Array.isArray(F.value)&&F.value.forEach(l=>{const a=l.total_address;a>0&&e.push({...l,label:(null==l?void 0:l[Bt(Oe().locale)])+("31"!==l.type?`(${a})`:""),value:l.type})}),[{label:A("all"),value:"all"},...e]}),Te=c(()=>ie.value.markerAddress||ie.value.minVol||ie.value.maxVol),Ce=c(()=>{var e,l;const a=$.params.id;return a?r(a):{address:(null==(e=M.value)?void 0:e.token)||"",chain:(null==(l=M.value)?void 0:l.chain)||""}}),Se=c(()=>"time"===Ne.value.sort?Ne.value.sort_dir:""),Ne=R({sort:"",sort_dir:""});function $e(e){Ne.value={sort:e?"time":"",sort_dir:e},Ie()}function Ie(){le.value.page_token="",le.value.loadingTxs=!1,le.value.finished=!1,se.value=[],Re()}const Fe=c(()=>le.value.loadingTxs1),Le=c(()=>ie.value.markerAddress===E.getWalletAddress(Ce.value.chain)),Ve={all:()=>[...oe.value].toSorted((e,l)=>"asc"===Ne.value.sort_dir?e.time-l.time:l.time-e.time),buy:()=>oe.value.filter(e=>ze(e)).toSorted((e,l)=>"asc"===Ne.value.sort_dir?e.time-l.time:l.time-e.time),sell:()=>oe.value.filter(e=>!ze(e)).toSorted((e,l)=>"asc"===Ne.value.sort_dir?e.time-l.time:l.time-e.time)},Be=c(()=>{let e=[...oe.value];e=K.value in Ve?Ve[K.value]():oe.value,ie.value.markerAddress&&(e=e.filter(e=>e.wallet_address.toLowerCase()===ie.value.markerAddress.toLowerCase()));const[l,a]=ie.value.timestamp;l&&(e=e.filter(e=>e.time>=Number(l))),a&&(e=e.filter(e=>e.time<=Number(a)));const{minVol:t,maxVol:n}=ie.value;return t&&(e=e.filter(e=>Ge(e,!0,!0)>=Number(t))),n&&(e=e.filter(e=>Ge(e,!0,!0)<=Number(n))),e});function De(){oe.value=[],se.value=[],de.value={},le.value.page_token="",le.value.finished=!1,le.value.loadingTxs=!1}function Me(){const e={jsonrpc:"2.0",params:["tx",B.value],id:1};U.send({...e,method:"unsubscribe"}),U.send({...e,method:"subscribe"})}function Pe(){const e={jsonrpc:"2.0",params:["tx",B.value],id:1};U.send({...e,method:"unsubscribe"})}function Ee(e){const{wallet_tag:l,topN:a}=He(e),t=(e.maker_type||"").split(",");let n="en";"zh-tw"===i.value?n="tw":"zh-cn"===i.value&&(n="cn");const o=H.tagArr.filter(e=>t.includes(e.type)).map(e=>({type:e.type,tag_desc:null==e?void 0:e[n],icon:e.icon,color:e.color,extra_info:e.extra_info,nick_name:e.nick_name}));return{...e,wallet_tag:l,topN:a,senderProfile:JSON.parse((null==e?void 0:e.profile)||"{}"),uuid:Zt(),newTags:o,isSimple:!0,chain:Ce.value.chain,id:e.page_token,transaction:e.txhash,wallet_address:e.maker}}d(()=>null==o?void 0:o.value,e=>{e&&n.modelValue&&(ie.value.timestamp=e,Ie())}),d(()=>B.value,()=>{B.value&&n.modelValue&&(le.value.loadingTxs1=!0,De(),oe.value=[],se.value=[],de.value={},K.value="all",ie.value.markerAddress="",ie.value.tag_type="all",Ie(),Me())}),d(()=>n.modelValue,e=>{e&&B.value?(le.value.loadingTxs1=!0,De(),Ie(),Me()):e||(Pe(),De())});const Re=Kt(async()=>{var e,a,t;try{if(!n.modelValue||!B.value||le.value.loadingTxs)return;le.value.loadingTxs=!0;const{tag_type:o}=ie.value,s={token_id:$.params.id,tag_type:["buy","sell"].includes(o)?"":o,direction:["buy","sell"].includes(o)?o:"",sender:ie.value.markerAddress,target_price_u_min:ie.value.minVol,target_price_u_max:ie.value.maxVol,time_min:ie.value.timestamp[0],time_max:ie.value.timestamp[1],page_token:le.value.page_token,sort_dir:Ne.value.sort_dir},i=await Xt(l.pairAddress+"-"+Ce.value.chain,s)||[];fe.value=r(s.token_id).address;const u=(null==(e=i[i.length-1])?void 0:e.page_token)||"";de.value={},Array.isArray(i)&&(null==i?void 0:i.length)>0?(le.value.page_token?oe.value=[...oe.value].concat(null==(t=null==(a=i.filter)?void 0:a.call(i,e=>{var l,a;return null==(a=null==(l=oe.value)?void 0:l.every)?void 0:a.call(l,l=>l.txhash!==e.txhash)}))?void 0:t.map(e=>Ee(e))).reverse().map(e=>(de.value[e.maker]=(de.value[e.maker]||0)+1,{...e,count:de.value[e.maker]})).reverse():oe.value=i.reverse().map(e=>(de.value[e.maker]=(de.value[e.maker]||0)+1,{...Ee(e),count:de.value[e.maker]})).reverse(),le.value.finished||(le.value.page_token=u),"asc"===Ne.value.sort_dir?oe.value=[...oe.value].toSorted((e,l)=>e.time-l.time):oe.value=[...oe.value].toSorted((e,l)=>l.time-e.time)):(le.value.page_token||(oe.value=[]),le.value.finished=!0)}catch{oe.value=[],le.value.page_token="",de.value={},se.value=[]}finally{le.value.loadingTxs1=!1,le.value.loadingTxs=!1}},500);function He(e){const l=e.wallet_tag_v2||"";let a="",t=[];return l.length>0&&(t=l.split(","),t.forEach((e,l)=>{new RegExp("^top.*$","gi").test(e)&&(a=e,t.splice(l,1))})),{topN:a,wallet_tag:t}}function ze(e){var l,a,t,n,o,s,i,r;return!(!fe.value&&!Ce.value.address||!e)&&("direction"in e&&"target"in e?"buy"===e.direction:(!("from_address"in e)||!e.from_address||(null==(a=(l=fe.value).toLowerCase)?void 0:a.call(l))!==(null==(n=null==(t=e.from_address)?void 0:t.toLowerCase)?void 0:n.call(t)))&&(!(!("to_address"in e)||!e.to_address||(null==(s=(o=fe.value).toLowerCase)?void 0:s.call(o))!==(null==(r=(i=e.to_address).toLowerCase)?void 0:r.call(i)))||void 0))}function We(e){if("type"in e){if("addLiquidity"===e.type)return"color-#65C4ED";if("removeLiquidity"===e.type||"CollectFee"===e.type)return"color-#EF6DE2"}return ze(e)?"color-#12B886":"color-#F6465D"}function qe(e){var a,t,n,o,s,i;const r=l.circulation;let u=0;const d=fe.value||Ce.value.address;u="isSimple"in e&&e.isSimple&&"target_price_u"in e?Number(null==e?void 0:e.target_price_u):"direction"in e&&"target"in e?Number(e.price_u):e.from_address&&(null==(a=d.toLowerCase)?void 0:a.call(d))===(null==(n=null==(t=e.from_address)?void 0:t.toLowerCase)?void 0:n.call(t))?Number(e.from_price_usd)||0:e.to_address&&(null==(o=d.toLowerCase)?void 0:o.call(d))===(null==(i=null==(s=e.to_address)?void 0:s.toLowerCase)?void 0:i.call(s))?Number(e.to_price_usd)||0:Number(e.to_price_usd)||Number(e.from_price_usd)||0;return u*(null==r?void 0:r.toNumber())}function Ge(e,l=!1,a=!1){var t,n,o,s,i,r,u,d;return(fe.value||Ce.value.address)&&e?"direction"in e&&"target"in e?Number(e.target_amt||0)*(l?Number(a?e.price_u||e.target_price_u:e.price_m||e.target_price_m):1):"from_address"in e&&e.from_address&&(null==(n=(t=fe.value).toLowerCase)?void 0:n.call(t))===(null==(s=null==(o=e.from_address)?void 0:o.toLowerCase)?void 0:s.call(o))?e.from_amount*(l?Number(a?e.from_price_usd:e.from_price_eth):1):"to_address"in e&&e.to_address&&(null==(r=(i=fe.value).toLowerCase)?void 0:r.call(i))===(null==(d=(u=e.to_address).toLowerCase)?void 0:d.call(u))?e.to_amount*(l?Number(a?e.to_price_usd:e.to_price_eth):1):0:0}function Qe(e){const l={"true-true":"rgba(18, 184, 134, 0.10)","true-false":"rgba(246, 70, 93, 0.10)","false-false":"rgba(18, 184, 134, 0.10)","false-true":"rgba(246, 70, 93, 0.10)"};return l[`${a.isDark}-${ze(e)}`]||l["true-true"]}function Ke(e){const l=Ge(e,!0,!0);return(Math.min(l/("solana"===Ce.value.chain?10:20),100)/100).toFixed(3)}function Xe(e,l){if(isNaN(e)||0===e)return"0.00";const a=e.toFixed(l).replace(/\.?0+$/,"");return l>0&&!a.includes(".")?a+".00":a}const Ze=R(window.innerWidth),Je=()=>{Ze.value=window.innerWidth};function el(e,l=!1){var a,t,n,o,s,i;const r=fe.value||Ce.value.address;return r&&e?"direction"in e&&"target"in e?Number(l?e.price_u||e.target_price_u:e.price_m||e.target_price_m)||0:e.from_address&&(null==(a=r.toLowerCase)?void 0:a.call(r))===(null==(n=null==(t=e.from_address)?void 0:t.toLowerCase)?void 0:n.call(t))?Number(l?e.from_price_usd:e.from_price_eth)||0:e.to_address&&(null==(o=r.toLowerCase)?void 0:o.call(r))===(null==(i=null==(s=e.to_address)?void 0:s.toLowerCase)?void 0:i.call(s))&&Number(l?e.to_price_usd:e.to_price_eth)||0:0}function ll(e,l){if(function(e){K.value=e,de.value={},se.value.length=0,ie.value.tag_type=e}(e),Ie(),Y.value){const e=Y.value,a=e.children[l];if(a){const l=e.clientWidth,t=a.getBoundingClientRect(),n=e.getBoundingClientRect(),o=t.left-n.left+e.scrollLeft+t.width/2-l/2,s=e.scrollWidth-l,i=Math.max(0,Math.min(o,s));e.scrollTo({left:i,behavior:"smooth"})}}}function al(){if(Le.value)ie.value.markerAddress="",be.value.markerAddress="";else{const e=E.getWalletAddress(Ce.value.chain);ie.value.markerAddress=e,be.value.markerAddress=e}se.value.length=0,Ie()}function tl(){}function nl(e){var l,a,t,n,o,s,i,r,u;return"direction"in e&&"target"in e?"buy"===e.direction&&new Ae(e.maker_bal).eq(e.target_amt):!(null==(a=null==(l=null==e?void 0:e.newTags)?void 0:l.some)?void 0:a.call(l,e=>"8"===(null==e?void 0:e.type)))&&((null==(n=(t=Ce.value.address).toLowerCase)?void 0:n.call(t))===(null==(i=null==(s=null==(o=e.senderProfile)?void 0:o.token0Address)?void 0:s.toLowerCase)?void 0:i.call(s))?null==(r=e.senderProfile)?void 0:r.token0HasNewAccount:null==(u=e.senderProfile)?void 0:u.token1HasNewAccount)}function ol(e){var l,a,t,n,o,s,i,r,u;return"direction"in e&&"target"in e?"sell"===e.direction&&new Ae(e.maker_bal).eq(0):!ze(e)&&!(null==(a=null==(l=e.newTags)?void 0:l.some)?void 0:a.call(l,e=>"8"===(null==e?void 0:e.type)))&&((null==(n=(t=Ce.value.address).toLowerCase)?void 0:n.call(t))===(null==(i=null==(s=null==(o=e.senderProfile)?void 0:o.token0Address)?void 0:s.toLowerCase)?void 0:i.call(s))?null==(r=e.senderProfile)?void 0:r.token0HasClearedAccount:null==(u=e.senderProfile)?void 0:u.token1HasClearedAccount)}function sl(e){var l,a,t;return"maker_eth"in e?Number(e.maker_eth||0)>=50:!(null==(a=null==(l=null==e?void 0:e.newTags)?void 0:l.some)?void 0:a.call(l,e=>"8"===e.type))&&Number(null==(t=e.senderProfile)?void 0:t.solTotalHolding)>50}u(()=>{n.modelValue&&B.value&&(Ie(),Me()),window.addEventListener("resize",Je)});let il=null,rl=null;re(()=>{var e;null==il||il(),null==rl||rl(),il=null,rl=null,null==(e=U.getWSInstance())||e.offMessage("tx_history"),B.value&&Pe(),window.removeEventListener("resize",Je)}),il=d(()=>U.wsResult[Cl.TX],e=>{if(!e||le.value.loadingTxs)return;const{wallet_address:l,from_address:a,to_address:t}=e.tx;if(a!==fe.value&&t!==fe.value)return;const{timestamp:n,markerAddress:o}=ie.value,[s,i]=n||[];if(s&&e.tx.time<Number(s))return;if(i&&e.tx.time>Number(i))return;if(o&&l!==o)return;if(se.value.find(a=>"transaction"in a&&a.transaction===e.tx.transaction&&a.wallet_address===l))return;de.value[l]=(de.value[l]||0)+1;const{topN:r,wallet_tag:u}=He(e.tx),d={...e.tx,topN:r,wallet_tag:u,senderProfile:JSON.parse(e.tx.profile||"{}"),count:de.value[l],time:Math.min(Math.floor(Date.now()/1e3),e.tx.time),uuid:Zt()};se.value.unshift(d),J.value||ul()}),rl=d(()=>U.wsResult[Cl.SIMPLE_TX],e=>{if(!e||le.value.loadingTxs)return;const l=e.msg,{maker:a,target:t}=l;if(t!==fe.value)return;const{timestamp:n,markerAddress:o}=ie.value,[s,i]=n||[];if(s&&l.time<Number(s))return;if(i&&l.time>Number(i))return;if(o&&a!==o)return;de.value[a]=(de.value[a]||0)+1;const{topN:r,wallet_tag:u}=He(e.msg),d={...l,topN:r,wallet_tag:u,count:de.value[a],time:Math.min(Math.floor(Date.now()/1e3),l.time),uuid:Zt(),wallet_address:a,transaction:l.txhash,senderProfile:{solTotalHolding:l.maker_eth}};se.value.unshift(d),J.value||ul()});const ul=Kt(()=>{var e;if(0===se.value.length)return;const l=se.value.filter(e=>!oe.value.some(l=>"transaction"in l&&"transaction"in e&&l.transaction===e.transaction&&l.wallet_address===e.wallet_address));l.length>0&&(oe.value.unshift(...l),oe.value.length>1500&&(oe.value=oe.value.slice(0,1500),le.value.page_token=(null==(e=oe.value[oe.value.length-1])?void 0:e.page_token)||"")),se.value.length=0,wt(oe)},500);function dl(){Object.keys(be.value).forEach(e=>{ie.value[e]=be.value[e]}),be.value.markerAddress||(K.value="all",ie.value.tag_type="all"),Ie(),he.value=!1}function cl(){be.value={...xe},dl()}return(l,a)=>{var n,o;const s=y,i=zn,r=ke,u=jt,d=Ay,c=_e,v=Ue,F=p("tooltip"),B=ge;return e.modelValue?(x(),w("div",{key:0,class:"bg-[--d-0B0D12-l-F6F9FF] relative rounded-2px text-14px pt-12px flex flex-col overflow-hidden",style:N({height:`${e.klineHeight||200}px`})},[k("div",eA,[k("div",{ref_key:"tabsContainer",ref:Y,class:"flex-1 flex items-center gap-x-8px whitespace-nowrap overflow-x-auto scrollbar-hide"},[(x(!0),w(T,null,C(we.value,(e,l)=>(x(),w("button",{key:e.value,style:N({backgroundColor:K.value===e.value?"rgba(63, 128, 247, 0.10)":"var(--d-16181D-l-ECF3FF)"}),class:V(["shrink-0 text-12px px-8px py-4px rounded-4px border-none cursor-pointer",K.value===e.value?"color-[--primary-color]":"bg-[--d-16181D-l-ECF3FF] color-[--d-5A5E64-l-A9B0BC]"]),onClick:a=>ll(e.value,l)},_(e.label),15,lA))),128))],512),k("div",aA,[(null==(o=null==(n=h(E))?void 0:n.userInfo)?void 0:o.name)?(x(),w("button",{key:0,class:V(["me-btn shrink-0 flex items-center gap-4px sticky right-0 cursor-pointer",{active:Le.value}]),onClick:al},[S(s,{name:"i-tdesign:user-filled",class:"text-md"}),k("span",null,_(h(A)("me")),1)],2)):f("",!0),g((x(),w("span",{class:V(["flex items-center justify-center w-12px h-12px rounded-2px color-[--reverse-color] text-10px cursor-pointer",h(P).isClickKlineFilter?"bg-[--primary-color]":"bg-[--third-text] hover:bg-[--secondary-text]"]),onClick:a[0]||(a[0]=e=>h(P).isClickKlineFilter=!h(P).isClickKlineFilter)},[S(s,{name:"custom:chart"})],2)),[[F,l.$t(h(P).isClickKlineFilter?"clickChartHideFilter":"clickChartFilter")]]),S(s,{name:"custom:filter",class:V(["text-12px cursor-pointer",Te.value?"color-[--primary-color]":"color-[--third-text] hover:color-[--secondary-text]"]),onClick:a[1]||(a[1]=L(e=>he.value=!0,["self"]))},null,8,["class"])])]),k("div",tA,[ie.value.timestamp.length?(x(),m(Ew,{key:0,timestamp:ie.value.timestamp,"onUpdate:timestamp":[a[2]||(a[2]=e=>ie.value.timestamp=e),Ie]},null,8,["timestamp"])):f("",!0),g((x(),w("div",nA,[k("div",oA,[k("div",sA,[k("div",iA,[k("span",{onClick:a[3]||(a[3]=e=>$e({asc:"",desc:"asc","":"desc"}[Se.value]||""))},_(h(A)("time")),1),S(i,{defaultSort:Se.value,onSortChange:$e},null,8,["defaultSort"])]),k("div",rA,[k("div",uA,[k("span",null,_(h(A)("amountU").slice(0,3)),1),S(r,{class:"p-0 px-2px border-none hover:bg-[transparent] h-auto",onClick:a[4]||(a[4]=e=>h(P).isUSDT=!h(P).isUSDT)},{default:b(()=>[h(P).isUSDT?(x(),w("svg",dA,[...a[15]||(a[15]=[k("path",{d:"M5 0C2.23884 0 0 2.23884 0 5C0 7.76116 2.23884 10 5 10C7.76116 10 10 7.76116 10 5C10 2.23884 7.76116 0 5 0ZM5.24889 7.42411L5.25112 7.7779C5.25112 7.82701 5.21094 7.8683 5.16183 7.8683H4.84486C4.79576 7.8683 4.75558 7.82812 4.75558 7.77902V7.42857C3.76451 7.35491 3.29799 6.79017 3.24777 6.17634C3.24331 6.12388 3.2846 6.07924 3.33706 6.07924H3.85268C3.89621 6.07924 3.93415 6.11049 3.94085 6.1529C3.99777 6.5067 4.27344 6.7712 4.76785 6.83705V5.24442L4.49219 5.17411C3.90848 5.0346 3.35268 4.67076 3.35268 3.9163C3.35268 3.10268 3.97098 2.66518 4.76116 2.58817V2.21986C4.76116 2.17076 4.80134 2.13058 4.85045 2.13058H5.16406C5.21317 2.13058 5.25334 2.17076 5.25334 2.21986V2.58482C6.01786 2.66183 6.59152 3.10826 6.65848 3.80357C6.66406 3.85603 6.62276 3.90179 6.56919 3.90179H6.06808C6.02343 3.90179 5.98549 3.8683 5.97991 3.82478C5.93527 3.49888 5.67411 3.23326 5.24889 3.17522V4.6741L5.53237 4.73996C6.25558 4.91852 6.74777 5.26451 6.74777 6.03907C6.74777 6.87947 6.12277 7.34822 5.24889 7.42411ZM4.04688 3.86496C4.04688 4.14843 4.2221 4.36831 4.59933 4.50446C4.65179 4.52567 4.70424 4.54241 4.76674 4.56026V3.17634C4.35491 3.2288 4.04688 3.45982 4.04688 3.86496ZM5.34709 5.37388C5.31585 5.36718 5.2846 5.35938 5.24889 5.34933V6.84152C5.72433 6.79911 6.05246 6.53795 6.05246 6.10044C6.05246 5.75782 5.875 5.53459 5.34709 5.37388Z",fill:"currentColor"},null,-1)])])):(x(),w("svg",cA,[...a[16]||(a[16]=[k("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5 0C7.757 0 10 2.243 10 5C10 7.757 7.757 10 5 10C2.243 10 0 7.757 0 5C0 2.243 2.243 0 5 0ZM5.1 3C4.78 3 4.484 3.114 4.256 3.342L3.342 4.256C3.114 4.484 3 4.78 3 5.1C2.9953 5.41628 3.11864 5.72103 3.342 5.945L4.256 6.858C4.484 7.087 4.78 7.2 5.1 7.2C5.41434 7.19485 5.71531 7.07268 5.945 6.858L6.858 5.945C7.087 5.717 7.201 5.42 7.201 5.1C7.201 4.781 7.087 4.484 6.858 4.256L5.945 3.342C5.717 3.114 5.42 3 5.1 3ZM5.1 3.64C5.23799 3.64449 5.369 3.70176 5.466 3.8L6.379 4.712C6.48602 4.80272 6.54509 4.93783 6.539 5.078C6.53426 5.21564 6.477 5.34624 6.379 5.443L5.465 6.356C5.26 6.539 4.918 6.539 4.735 6.356L3.822 5.443C3.708 5.352 3.662 5.215 3.662 5.078C3.66649 4.94001 3.72376 4.80901 3.822 4.712L4.735 3.8C4.82551 3.69326 4.96018 3.63423 5.1 3.64Z",fill:"currentColor"},null,-1)])]))]),_:1})])])]),k("div",vA,[k("div",pA,[I(_(me.value.isAmount?h(A)("swapPrice"):h(A)("MC"))+" ",1),S(r,{class:"p-0 px-2px border-none hover:bg-[transparent] h-auto",onClick:a[5]||(a[5]=e=>me.value.isAmount=!me.value.isAmount)},{default:b(()=>[me.value.isAmount?(x(),w("svg",mA,[...a[17]||(a[17]=[k("path",{d:"M5 0C2.23884 0 0 2.23884 0 5C0 7.76116 2.23884 10 5 10C7.76116 10 10 7.76116 10 5C10 2.23884 7.76116 0 5 0ZM5.24889 7.42411L5.25112 7.7779C5.25112 7.82701 5.21094 7.8683 5.16183 7.8683H4.84486C4.79576 7.8683 4.75558 7.82812 4.75558 7.77902V7.42857C3.76451 7.35491 3.29799 6.79017 3.24777 6.17634C3.24331 6.12388 3.2846 6.07924 3.33706 6.07924H3.85268C3.89621 6.07924 3.93415 6.11049 3.94085 6.1529C3.99777 6.5067 4.27344 6.7712 4.76785 6.83705V5.24442L4.49219 5.17411C3.90848 5.0346 3.35268 4.67076 3.35268 3.9163C3.35268 3.10268 3.97098 2.66518 4.76116 2.58817V2.21986C4.76116 2.17076 4.80134 2.13058 4.85045 2.13058H5.16406C5.21317 2.13058 5.25334 2.17076 5.25334 2.21986V2.58482C6.01786 2.66183 6.59152 3.10826 6.65848 3.80357C6.66406 3.85603 6.62276 3.90179 6.56919 3.90179H6.06808C6.02343 3.90179 5.98549 3.8683 5.97991 3.82478C5.93527 3.49888 5.67411 3.23326 5.24889 3.17522V4.6741L5.53237 4.73996C6.25558 4.91852 6.74777 5.26451 6.74777 6.03907C6.74777 6.87947 6.12277 7.34822 5.24889 7.42411ZM4.04688 3.86496C4.04688 4.14843 4.2221 4.36831 4.59933 4.50446C4.65179 4.52567 4.70424 4.54241 4.76674 4.56026V3.17634C4.35491 3.2288 4.04688 3.45982 4.04688 3.86496ZM5.34709 5.37388C5.31585 5.36718 5.2846 5.35938 5.24889 5.34933V6.84152C5.72433 6.79911 6.05246 6.53795 6.05246 6.10044C6.05246 5.75782 5.875 5.53459 5.34709 5.37388Z",fill:"currentColor"},null,-1)])])):(x(),w("svg",fA,[...a[18]||(a[18]=[k("path",{d:"M9.02589 2.99465C9.33125 3.60428 9.5 4.2861 9.5 5.00802C9.5 7.48663 7.48304 9.5 5 9.5C2.51696 9.5 0.5 7.48663 0.5 5.00802C0.5 2.52941 2.50893 0.516043 5 0.516043V5.31283L9.02589 2.99465ZM5.64286 0.5V4.14171L8.69643 2.38503C7.99732 1.39037 6.90446 0.684492 5.64286 0.5Z",fill:"currentColor"},null,-1)])]))]),_:1})]),k("div",hA,_(h(A)("makers")),1)])]),Be.value.length>0?(x(),m(h(ko),{key:e.klineHeight,ref_key:"scroller",ref:te,list:Be.value,options:{itemHeight:24},style:{"margin-right":"-12px","padding-right":"12px"},class:"scrollbar-hide",height:(e.klineHeight??200)-75+"px"},{default:b(({data:e,index:n})=>{var o,i;return[k("div",{class:"grid grid-cols-[minmax(0,1fr)_minmax(0,1fr)] items-center gap-15px h-24px hover:bg-[rgba(255,255,255,.02)] relative z-10 overflow-hidden cursor-pointer mt-1px first:mt-0",onMouseenter:a[6]||(a[6]=e=>X.value=!0),onMouseleave:a[7]||(a[7]=e=>X.value=!1),onClick:l=>function({rowData:e}){if(M.value)if(an.includes(M.value.chain)){const{symbol:l,logo_url:a,chain:t,token:n}=M.value,{target_token:o,token0_address:s,token0_symbol:i,token1_symbol:r,pair:u}=D.value;W.$patch({drawerVisible:!0,tokenInfo:{id:$.params.id,symbol:l,logo_url:a,chain:t,address:n,remark:e.remark},pairInfo:{target_token:o,token0_address:s,token0_symbol:i,token1_symbol:r,pairAddress:u},user_address:e.wallet_address})}else window.open(Z(M.value.chain,e.transaction,"tx"))}({rowData:e})},[k("div",bA,[k("div",{class:"absolute inset-0 pointer-events-none",style:N({backgroundColor:Qe(e),transform:`scaleX(${Ke(e)})`,transformOrigin:"right"})},null,4),k("div",kA,[k("div",gA,[e.time&&Number(h(ye)(e.time,!0))<60?(x(),m(u,{key:`${e.time}${n}`,timestamp:e.time,"end-time":60},{default:b(({seconds:l})=>[k("span",_A,[l<60?(x(),w(T,{key:0},[I(_(l)+"s ",1)],64)):(x(),w(T,{key:1},[I(_(h(ye)(e.time)),1)],64))])]),_:2},1032,["timestamp"])):(x(),w("span",yA,_(h(ye)(e.time)),1))])]),k("div",wA,[k("div",{class:V([We(e),"font-medium truncate"])},[h(P).isUSDT?(x(),w("span",TA," $"+_(Xe(Ge(e,!0,!0),2)),1)):(x(),w("span",CA,[I(" $"+_(Xe(Ge(e,!0,!1),3))+" ",1),k("span",AA,_(null==(o=h(Ye)(e.chain))?void 0:o.main_name),1)]))],2)])]),k("div",SA,[k("div",NA,[k("div",$A,[me.value.isAmount?(x(),w("span",IA," $"+_(("formatNumber"in l?l.formatNumber:h(Q))(el(e,!0),{decimals:3})),1)):(x(),w("span",FA," $"+_(("formatNumber"in l?l.formatNumber:h(Q))(qe(e),{decimals:2})),1))])]),k("div",LA,[k("div",VA,[Ze.value>=480&&["solana","bsc"].includes(e.chain)&&e.senderProfile?(x(),w(T,{key:0},[nl(e)&&!(e.newTags||[]).map(e=>e.type).includes("47")?g((x(),m(s,{key:0,name:"custom:new-account",class:"w-12px h-12px mr-2px shrink-0 icon-hover hidden sm:block"},null,512)),[[F,{content:`<span style='color: #85E12F'>${l.$t("newTokenAccount")}</span>`,props:{"raw-content":!0,"popper-class":"signal-tags-tooltip"}}]]):f("",!0),ol(e)&&!(e.newTags||[]).map(e=>e.type).includes("46")?g((x(),m(s,{key:1,name:"custom:cleared-account",class:"w-12px h-12px mr-2px shrink-0 icon-hover hidden sm:block"},null,512)),[[F,{content:`<span style='color: #EB2B4B'>${l.$t("sellAl")}</span>`,props:{"raw-content":!0,"popper-class":"signal-tags-tooltip"}}]]):f("",!0),sl(e)?g((x(),m(s,{key:2,name:"custom:big",class:"w-12px h-12px mr-2px shrink-0 icon-hover hidden sm:block"},null,512)),[[F,{content:`<span style='color: #ccc'>${l.$t("whales")}</span>`,props:{"raw-content":!0,"popper-class":"signal-tags-tooltip"}}]]):f("",!0)],64)):f("",!0),Ze.value>=480?(x(),m(d,{key:1,tagClass:"mr-3px",tags:(e.newTags||[]).map(e=>h(H).matchTag(e.type)||e),walletAddress:e.wallet_address,chain:e.chain},null,8,["tags","walletAddress","chain"])):f("",!0),S(Rt,{remark:e.remark,address:e.wallet_address,"show-address":!((null==(i=null==e?void 0:e.newTags)?void 0:i.length)>1),chain:e.chain,wallet_logo:e.wallet_logo,addressClass:"inline-block truncate max-w-full "+(ee.value&&pe.value.wallet_address===e.wallet_address?"bg-#12B88633":""),"format-address":e=>Ze.value<480?null==e?void 0:e.slice(-3):"*"+(null==e?void 0:e.slice(-4)),class:"color-[--secondary-text] truncate min-w-0 !text-12px",mouseoverAddress:l=>function(e,l){var a;if(e&&t.includes(e.chain)){if(ve.value=l.currentTarget,(null==(a=pe.value)?void 0:a.wallet_address)===e.wallet_address)return;pe.value=e}}(e,l),canEdit:!1,onUpdateRemark:tl},null,8,["remark","address","show-address","chain","wallet_logo","addressClass","format-address","mouseoverAddress"]),e.count&&e.count>1?(x(),w("div",BA," ("+_(e.count)+") ",1)):f("",!0)])])])],40,xA),n===Be.value.length-1?(x(),w("div",{key:0,ref_key:"sentinel",ref:ne,style:{height:"1px"}},null,512)):f("",!0)]}),_:1},8,["list","height"])):f("",!0),0!==Be.value.length||le.value.loadingTxs?f("",!0):(x(),w("div",{key:1,class:"h-full flex flex-col items-center justify-center",style:N({height:(e.klineHeight??200)-105+"px"})},[...a[19]||(a[19]=[k("img",{src:ae,alt:""},null,-1)])],4))])),[[B,Fe.value]])]),g(k("div",DA,[k("div",MA,[S(s,{name:"custom:stop",class:"text-14px"}),k("span",PA,_(h(A)("paused")),1)])],512),[[ue,J.value]]),S(Nw,{modelValue:ee.value,"onUpdate:modelValue":a[8]||(a[8]=e=>ee.value=e),"virtual-ref":ve.value,currentRow:pe.value,addressAndChain:Ce.value},{default:b(()=>[pe.value.senderProfile?(x(),w(T,{key:0},[nl(pe.value)&&!(pe.value.newTags||[]).map(e=>e.type).includes("47")?g((x(),m(s,{key:0,name:"custom:new-account",class:"icon-hover"},null,512)),[[F,{content:`<span style='color: #85E12F'>${l.$t("newTokenAccount")}</span>`,props:{"raw-content":!0,"popper-class":"orderbook-icon-tooltip"}}]]):f("",!0),ol(pe.value)&&!(pe.value.newTags||[]).map(e=>e.type).includes("46")?g((x(),m(s,{key:1,name:"custom:cleared-account",class:"icon-hover"},null,512)),[[F,{content:`<span style='color: #EB2B4B'>${l.$t("sellAl")}</span>`,props:{"raw-content":!0,"popper-class":"orderbook-icon-tooltip"}}]]):f("",!0),sl(pe.value)?g((x(),m(s,{key:2,name:"custom:big",class:"icon-hover"},null,512)),[[F,{content:`<span style='color: #C5842B'>${l.$t("whales")}</span>`,props:{"raw-content":!0,"popper-class":"orderbook-icon-tooltip"}}]]):f("",!0)],64)):f("",!0),S(d,{tagClass:"mr-3px",tags:pe.value.newTags,walletAddress:pe.value.wallet_address,chain:pe.value.chain},null,8,["tags","walletAddress","chain"])]),_:1},8,["modelValue","virtual-ref","currentRow","addressAndChain"]),he.value?(x(),m(v,{key:0,modelValue:he.value,"onUpdate:modelValue":a[14]||(a[14]=e=>he.value=e),width:440,title:l.$t("markerAddressFilter"),"destroy-on-close":""},{default:b(()=>[a[22]||(a[22]=k("div",{class:"mx--16px h-1px bg-[--border] mb-20px"},null,-1)),k("div",EA,[k("label",UA,_(l.$t("markerAddress")),1)]),S(c,{id:"markerAddress",modelValue:be.value.markerAddress,"onUpdate:modelValue":a[9]||(a[9]=e=>be.value.markerAddress=e),clearable:"",class:"text-12px",placeholder:l.$t("markerAddress")},null,8,["modelValue","placeholder"]),k("div",RA,[k("label",null,_(l.$t("filter")),1)]),k("div",OA,[S(c,{modelValue:be.value.minVol,"onUpdate:modelValue":a[10]||(a[10]=e=>be.value.minVol=e),modelModifiers:{trim:!0,number:!0},clearable:"",type:"text",class:"text-12px",placeholder:l.$t("filterSmallAmount"),style:{"--el-input-border-color":"var(--border)"},onInput:a[11]||(a[11]=e=>be.value.minVol=e.replace(/\-|[^\d.]/g,""))},{suffix:b(()=>[...a[20]||(a[20]=[I("$",-1)])]),_:1},8,["modelValue","placeholder"]),S(c,{modelValue:be.value.maxVol,"onUpdate:modelValue":a[12]||(a[12]=e=>be.value.maxVol=e),modelModifiers:{trim:!0,number:!0},clearable:"",type:"text",class:"text-12px",placeholder:l.$t("filterLargeAmount"),style:{"--el-input-border-color":"var(--border)"},onInput:a[13]||(a[13]=e=>be.value.maxVol=e.replace(/\-|[^\d.]/g,""))},{suffix:b(()=>[...a[21]||(a[21]=[I("$",-1)])]),_:1},8,["modelValue","placeholder"])]),k("div",HA,[S(r,{class:"h-30px flex-1 m-l-auto",onClick:cl},{default:b(()=>[I(_(l.$t("reset")),1)]),_:1}),S(r,{type:"primary",class:"h-30px flex-1 m-l-auto",onClick:dl},{default:b(()=>[I(_(l.$t("confirm")),1)]),_:1})])]),_:1},8,["modelValue","title"])):f("",!0)],4)):f("",!0)}}}),[["__scopeId","data-v-24771540"]]),zA={class:"flex bg-[--main-divider] gap-1px flex min-w-0 w-full",style:{"min-height":"calc(100vh - 92px)"}},WA={class:"flex-1 min-w-0"},qA={class:"flex gap-1px"},GA={class:"hide-scrollbar"},YA={class:"flex-1 hide-scrollbar min-w-0 relative"},QA=M(o({__name:"[[id]]",setup(e){const t=i(),n=W(),o=Oe(),s=Uw(),p=j(),_=c(()=>p.isShowWaring?A.tokenHistoryVisible?"calc(100vh - 230px)":"calc(100vh - 198px)":A.tokenHistoryVisible?"calc(100vh - 190px)":"calc(100vh - 158px)"),A=O(),$=z(),I=c(()=>{var e;const l=null==(e=$.userInfo)?void 0:e.addresses;return Array.isArray(l)?Array.from(new Set(l.map(e=>e.address))):[]}),F=je(),D=Nt("orderBookVisible",!1);xn("orderBookVisible",D);const M=R([]);xn(Yt.KLINE_DATE_FILTER,M);const P=Nt("kHeight",Vt.KLINE),E=Nt("orderBookWidth",300),U=v({summary:"",headline:""});let H=!1;const q=c(()=>$.evmAddress||n.address);function G(e){e.preventDefault();let l=e.clientX;H=!0;let a=document.getElementById("tv_chart_container");a&&(a.style.pointerEvents="none");const t=document.body.style.cursor,n=document.body.style.userSelect;document.body.style.cursor="col-resize",document.body.style.userSelect="none";let o=!1,s=l;const i=e=>{H&&(s=e.clientX,o||(o=!0,requestAnimationFrame(()=>{const e=s,a=l-e,t=E.value+a;E.value=Math.min(400,Math.max(300,t)),l=e,o=!1})))},r=()=>{H=!1,window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",r),a&&(a.style.pointerEvents="auto"),a=null,document.body.style.cursor=t,document.body.style.userSelect=n};return window.addEventListener("mousemove",i),window.addEventListener("mouseup",r,{once:!0}),!1}function Y(){const e=Array.isArray(t.params.id)?t.params.id[0]:t.params.id;hn(e).then(e=>{U.value=e??{summary:"",headline:""}}).catch(e=>{}).finally(()=>{})}u(()=>{Y()}),d([()=>t.params.id,()=>o.locale],()=>{Y()}),xn("aiSummary",U);const Q=v(!0);function K(){Dt().reset();const{address:e,chain:l}=r(t.params.id);F.send({jsonrpc:"2.0",method:"unsubscribe",params:[Cl.PUBLIC_PORTRAIT],id:1}),F.send({jsonrpc:"2.0",method:"subscribe",params:[Cl.PUBLIC_PORTRAIT,e,l],id:1})}function X(e=!1){p.tokenPrice=0,function(){const e=t.params.id;return p.loadingToken=!0,Ql(e).then(e=>{var l,a,t,n,o,s,i,r;p.tokenInfo=e,p.pairAddress=(null==(l=null==e?void 0:e.pairs)?void 0:l[0].pair)||"";const u=null==(o=null==(a=Ne)?void 0:a.includes)?void 0:o.call(a,(null==(t=null==e?void 0:e.token)?void 0:t.chain)+"-"+((null==(n=null==e?void 0:e.token)?void 0:n.launchpad)||""));(null==(r=null==(s=$e)?void 0:s.includes)?void 0:r.call(s,(null==(i=null==e?void 0:e.token)?void 0:i.chain)||""))||u||(p.selectedToken=!1)}).finally(()=>{p.loadingToken=!1})}().then(()=>{e||function(){if(p.tokenInfo){const{logo_url:e,symbol:l,chain:a,token:t}=p.tokenInfo.token;-1===A.lastVisitTokens.findIndex(e=>e.id===t+"-"+a)&&(A.lastVisitTokens.length>=20&&A.lastVisitTokens.pop(),A.lastVisitTokens.unshift({id:t+"-"+a,logo_url:e,symbol:l,price_change:p.priceChange,price_change_v2:p.priceChangeV2,circulation:p.circulation.toString(),price:p.price||0})),vo().sendPriceWs()}}()}),function(){const e=t.params.id;Kl(e).then(e=>{p.tokenInfoExtra=e})}(),p._getTotalHolders(t.params.id),s.getTagArr(),p.twitterType=0,p.getXType(t.params.id),Pn().getContractCheckResult(t.params.id,q.value)}function Z(){Q.value=!document.hidden||"visible"===document.visibilityState}function J(){X(!0)}xn("documentVisible",Q),d(()=>I.value,()=>{var e;(null==(e=I.value)?void 0:e.length)&&$.subBalanceChange()},{immediate:!0}),d(()=>t.params.id,()=>{X(),K()}),mn(()=>{X(),K(),document.addEventListener("visibilitychange",Z)}),re(()=>{var e,l,a;null==(e=null==p?void 0:p.reset)||e.call(p),null==(l=F.clearTokenRelatedResult)||l.call(F),null==(a=F.getWSInstance())||a.offMessage(["tx_update_token","kline","price"]),F.send({jsonrpc:"2.0",method:"unsubscribe",params:["asset"],id:1}),F.send({jsonrpc:"2.0",method:"unsubscribe",params:[Cl.PUBLIC_PORTRAIT],id:1}),document.removeEventListener("visibilitychange",Z)}),fn(()=>{var e;null==(e=F.getWSInstance())||e.offMessage(["tx_update_token","kline","price"]),document.removeEventListener("visibilitychange",Z)});const ee=Ll("klineContainer"),le=({scrollTop:e})=>{var l,a;null==(a=null==(l=ee.value)?void 0:l.setScrollTop)||a.call(l,e)};return(e,t)=>{const n=l,o=a,s=y;return x(),w("div",zA,[k("div",WA,[h(A).tokenHistoryVisible?(x(),m(n,{key:0,class:"mb-1px"})):f("",!0),S(sv),k("div",qA,[k("div",GA,[S(o,{height:h(_)},{default:b(()=>[S(h(ky),{class:"w-292px flex flex-col flex-shrink-0"})]),_:1},8,["height"])]),k("div",YA,[g(k("div",{class:"absolute bg-[--main-list-hover] w-10px h-32px z-2 cursor-pointer flex items-center justify-center left--11px hover:w-30px hover:left--31px hover:h-36px transition-all rounded-tl-4px rounded-bl-4px color-[--third-text] hover:color-[--main-text]",onClick:t[0]||(t[0]=e=>h(A).$patch({showLeft:!1}))},[S(s,{name:"material-symbols:arrow-back-ios-new-rounded",class:"text-12px"})],512),[[ue,h(A).showLeft]]),g(k("div",{class:"absolute bg-[--main-list-hover] w-10px h-32px z-2 cursor-pointer flex items-center justify-center left-0 hover:w-30px hover:h-36px transition-all rounded-tr-4px rounded-br-4px color-[--third-text] hover:color-[--main-text]",onClick:t[1]||(t[1]=e=>h(A).$patch({showLeft:!0}))},[S(s,{name:"material-symbols:arrow-forward-ios",class:"text-12px"})],512),[[ue,!h(A).showLeft]]),g(k("div",{class:"absolute bg-[--main-list-hover] w-10px h-32px z-1 cursor-pointer flex items-center justify-center top-0px right-0 hover:w-30px hover:h-36px transition-all rounded-tl-4px rounded-bl-4px color-[--third-text] hover:color-[--main-text]",onClick:t[2]||(t[2]=e=>h(A).$patch({showRight:!0}))},[S(s,{name:"material-symbols:arrow-back-ios-new-rounded",class:"text-12px"})],512),[[ue,!h(A).showRight]]),S(o,{height:h(_),onScroll:le},{default:b(()=>[k("div",{class:V(h(D)?"grid gap-1px":"grid grid-cols-1 gap-1px"),style:N(h(D)?{gridTemplateColumns:`1fr 4px ${h(E)}px`}:{})},[k("div",null,[S(Wn,{ref:"klineContainer",onRefresh:J},null,512)]),h(D)?(x(),w("div",{key:0,class:"cursor-col-resize bg-[--d-222-l-F2F2F2] hover:bg-[--d-666-l-CCC] flex flex-col items-center justify-center gap-1px w-4px",onMousedown:L(G,["stop","prevent"])},[(x(),w(T,null,C(4,e=>k("span",{key:e,class:"bg-[--d-444-l-999] w-2px h-2px rounded-full"})),64))],32)):f("",!0),S(h(jA),{modelValue:h(D),"onUpdate:modelValue":t[3]||(t[3]=e=>B(D)?D.value=e:null),"kline-height":h(P)+3},null,8,["modelValue","kline-height"])],6),S(h(JC),{class:"min-h-300px rounded-4px bg-[--d-000-l-F6F6F6]"})]),_:1},8,["height"])])])]),S(m_,{class:"w-334px flex-shrink-0"})])}}}),[["__scopeId","data-v-25dc3d84"]]),KA=Object.freeze(Object.defineProperty({__proto__:null,default:QA},Symbol.toStringTag,{value:"Module"}));export{cC as S,Ay as _,jp as a,KA as b,Rm as u};
